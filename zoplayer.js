!function(e,t,n,i){null===e.getElementById(t)&&((i=e.createElement("div")).setAttribute("id",t),i.setAttribute("hidden",""),i.innerHTML='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="mow-share" viewBox="0 0 26 26"><path d="M13 26C5.8 26 0 20.2 0 13S5.8 0 13 0s13 5.8 13 13-5.8 13-13 13zm0-24C6.9 2 2 6.9 2 13s4.9 11 11 11 11-4.9 11-11S19.1 2 13 2z"/><path d="M8.6 17.8H6.8v-.9c0-4.4 3.6-7.6 8.6-7.6h3V11h-3c-4 0-6.9 2.5-6.9 5.9v.9z"/><path d="M15 14.7l-1.2-1.3 3.3-3.2-3.3-3.3L15 5.7l4.5 4.5z"/></symbol><symbol id="mow-close" viewBox="0 0 20 20"><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath><path clip-path="url(#a)" d="M19 20c-.3 0-.5-.1-.7-.3L10 11.4l-8.3 8.3c-.4.4-1 .4-1.4 0s-.4-1 0-1.4L8.6 10 .3 1.7C-.1 1.3-.1.7.3.3s1-.4 1.4 0L10 8.6 18.3.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4L11.4 10l8.3 8.3c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z"/></symbol><symbol id="mow-facebook" viewBox="0 0 112.196 112.196"><circle cx="56.098" cy="56.098" fill="#3b5998" r="56.098"/><path d="M70.201 58.294h-10.01v36.672H45.025V58.294h-7.213V45.406h7.213v-8.34c0-5.964 2.833-15.303 15.301-15.303l11.234.047v12.51h-8.151c-1.337 0-3.217.668-3.217 3.513v7.585h11.334z" fill="#fff"/></symbol><symbol id="mow-twitter" viewBox="0 0 112.197 112.197"><circle cx="56.099" cy="56.098" fill="#55acee" r="56.098"/><path d="M90.461 40.316a26.753 26.753 0 01-7.702 2.109 13.445 13.445 0 005.897-7.417 26.843 26.843 0 01-8.515 3.253 13.396 13.396 0 00-9.79-4.233c-7.404 0-13.409 6.005-13.409 13.409 0 1.051.119 2.074.349 3.056-11.144-.559-21.025-5.897-27.639-14.012a13.351 13.351 0 00-1.816 6.742c0 4.651 2.369 8.757 5.965 11.161a13.314 13.314 0 01-6.073-1.679l-.001.17c0 6.497 4.624 11.916 10.757 13.147a13.362 13.362 0 01-3.532.471c-.866 0-1.705-.083-2.523-.239 1.706 5.326 6.657 9.203 12.526 9.312a26.904 26.904 0 01-16.655 5.74c-1.08 0-2.15-.063-3.197-.188a37.929 37.929 0 0020.553 6.025c24.664 0 38.152-20.432 38.152-38.153 0-.581-.013-1.16-.039-1.734a27.192 27.192 0 006.692-6.94z" fill="#f1f2f2"/></symbol><symbol id="mow-linkedin" viewBox="0 0 291.319 291.319"><path d="M145.659 0c80.45 0 145.66 65.219 145.66 145.66s-65.21 145.659-145.66 145.659S0 226.1 0 145.66 65.21 0 145.659 0z" fill="#0e76a8"/><path d="M82.079 200.136h27.275v-90.91H82.079zm106.259-94.059c-13.237 0-25.081 4.834-33.483 15.504v-12.654H127.48v91.21h27.375v-49.324c0-10.424 9.55-20.593 21.512-20.593s14.912 10.169 14.912 20.338v49.57h27.275v-51.6c-.001-35.842-16.97-42.451-30.216-42.451zm-92.749-5.936c7.538 0 13.656-6.118 13.656-13.656S103.127 72.83 95.589 72.83s-13.656 6.118-13.656 13.656 6.118 13.655 13.656 13.655z" fill="#fff"/></symbol><symbol id="mow-email" viewBox="0 0 612 612"><path d="M306 612c-28.152 0-55.284-3.672-81.396-11.016-26.112-7.347-50.49-17.646-73.134-30.906s-43.248-29.172-61.812-47.736a305.032 305.032 0 01-47.736-61.812c-13.26-22.646-23.562-47.022-30.906-73.135C3.672 361.284 0 334.152 0 306s3.672-55.284 11.016-81.396 17.646-50.49 30.906-73.134 29.172-43.248 47.736-61.812 39.168-34.476 61.812-47.736 47.022-23.562 73.134-30.906S277.848 0 306 0c42.024 0 81.702 8.058 119.034 24.174s69.768 37.944 97.308 65.484 49.368 59.976 65.484 97.308S612 263.976 612 306c0 28.152-3.672 55.284-11.016 81.396-7.347 26.109-17.646 50.487-30.906 73.134a305.087 305.087 0 01-47.736 61.812 304.924 304.924 0 01-61.812 47.736c-22.646 13.26-47.022 23.562-73.136 30.906C361.284 608.328 334.152 612 306 612zm147.492-432.072H163.404c-2.856 0-5.304.918-7.344 2.754s-3.06 4.386-3.06 7.65v32.436c0 1.632.612 2.448 1.836 2.448l152.388 86.904 1.227.612c.813 0 1.428-.204 1.836-.612l147.492-86.904c.813-.408 1.428-.612 1.836-.612.405 0 1.02-.204 1.836-.612 1.632 0 2.448-.816 2.448-2.448v-31.212c0-3.264-1.021-5.814-3.063-7.65s-4.488-2.754-7.344-2.754zm-208.08 130.356c.408-.408.612-1.021.612-1.836 0-1.227-.408-1.836-1.224-1.836l-87.516-50.185c-1.224-.408-2.244-.408-3.06 0-.816 0-1.224.612-1.224 1.836v131.58c0 1.227.612 2.04 1.836 2.448h1.224c.816 0 1.224-.204 1.224-.612zm106.488 9.792c-.408-1.227-1.431-1.428-3.063-.612l-33.66 19.584c-4.08 2.448-8.361 2.448-12.852 0l-29.376-16.521c-1.224-.816-2.244-.816-3.06 0l-111.996 104.04c-.408.405-.612 1.224-.612 2.445 0 .408.408 1.021 1.224 1.836 2.448.816 4.08 1.227 4.896 1.227H450.43c.816 0 1.635-.408 2.448-1.227 0-1.632-.204-2.649-.612-3.06zm110.16-66.096h-2.445l-83.232 49.572c-.813 0-1.224.612-1.224 1.836-.408.408-.204 1.02.609 1.833L459 397.188c.816.816 1.428 1.227 1.836 1.227h1.224c1.227-1.227 1.839-2.04 1.839-2.448V256.429c-.003-.817-.615-1.633-1.839-2.449z"/></symbol><symbol id="mow-settings" viewBox="0 0 5.3 24"><path d="M2.7 9.3c1.5 0 2.7 1.2 2.7 2.7s-1.2 2.7-2.7 2.7S0 13.5 0 12s1.2-2.7 2.7-2.7M2.7 0c1.5 0 2.7 1.2 2.7 2.7S4.2 5.4 2.7 5.4 0 4.1 0 2.7C0 1.2 1.2 0 2.7 0M2.7 18.7c1.5 0 2.7 1.2 2.7 2.7S4.1 24 2.7 24 0 22.8 0 21.3s1.2-2.6 2.7-2.6"/></symbol><symbol id="mow-copy" viewBox="0 0 96.991 96.991"><path d="M84.813 40.106L73.244 28.535a1.778 1.778 0 00-1.257-.521H60.774V13.35c0-.473-.188-.924-.521-1.257L48.685.521A1.782 1.782 0 0047.427 0H13.435c-.982 0-1.778.796-1.778 1.778V67.2c0 .981.796 1.778 1.778 1.778h22.781v26.234c0 .982.796 1.778 1.777 1.778h45.562c.982 0 1.778-.796 1.778-1.778v-53.85a1.764 1.764 0 00-.52-1.256zM17.347 5.69H45l.014 9.142a.901.901 0 00.903.903h9.17v47.556h-37.74zm62.299 85.615h-37.74V68.979h17.092c.981 0 1.776-.795 1.776-1.777V33.704h8.783l.015 9.142a.905.905 0 00.904.903h9.17z"/></symbol><symbol id="mow-play-thin" viewBox="0 0 18 18"><path d="M6.1 13.8c-.2 0-.4-.2-.4-.4V3.9L14.5 9l-3.9 2.2c-.2.1-.4.1-.5-.2-.1-.2-.1-.4.2-.5L13 9 6.5 5.2v8.2c0 .2-.2.4-.4.4z"/><path d="M9 18c-3.8 0-7.1-2.2-8.4-5.7-.1-.2 0-.4.2-.5s.4 0 .5.2c1.3 3.2 4.3 5.2 7.7 5.2 4.5 0 8.2-3.7 8.2-8.2S13.5.8 9 .8C5.6.8 2.6 2.8 1.3 6c-.1.2-.3.3-.5.2-.3-.1-.3-.3-.3-.5C1.9 2.2 5.2 0 9 0c5 0 9 4 9 9s-4 9-9 9z"/><path d="M6.1 13.8c-.2 0-.4-.2-.4-.4V3.9L14.5 9l-3.9 2.2c-.2.1-.4.1-.5-.2-.1-.2-.1-.4.2-.5L13 9 6.5 5.2v8.2c0 .2-.2.4-.4.4z"/></symbol><symbol id="mow-pause-thin" viewBox="0 0 33 34"><path d="M16 34C8.9 34 2.6 29.8.1 23.2c-.2-.5.1-1.1.6-1.3s1.1.1 1.3.6C4.2 28.3 9.7 32 16 32c8.3 0 15-6.7 15-15S24.3 2 16 2C9.8 2 4.3 5.7 2 11.5c-.2.5-.8.8-1.3.6s-.8-.8-.6-1.3C2.7 4.2 8.9 0 16 0c9.4 0 17 7.6 17 17s-7.6 17-17 17z"/><path d="M12.4 25.2c-.6 0-1-.4-1-1V9.8c0-.6.4-1 1-1s1 .4 1 1v14.4c0 .6-.5 1-1 1zM20.6 25.2c-.6 0-1-.4-1-1V9.8c0-.6.4-1 1-1s1 .4 1 1v14.4c0 .6-.4 1-1 1z"/></symbol><symbol id="mow-play" viewBox="0 0 25.3 26"><path d="M9.3 19c-.6 0-1-.4-1-1V6.2L20 13l-5.2 3c-.5.3-1.1.1-1.4-.4s-.1-1.1.4-1.4L16 13l-5.7-3.3V18c0 .5-.5 1-1 1z"/><path d="M12.2 26C6.8 26 2 22.8.1 17.7c-.2-.5.1-1.1.6-1.3s1.1.1 1.3.6c1.7 4.3 5.7 7 10.3 7 6.1 0 11-4.9 11-11s-5-11-11-11C7.7 2 3.6 4.7 1.9 9c-.2.5-.7.7-1.3.5-.5-.2-.7-.8-.5-1.3 2-5 6.7-8.2 12.1-8.2 7.2 0 13 5.8 13 13s-5.8 13-13 13z"/></symbol><symbol id="mow-pause" viewBox="0 0 25.3 26"><path d="M12.2 26C6.8 26 2 22.8.1 17.7c-.2-.5.1-1.1.6-1.3s1.1.1 1.3.6c1.7 4.3 5.7 7 10.3 7 6.1 0 11-4.9 11-11s-5-11-11-11C7.7 2 3.6 4.7 1.9 9c-.2.5-.7.7-1.3.5-.5-.2-.7-.8-.5-1.3 2-5 6.7-8.2 12.1-8.2 7.2 0 13 5.8 13 13 .1 7.2-5.8 13-13 13z"/><path d="M9.8 18.9c-.5 0-.9-.4-.9-.9V8c0-.5.4-.9.9-.9s.9.4.9.9v10c0 .5-.4.9-.9.9zM15.5 18.9c-.5 0-.9-.4-.9-.9V8c0-.5.4-.9.9-.9s.9.4.9.9v10c0 .5-.4.9-.9.9z"/></symbol><symbol id="mow-enter-fullscreen" viewBox="0 0 16 16"><path d="M13.4 16h-2.3c-.6 0-1-.4-1-1s.4-1 1-1h2.3c.3 0 .6-.2.6-.6v-2.3c0-.6.4-1 1-1s1 .4 1 1v2.3c0 1.5-1.1 2.6-2.6 2.6zm-8.5 0H2.6C1.1 16 0 14.9 0 13.4v-2.3c0-.6.4-1 1-1s1 .4 1 1v2.3c0 .4.2.6.6.6h2.3c.6 0 1 .4 1 1s-.5 1-1 1zM15 5.9c-.6 0-1-.4-1-1V2.6c0-.4-.2-.6-.6-.6h-2.3c-.6 0-1-.4-1-1s.4-1 1-1h2.3C14.9 0 16 1.1 16 2.6v2.3c0 .5-.4 1-1 1zm-14 0c-.6 0-1-.4-1-1V2.6C0 1.1 1.1 0 2.6 0h2.3c.6 0 1 .4 1 1s-.4 1-1 1H2.6c-.4 0-.6.2-.6.6v2.3c0 .5-.4 1-1 1z"/></symbol><symbol id="mow-exit-fullscreen" viewBox="0 0 26 26"><clipPath id="a"><path d="M0 0h26v26H0z"/></clipPath><clipPath id="b"><path d="M0 0h26v26H0z"/></clipPath><clipPath id="c"><path d="M0 0h26v26H0z"/></clipPath><clipPath id="d"><path d="M0 0h26v26H0z"/></clipPath><path clip-path="url(#a)" d="M8.7 8.7H0v-2h6.7V0h2z"/><path clip-path="url(#b)" d="M26 8.7h-8.7V0h2v6.7H26z"/><path clip-path="url(#c)" d="M8.7 26h-2v-6.7H0v-2h8.7z"/><path clip-path="url(#d)" d="M19.3 26h-2v-8.7H26v2h-6.7z"/></symbol><symbol id="mow-previous-track" viewBox="0 0 15.8 17.8"><path d="M14.9 17.8c-.2 0-.4-.1-.6-.2l-10-8c-.2-.2-.3-.4-.3-.7s.1-.5.3-.7l10-8c.3-.2.7-.3 1-.1.3.1.5.5.5.8v16c0 .3-.2.7-.5.8-.1 0-.3.1-.4.1zM6.3 8.9L14 15V2.7zM.9 16.8c-.5 0-.9-.4-.9-.9v-14c0-.5.4-.9.9-.9s.9.4.9.9v14c0 .5-.4.9-.9.9z"/></symbol><symbol id="mow-next-track" viewBox="0 0 15.8 17.8"><path d="M.9 0c.2 0 .4.1.6.2l10 8c.2.2.3.4.3.7s-.1.5-.3.7l-10 8c-.3.2-.6.3-.9.1-.4-.2-.6-.5-.6-.8V.9C0 .6.2.2.5.1.6 0 .8 0 .9 0zm8.6 8.9L1.8 2.7V15zM14.9 1c.5 0 .9.4.9.9v14c0 .5-.4.9-.9.9s-.9-.4-.9-.9v-14c0-.5.4-.9.9-.9z"/></symbol><symbol id="mow-volume" viewBox="0 0 21.7 15.8"><path d="M9.8 15.7c-.2 0-.4-.1-.5-.2l-4.8-3.8H.8c-.5 0-.8-.4-.8-.8v-6c0-.5.4-.8.8-.8h3.7L9.3.3c.3-.2.6-.3.9-.1.3.1.5.4.5.8v14c0 .3-.2.6-.5.8-.1-.1-.2-.1-.4-.1zm-8.1-5.6h3.2c.2 0 .4.1.5.2L9 13.2V2.6l-3.6 3c-.2.1-.4.1-.6.1H1.7zM17.9 15.8c-.2 0-.4-.1-.6-.2-.3-.3-.3-.9 0-1.2 3.6-3.6 3.6-9.4 0-13-.3-.3-.3-.9 0-1.2s.9-.3 1.2 0c4.2 4.2 4.2 11.1 0 15.3-.2.2-.4.3-.6.3zm-3.5-3.5c-.2 0-.4-.1-.6-.2-.3-.3-.3-.9 0-1.2 1.6-1.6 1.6-4.3 0-5.9-.3-.3-.3-.9 0-1.2s.9-.3 1.2 0c2.3 2.3 2.3 6 0 8.2-.2.2-.4.3-.6.3z"/></symbol><symbol id="mow-volume-down" viewBox="0 0 341.333 341.333"><path d="M26.667 106.667v128H112l106.667 106.666V0L112 106.667zM261.333 84.8v171.84c31.573-15.787 53.333-48.32 53.333-85.973S292.907 100.48 261.333 84.8z"/></symbol><symbol id="mow-muted" viewBox="0 0 25.9 17.9"><path d="M11.2 17.9c-.2 0-.4-.1-.6-.2l-5.5-4.4H.9c-.5 0-.9-.4-.9-.9V5.5c0-.5.4-.9.9-.9h4.2L10.6.2c.3-.2.7-.3 1-.1s.5.5.5.8v16c0 .4-.2.7-.5.8-.1.2-.2.2-.4.2zm-9.3-6.5h3.6c.2 0 .4.1.6.2l4.2 3.3v-12L6.1 6.2c-.2.2-.4.3-.6.3H1.9zM18.1 13.3c-.2 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.3l6.9-6.9c.4-.4 1-.4 1.3 0 .4.4.4 1 0 1.3L18.7 13c-.1.2-.4.3-.6.3z"/><path d="M24.9 13.3c-.2 0-.5-.1-.7-.3l-6.9-6.9c-.4-.4-.4-1 0-1.3.4-.4 1-.4 1.3 0l6.9 6.9c.4.4.4 1 0 1.3-.1.2-.3.3-.6.3z"/></symbol><symbol id="mow-seek-forward" viewBox="0 0 489.5 489.5"><path d="M221.4 488.2c-98.2-11-176.9-89.5-188.1-187.7C18.6 172.1 118.4 62.8 243.5 61.4V3.8c0-3.2 4-4.9 6.7-2.9L368.8 88c2 1.5 2 4.4 0 5.9L250.2 181c-2.7 2-6.7.2-6.7-2.9v-57.5C155.6 122 85.2 196.8 91.2 286.2c5.1 76.9 67.8 139.3 144.7 144.2 81.5 5.2 150.8-53 163.2-130 2.3-14.3 14.8-24.7 29.2-24.7 17.9 0 31.9 15.9 29.1 33.6-17.4 109.7-118.7 192-236 178.9z"/><text font-family="&apos;Montserrat&apos;" font-size="200" font-weight="900" transform="translate(175 350)">5</text></symbol><symbol id="mow-seek-backward" viewBox="0 0 489.5 489.5"><path d="M268.2 488.2c98.2-11 176.9-89.5 188.1-187.7C471 172.1 371.2 62.8 246.1 61.4V3.8c0-3.2-4-4.9-6.7-2.9L120.8 88c-2 1.5-2 4.4 0 5.9L239.4 181c2.7 2 6.7.2 6.7-2.9v-57.5c87.9 1.4 158.3 76.2 152.3 165.6-5.1 76.9-67.8 139.3-144.7 144.2-81.5 5.2-150.8-53-163.2-130-2.3-14.3-14.8-24.7-29.2-24.7-17.9 0-31.9 15.9-29.1 33.6 17.4 109.7 118.7 192 236 178.9z"/><text font-family="&apos;Montserrat&apos;" font-size="200" font-weight="900" transform="translate(175 350)">5</text></symbol><symbol id="mow-left-angle" viewBox="0 0 13.2 20"><path d="M12.2 20c-.2 0-.4-.1-.6-.2l-11.2-9c-.3-.2-.4-.5-.4-.8s.1-.6.4-.8l11.2-9c.4-.3 1.1-.3 1.4.2.3.4.3 1.1-.2 1.4L2.6 10l10.3 8.2c.4.3.5 1 .2 1.4-.3.3-.6.4-.9.4z"/></symbol><symbol id="mow-right-angle" viewBox="0 0 13.2 20"><path d="M1 0c.2 0 .4.1.6.2l11.2 9c.2.2.4.5.4.8s-.1.6-.4.8l-11.2 9c-.4.3-1.1.3-1.4-.2-.3-.4-.3-1.1.2-1.4L10.6 10 .4 1.8C0 1.5-.1.8.2.4.4.1.7 0 1 0z"/></symbol><symbol id="mow-replay" viewBox="0 0 510 510"><path d="M255 102V0L127.5 127.5 255 255V153c84.15 0 153 68.85 153 153s-68.85 153-153 153-153-68.85-153-153H51c0 112.2 91.8 204 204 204s204-91.8 204-204-91.8-204-204-204z"/></symbol><symbol id="mow-audio-previous" viewBox="0 0 23 26"><path d="M22 26c-.2 0-.4-.1-.6-.2l-15-12c-.3-.2-.4-.5-.4-.8s.1-.6.4-.8l15-12c.3-.2.7-.3 1.1-.1.3.2.5.5.5.9v24c0 .4-.2.7-.6.9-.1.1-.3.1-.4.1zM8.6 13L21 22.9V3.1zM1 24.5c-.6 0-1-.4-1-1v-21c0-.6.4-1 1-1s1 .4 1 1v21c0 .6-.4 1-1 1z"/></symbol><symbol id="mow-audio-next" viewBox="0 0 23 26"><path d="M1 26c.2 0 .4-.1.6-.2l15-12c.3-.2.4-.5.4-.8s-.1-.6-.4-.8L1.6.2C1.3 0 .9-.1.5.1.2.3 0 .6 0 1v24c0 .4.2.7.6.9.1.1.3.1.4.1zm13.4-13L2 22.9V3.1zM22 24.5c.6 0 1-.4 1-1v-21c0-.6-.4-1-1-1s-1 .4-1 1v21c0 .6.4 1 1 1z"/></symbol><symbol id="mow-audio-seek-forward" viewBox="0 0 24.9 34.2"><path d="M20.6 11.8c-.6 0-1-.4-1-1 0-4.9-3.9-8.8-8.8-8.8S2 5.9 2 10.8c0 .6-.4 1-1 1s-1-.4-1-1C0 4.8 4.8 0 10.8 0s10.8 4.8 10.8 10.8c0 .6-.4 1-1 1z"/><path d="M20.7 12.2c-.2 0-.4-.1-.6-.2l-4.7-3.3c-.5-.3-.6-.9-.2-1.4.3-.5.9-.6 1.4-.2l3.9 2.7L23.1 6c.3-.5.9-.6 1.4-.2.5.3.6.9.2 1.4l-3.2 4.6c-.2.2-.4.4-.6.4h-.2z"/><text font-family="&apos;Roboto-Bold&apos;" font-size="18" transform="translate(.598 29.324)">10</text></symbol><symbol id="mow-audio-seek-backward" viewBox="0 0 24.9 34.2"><path d="M23.9 11.8c-.6 0-1-.4-1-1C22.9 5.9 19 2 14.1 2s-8.8 3.9-8.8 8.8c0 .6-.4 1-1 1s-1-.4-1-1C3.3 4.8 8.1 0 14.1 0s10.8 4.8 10.8 10.8c0 .6-.4 1-1 1z"/><path d="M4.2 12.2H4c-.3 0-.5-.2-.6-.4L.2 7.2c-.3-.5-.2-1.1.2-1.4.5-.3 1.1-.2 1.4.2l2.6 3.8 3.9-2.7c.5-.3 1.1-.2 1.4.2.3.5.2 1.1-.2 1.4L4.8 12c-.2.1-.4.2-.6.2z"/><text font-family="&apos;Roboto-Bold&apos;" font-size="18" transform="translate(3.598 29.324)">10</text></symbol><symbol id="mow-audio-shuffle" viewBox="0 0 33.6 24"><path d="M26.2 20.6H21c-1.1 0-2.1-.4-2.8-1.3L7.2 5.8c-.3-.4-.8-.5-1.1-.5H1c-.6 0-1-.4-1-1s.4-1 1-1h5.1c1.2 0 2.2.5 2.7 1.3L19.7 18c.3.3.7.5 1.2.5h5.2c.6 0 1 .4 1 1s-.3 1.1-.9 1.1z"/><path d="M6.3 20.6H1c-.6 0-1-.4-1-1s.4-1 1-1h5.3c.4 0 .8-.2 1.1-.5l11-13.5c.7-.8 1.7-1.3 2.8-1.3h5.1c.6 0 1 .4 1 1s-.4 1-1 1h-5.1c-.5 0-.9.2-1.2.5L9 19.3c-.7.8-1.7 1.3-2.7 1.3z"/><path d="M33.3 3.8L26.8.1c-.4-.2-.9.1-.9.5v7.5c0 .5.5.8.9.5l6.5-3.7c.4-.3.4-.8 0-1.1zM33.3 19.1l-6.5-3.7c-.4-.2-.9.1-.9.5v7.5c0 .5.5.8.9.5l6.5-3.7c.4-.3.4-.8 0-1.1z"/></symbol><symbol id="mow-audio-volume" viewBox="0 0 35.9 26"><path d="M16.3 25.9c-.2 0-.4-.1-.6-.2l-8.2-6.6H1c-.6 0-1-.4-1-1V7.9c0-.6.4-1 1-1h6.4L15.6.3c.4-.2.8-.3 1.1-.1s.6.5.6.9v23.8c0 .4-.2.7-.6.9-.1.1-.3.1-.4.1zM2 17.1h5.8c.2 0 .4.1.6.2l6.9 5.5V3.2L8.4 8.7c-.2.1-.4.2-.6.2H2zM30 26c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4 6.2-6.2 6.2-16.4 0-22.6-.4-.4-.4-1 0-1.4s1-.4 1.4 0c7 7 7 18.4 0 25.4-.2.2-.4.3-.7.3zm-6-6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4 2.9-2.9 2.9-7.7 0-10.6-.4-.4-.4-1 0-1.4s1-.4 1.4 0c3.7 3.7 3.7 9.7 0 13.4-.2.2-.4.3-.7.3z"/></symbol><symbol id="mow-audio-muted" viewBox="0 0 27.5 19"><path d="M11.9 19c-.2 0-.4-.1-.6-.2l-5.8-4.6H1c-.6 0-1-.4-1-1V5.9c0-.6.4-1 1-1h4.5L11.3.3c.3-.3.7-.4 1.1-.2.3.2.6.5.6.9v17c0 .4-.2.7-.6.9-.2.1-.3.1-.5.1zM2 12.1h3.9c.2 0 .4.1.6.2l4.4 3.6V3.1L6.5 6.6c-.2.2-.4.3-.6.3H2zM19.2 14.1c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l7.3-7.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-7.3 7.3c-.2.2-.4.3-.7.3z"/><path d="M26.5 14.1c-.3 0-.5-.1-.7-.3l-7.3-7.3c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l7.3 7.3c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z"/></symbol><symbol id="mow-audio-headphones" viewBox="0 0 38 32"><clipPath id="a"><path d="M0 0h38v32H0z"/></clipPath><path clip-path="url(#a)" d="M33 32c-2.8 0-5-2.2-5-5v-4c0-2.8 2.2-5 5-5h3c-.5-8.9-8-16-17-16S2.5 9.1 2 18h3c2.8 0 5 2.2 5 5v4c0 2.8-2.2 5-5 5s-5-2.2-5-5v-8C0 8.5 8.5 0 19 0s19 8.5 19 19v8c0 2.8-2.2 5-5 5zm0-12c-1.7 0-3 1.3-3 3v4c0 1.7 1.3 3 3 3s3-1.3 3-3v-7zM2 20v7c0 1.7 1.3 3 3 3s3-1.3 3-3v-4c0-1.7-1.3-3-3-3z"/></symbol><symbol id="mow-audio-stop" viewBox="0 0 25.3 26"><path d="M12.2 26C6.8 26 2 22.8.1 17.7c-.2-.5.1-1.1.6-1.3s1.1.1 1.3.6c1.7 4.3 5.7 7 10.3 7 6.1 0 11-4.9 11-11s-5-11-11-11C7.7 2 3.6 4.7 1.9 9c-.2.5-.7.7-1.3.5-.5-.2-.7-.8-.5-1.3 2-5 6.7-8.2 12.1-8.2 7.2 0 13 5.8 13 13 .1 7.2-5.8 13-13 13z"/><path d="M17.9 18.3H7.4V7.7H18v10.6zm-9-1.6h7.4V9.3H8.9z"/></symbol></svg>',e.body.insertAdjacentElement("afterbegin",i))}(document,"sprite-mow"),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Mowplayer",t):e.Mowplayer=t()}(this,function(){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function set(e,t,n,i){return(set="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var r,o=_superPropBase(e,t);if(o){if((r=Object.getOwnPropertyDescriptor(o,t)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,t)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,t,r)}else _defineProperty(i,t,n);return!0})(e,t,n,i)}function _set(e,t,n,i,r){if(!set(e,t,n,i||e)&&r)throw new Error("failed to set property");return n}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var check=function(e){return e&&e.Math==Math&&e},global_1=check("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis))&&globalThis)||check("object"==("undefined"==typeof window?"undefined":_typeof(window))&&window)||check("object"==("undefined"==typeof self?"undefined":_typeof(self))&&self)||check("object"==_typeof(commonjsGlobal)&&commonjsGlobal)||function(){return this}()||Function("return this")(),isPure=!1,fails=function(e){try{return!!e()}catch(e){return!0}},descriptors=!fails(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),isObject=function(e){return"object"===_typeof(e)?null!==e:"function"==typeof e},document$1=global_1.document,EXISTS=isObject(document$1)&&isObject(document$1.createElement),documentCreateElement=function(e){return EXISTS?document$1.createElement(e):{}},ie8DomDefine=!descriptors&&!fails(function(){return 7!=Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a}),anObject=function(e){if(!isObject(e))throw TypeError(String(e)+" is not an object");return e},toPrimitive=function(e,t){if(!isObject(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!isObject(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!isObject(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!isObject(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},$defineProperty=Object.defineProperty,f=descriptors?$defineProperty:function(e,t,n){if(anObject(e),t=toPrimitive(t,!0),anObject(n),ie8DomDefine)try{return $defineProperty(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e},objectDefineProperty={f:f},createPropertyDescriptor=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},createNonEnumerableProperty=descriptors?function(e,t,n){return objectDefineProperty.f(e,t,createPropertyDescriptor(1,n))}:function(e,t,n){return e[t]=n,e},setGlobal=function(e,t){try{createNonEnumerableProperty(global_1,e,t)}catch(n){global_1[e]=t}return t},SHARED="__core-js_shared__",store=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store,shared=createCommonjsModule(function(e){(e.exports=function(e,t){return sharedStore[e]||(sharedStore[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),requireObjectCoercible=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},toObject=function(e){return Object(requireObjectCoercible(e))},hasOwnProperty={}.hasOwnProperty,has=Object.hasOwn||function(e,t){return hasOwnProperty.call(toObject(e),t)},id$1=0,postfix=Math.random(),uid=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++id$1+postfix).toString(36)},path=global_1,aFunction=function(e){return"function"==typeof e?e:void 0},getBuiltIn=function(e,t){return arguments.length<2?aFunction(path[e])||aFunction(global_1[e]):path[e]&&path[e][t]||global_1[e]&&global_1[e][t]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process=global_1.process,versions=process&&process.versions,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]<4?1:match[0]+match[1]):engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&"symbol"==_typeof(Symbol.iterator),WellKnownSymbolsStore=shared("wks"),_Symbol=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?_Symbol:_Symbol&&_Symbol.withoutSetter||uid,wellKnownSymbol=function(e){return has(WellKnownSymbolsStore,e)&&(nativeSymbol||"string"==typeof WellKnownSymbolsStore[e])||(nativeSymbol&&has(_Symbol,e)?WellKnownSymbolsStore[e]=_Symbol[e]:WellKnownSymbolsStore[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},TO_STRING_TAG=wellKnownSymbol("toStringTag"),test={};test[TO_STRING_TAG]="z";var toStringTagSupport="[object z]"===String(test),functionToString=Function.toString;"function"!=typeof sharedStore.inspectSource&&(sharedStore.inspectSource=function(e){return functionToString.call(e)});var inspectSource=sharedStore.inspectSource,WeakMap$1=global_1.WeakMap,nativeWeakMap="function"==typeof WeakMap$1&&/native code/.test(inspectSource(WeakMap$1)),keys=shared("keys"),sharedKey=function(e){return keys[e]||(keys[e]=uid(e))},hiddenKeys={},OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$2=global_1.WeakMap,set$1,get,has$1,enforce=function(e){return has$1(e)?get(e):set$1(e,{})},getterFor=function(e){return function(t){var n;if(!isObject(t)||(n=get(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(nativeWeakMap||sharedStore.state){var store$1=sharedStore.state||(sharedStore.state=new WeakMap$2),wmget=store$1.get,wmhas=store$1.has,wmset=store$1.set;set$1=function(e,t){if(wmhas.call(store$1,e))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,wmset.call(store$1,e,t),t},get=function(e){return wmget.call(store$1,e)||{}},has$1=function(e){return wmhas.call(store$1,e)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set$1=function(e,t){if(has(e,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty(e,STATE,t),t},get=function(e){return has(e,STATE)?e[STATE]:{}},has$1=function(e){return has(e,STATE)}}var internalState={set:set$1,get:get,has:has$1,enforce:enforce,getterFor:getterFor},redefine=createCommonjsModule(function(e){var t=internalState.get,n=internalState.enforce,i=String(String).split("String");(e.exports=function(e,t,r,o){var s,a=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof t||has(r,"name")||createNonEnumerableProperty(r,"name",t),(s=n(r)).source||(s.source=i.join("string"==typeof t?t:""))),e!==global_1?(a?!u&&e[t]&&(l=!0):delete e[t],l?e[t]=r:createNonEnumerableProperty(e,t,r)):l?e[t]=r:setGlobal(t,r)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||inspectSource(this)})}),toString={}.toString,classofRaw=function(e){return toString.call(e).slice(8,-1)},TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},classof=toStringTagSupport?classofRaw:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tryGet(t=Object(e),TO_STRING_TAG$1))?n:CORRECT_ARGUMENTS?classofRaw(t):"Object"==(i=classofRaw(t))&&"function"==typeof t.callee?"Arguments":i},objectToString=toStringTagSupport?{}.toString:function(){return"[object "+classof(this)+"]"};toStringTagSupport||redefine(Object.prototype,"toString",objectToString,{unsafe:!0});var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor&&!$propertyIsEnumerable.call({1:2},1),f$1=NASHORN_BUG?function(e){var t=getOwnPropertyDescriptor(this,e);return!!t&&t.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$1},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==classofRaw(e)?split.call(e,""):Object(e)}:Object,toIndexedObject=function(e){return indexedObject(requireObjectCoercible(e))},$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$2=descriptors?$getOwnPropertyDescriptor:function(e,t){if(e=toIndexedObject(e),t=toPrimitive(t,!0),ie8DomDefine)try{return $getOwnPropertyDescriptor(e,t)}catch(e){}if(has(e,t))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(e,t),e[t])},objectGetOwnPropertyDescriptor={f:f$2},ceil=Math.ceil,floor=Math.floor,toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},min=Math.min,toLength=function(e){return e>0?min(toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,toAbsoluteIndex=function(e,t){var n=toInteger(e);return n<0?max(n+t,0):min$1(n,t)},createMethod=function(e){return function(t,n,i){var r,o=toIndexedObject(t),s=toLength(o.length),a=toAbsoluteIndex(i,s);if(e&&n!=n){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},arrayIncludes={includes:createMethod(!0),indexOf:createMethod(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(e,t){var n,i=toIndexedObject(e),r=0,o=[];for(n in i)!has(hiddenKeys,n)&&has(i,n)&&o.push(n);for(;t.length>r;)has(i,n=t[r++])&&(~indexOf(o,n)||o.push(n));return o},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys$1=enumBugKeys.concat("length","prototype"),f$3=Object.getOwnPropertyNames||function(e){return objectKeysInternal(e,hiddenKeys$1)},objectGetOwnPropertyNames={f:f$3},f$4=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f:f$4},ownKeys$1=getBuiltIn("Reflect","ownKeys")||function(e){var t=objectGetOwnPropertyNames.f(anObject(e)),n=objectGetOwnPropertySymbols.f;return n?t.concat(n(e)):t},copyConstructorProperties=function(e,t){for(var n=ownKeys$1(t),i=objectDefineProperty.f,r=objectGetOwnPropertyDescriptor.f,o=0;o<n.length;o++){var s=n[o];has(e,s)||i(e,s,r(t,s))}},replacement=/#|\.prototype\./,isForced=function(e,t){var n=data[normalize(e)];return n==POLYFILL||n!=NATIVE&&("function"==typeof t?fails(t):!!t)},normalize=isForced.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,_export=function(e,t){var n,i,r,o,s,a=e.target,l=e.global,u=e.stat;if(n=l?global_1:u?global_1[a]||setGlobal(a,{}):(global_1[a]||{}).prototype)for(i in t){if(o=t[i],r=e.noTargetGet?(s=getOwnPropertyDescriptor$1(n,i))&&s.value:n[i],!isForced_1(l?i:a+(u?".":"#")+i,e.forced)&&void 0!==r){if(_typeof(o)===_typeof(r))continue;copyConstructorProperties(o,r)}(e.sham||r&&r.sham)&&createNonEnumerableProperty(o,"sham",!0),redefine(n,i,o,e)}},nativePromiseConstructor=global_1.Promise,redefineAll=function(e,t,n){for(var i in t)redefine(e,i,t[i],n);return e},aPossiblePrototype=function(e){if(!isObject(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return anObject(n),aPossiblePrototype(i),t?e.call(n,i):n.__proto__=i,n}}():void 0),defineProperty=objectDefineProperty.f,TO_STRING_TAG$2=wellKnownSymbol("toStringTag"),setToStringTag=function(e,t,n){e&&!has(e=n?e:e.prototype,TO_STRING_TAG$2)&&defineProperty(e,TO_STRING_TAG$2,{configurable:!0,value:t})},SPECIES=wellKnownSymbol("species"),setSpecies=function(e){var t=getBuiltIn(e),n=objectDefineProperty.f;descriptors&&t&&!t[SPECIES]&&n(t,SPECIES,{configurable:!0,get:function(){return this}})},aFunction$1=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},anInstance=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},iterators={},ITERATOR=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod=function(e){return void 0!==e&&(iterators.Array===e||ArrayPrototype[ITERATOR]===e)},functionBindContext=function(e,t,n){if(aFunction$1(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},ITERATOR$1=wellKnownSymbol("iterator"),getIteratorMethod=function(e){if(null!=e)return e[ITERATOR$1]||e["@@iterator"]||iterators[classof(e)]},iteratorClose=function(e){var t=e.return;if(void 0!==t)return anObject(t.call(e)).value},Result=function(e,t){this.stopped=e,this.result=t},iterate=function(e,t,n){var i,r,o,s,a,l,u,c=n&&n.that,h=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=functionBindContext(t,c,1+h+f),p=function(e){return i&&iteratorClose(i),new Result(!0,e)},_=function(e){return h?(anObject(e),f?m(e[0],e[1],p):m(e[0],e[1])):f?m(e,p):m(e)};if(d)i=e;else{if("function"!=typeof(r=getIteratorMethod(e)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(r)){for(o=0,s=toLength(e.length);s>o;o++)if((a=_(e[o]))&&a instanceof Result)return a;return new Result(!1)}i=r.call(e)}for(l=i.next;!(u=l.call(i)).done;){try{a=_(u.value)}catch(e){throw iteratorClose(i),e}if("object"==_typeof(a)&&a&&a instanceof Result)return a}return new Result(!1)},ITERATOR$2=wellKnownSymbol("iterator"),SAFE_CLOSING=!1,checkCorrectnessOfIteration=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var i={};i[ITERATOR$2]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},SPECIES$1=wellKnownSymbol("species"),speciesConstructor=function(e,t){var n,i=anObject(e).constructor;return void 0===i||null==(n=anObject(i)[SPECIES$1])?t:aFunction$1(n)},html=getBuiltIn("document","documentElement"),engineIsIos=/(?:iphone|ipod|ipad).*applewebkit/i.test(engineUserAgent),engineIsNode="process"==classofRaw(global_1.process),location=global_1.location,set$2=global_1.setImmediate,clear=global_1.clearImmediate,process$1=global_1.process,MessageChannel=global_1.MessageChannel,Dispatch=global_1.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(e){if(queue.hasOwnProperty(e)){var t=queue[e];delete queue[e],t()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global_1.postMessage(e+"",location.protocol+"//"+location.host)};set$2&&clear||(set$2=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return queue[++counter]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},defer(counter),counter},clear=function(e){delete queue[e]},engineIsNode?defer=function(e){process$1.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!engineIsIos?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=functionBindContext(port.postMessage,port,1)):global_1.addEventListener&&"function"==typeof postMessage&&!global_1.importScripts&&location&&"file:"!==location.protocol&&!fails(post)?(defer=post,global_1.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in documentCreateElement("script")?function(e){html.appendChild(documentCreateElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)});var task={set:set$2,clear:clear},engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(engineUserAgent),getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,macrotask=task.set,MutationObserver$1=global_1.MutationObserver||global_1.WebKitMutationObserver,document$2=global_1.document,process$2=global_1.process,Promise$1=global_1.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$2(global_1,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify,toggle,node,promise,then;queueMicrotask||(flush=function(){var e,t;for(engineIsNode&&(e=process$2.domain)&&e.exit();head;){t=head.fn,head=head.next;try{t()}catch(e){throw head?notify():last=void 0,e}}last=void 0,e&&e.enter()},engineIsIos||engineIsNode||engineIsWebosWebkit||!MutationObserver$1||!document$2?Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=promise.then,notify=function(){then.call(promise,flush)}):notify=engineIsNode?function(){process$2.nextTick(flush)}:function(){macrotask.call(global_1,flush)}:(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}));var microtask=queueMicrotask||function(e){var t={fn:e,next:void 0};last&&(last.next=t),head||(head=t,notify()),last=t},PromiseCapability=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=aFunction$1(t),this.reject=aFunction$1(n)},f$5=function(e){return new PromiseCapability(e)},newPromiseCapability={f:f$5},promiseResolve=function(e,t){if(anObject(e),isObject(t)&&t.constructor===e)return t;var n=newPromiseCapability.f(e);return(0,n.resolve)(t),n.promise},hostReportErrors=function(e,t){var n=global_1.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},perform=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},engineIsBrowser="object"==("undefined"==typeof window?"undefined":_typeof(window)),task$1=task.set,SPECIES$2=wellKnownSymbol("species"),PROMISE="Promise",getInternalState=internalState.get,setInternalState=internalState.set,getInternalPromiseState=internalState.getterFor(PROMISE),NativePromisePrototype=nativePromiseConstructor&&nativePromiseConstructor.prototype,PromiseConstructor=nativePromiseConstructor,PromiseConstructorPrototype=NativePromisePrototype,TypeError$1=global_1.TypeError,document$3=global_1.document,process$3=global_1.process,newPromiseCapability$1=newPromiseCapability.f,newGenericPromiseCapability=newPromiseCapability$1,DISPATCH_EVENT=!!(document$3&&document$3.createEvent&&global_1.dispatchEvent),NATIVE_REJECTION_EVENT="function"==typeof PromiseRejectionEvent,UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,SUBCLASSING=!1,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,FORCED=isForced_1(PROMISE,function(){var e=inspectSource(PromiseConstructor),t=e!==String(PromiseConstructor);if(!t&&66===engineV8Version)return!0;if(isPure&&!PromiseConstructorPrototype.finally)return!0;if(engineV8Version>=51&&/native code/.test(e))return!1;var n=new PromiseConstructor(function(e){e(1)}),i=function(e){e(function(){},function(){})};return(n.constructor={})[SPECIES$2]=i,!(SUBCLASSING=n.then(function(){})instanceof i)||!t&&engineIsBrowser&&!NATIVE_REJECTION_EVENT}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(e){PromiseConstructor.all(e).catch(function(){})}),isThenable=function(e){var t;return!(!isObject(e)||"function"!=typeof(t=e.then))&&t},notify$1=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;microtask(function(){for(var i=e.value,r=e.state==FULFILLED,o=0;n.length>o;){var s,a,l,u=n[o++],c=r?u.ok:u.fail,h=u.resolve,d=u.reject,f=u.domain;try{c?(r||(e.rejection===UNHANDLED&&onHandleUnhandled(e),e.rejection=HANDLED),!0===c?s=i:(f&&f.enter(),s=c(i),f&&(f.exit(),l=!0)),s===u.promise?d(TypeError$1("Promise-chain cycle")):(a=isThenable(s))?a.call(s,h,d):h(s)):d(i)}catch(e){f&&!l&&f.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&onUnhandled(e)})}},dispatchEvent=function(e,t,n){var i,r;DISPATCH_EVENT?((i=document$3.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),global_1.dispatchEvent(i)):i={promise:t,reason:n},!NATIVE_REJECTION_EVENT&&(r=global_1["on"+e])?r(i):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",n)},onUnhandled=function(e){task$1.call(global_1,function(){var t,n=e.facade,i=e.value;if(isUnhandled(e)&&(t=perform(function(){engineIsNode?process$3.emit("unhandledRejection",i,n):dispatchEvent(UNHANDLED_REJECTION,n,i)}),e.rejection=engineIsNode||isUnhandled(e)?UNHANDLED:HANDLED,t.error))throw t.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){task$1.call(global_1,function(){var t=e.facade;engineIsNode?process$3.emit("rejectionHandled",t):dispatchEvent(REJECTION_HANDLED,t,e.value)})},bind=function(e,t,n){return function(i){e(t,i,n)}},internalReject=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED,notify$1(e,!0))},internalResolve=function e(t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===n)throw TypeError$1("Promise can't be resolved itself");var r=isThenable(n);r?microtask(function(){var i={done:!1};try{r.call(n,bind(e,i,t),bind(internalReject,i,t))}catch(e){internalReject(i,e,t)}}):(t.value=n,t.state=FULFILLED,notify$1(t,!1))}catch(e){internalReject({done:!1},e,t)}}};if(FORCED&&(PromiseConstructor=function(e){anInstance(this,PromiseConstructor,PROMISE),aFunction$1(e),Internal.call(this);var t=getInternalState(this);try{e(bind(internalResolve,t),bind(internalReject,t))}catch(e){internalReject(t,e)}},PromiseConstructorPrototype=PromiseConstructor.prototype,Internal=function(e){setInternalState(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromiseConstructorPrototype,{then:function(e,t){var n=getInternalPromiseState(this),i=newPromiseCapability$1(speciesConstructor(this,PromiseConstructor));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=engineIsNode?process$3.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=PENDING&&notify$1(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalState(e);this.promise=e,this.resolve=bind(internalResolve,t),this.reject=bind(internalReject,t)},newPromiseCapability.f=newPromiseCapability$1=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},!isPure&&"function"==typeof nativePromiseConstructor&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine(NativePromisePrototype,"then",function(e,t){var n=this;return new PromiseConstructor(function(e,t){nativeThen.call(n,e,t)}).then(e,t)},{unsafe:!0}),redefine(NativePromisePrototype,"catch",PromiseConstructorPrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch(e){}objectSetPrototypeOf&&objectSetPrototypeOf(NativePromisePrototype,PromiseConstructorPrototype)}_export({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1,!0),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),_export({target:PROMISE,stat:!0,forced:FORCED},{reject:function(e){var t=newPromiseCapability$1(this);return t.reject.call(void 0,e),t.promise}}),_export({target:PROMISE,stat:!0,forced:isPure||FORCED},{resolve:function(e){return promiseResolve(isPure&&this===PromiseWrapper?PromiseConstructor:this,e)}}),_export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(e){var t=this,n=newPromiseCapability$1(t),i=n.resolve,r=n.reject,o=perform(function(){var n=aFunction$1(t.resolve),o=[],s=0,a=1;iterate(e,function(e){var l=s++,u=!1;o.push(void 0),a++,n.call(t,e).then(function(e){u||(u=!0,o[l]=e,--a||i(o))},r)}),--a||i(o)});return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=newPromiseCapability$1(t),i=n.reject,r=perform(function(){var r=aFunction$1(t.resolve);iterate(e,function(e){r.call(t,e).then(n.resolve,i)})});return r.error&&i(r.value),n.promise}});var NON_GENERIC=!!nativePromiseConstructor&&fails(function(){nativePromiseConstructor.prototype.finally.call({then:function(){}},function(){})});if(_export({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(e){var t=speciesConstructor(this,getBuiltIn("Promise")),n="function"==typeof e;return this.then(n?function(n){return promiseResolve(t,e()).then(function(){return n})}:e,n?function(n){return promiseResolve(t,e()).then(function(){throw n})}:e)}}),"function"==typeof nativePromiseConstructor){var method=getBuiltIn("Promise").prototype.finally;nativePromiseConstructor.prototype.finally!==method&&redefine(nativePromiseConstructor.prototype,"finally",method,{unsafe:!0})}var createMethod$1=function(e){return function(t,n){var i,r,o=String(requireObjectCoercible(t)),s=toInteger(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):r-56320+(i-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$1(!1),charAt:createMethod$1(!0)},correctPrototypeGetter=!fails(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=correctPrototypeGetter?Object.getPrototypeOf:function(e){return e=toObject(e),has(e,IE_PROTO)?e[IE_PROTO]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectPrototype:null},ITERATOR$3=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS=!1,returnThis=function(){return this},IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS=!0);var NEW_ITERATOR_PROTOTYPE=null==IteratorPrototype||fails(function(){var e={};return IteratorPrototype[ITERATOR$3].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype={}),has(IteratorPrototype,ITERATOR$3)||createNonEnumerableProperty(IteratorPrototype,ITERATOR$3,returnThis);var iteratorsCore={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS},objectKeys=Object.keys||function(e){return objectKeysInternal(e,enumBugKeys)},objectDefineProperties=descriptors?Object.defineProperties:function(e,t){anObject(e);for(var n,i=objectKeys(t),r=i.length,o=0;r>o;)objectDefineProperty.f(e,n=i[o++],t[n]);return e},GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement("iframe"),n="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,_NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(e){}_NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();for(var e=enumBugKeys.length;e--;)delete _NullProtoObject[PROTOTYPE][enumBugKeys[e]];return _NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(e,t){var n;return null!==e?(EmptyConstructor[PROTOTYPE]=anObject(e),n=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,n[IE_PROTO$1]=e):n=_NullProtoObject(),void 0===t?n:objectDefineProperties(n,t)},IteratorPrototype$1=iteratorsCore.IteratorPrototype,returnThis$1=function(){return this},createIteratorConstructor=function(e,t,n){var i=t+" Iterator";return e.prototype=objectCreate(IteratorPrototype$1,{next:createPropertyDescriptor(1,n)}),setToStringTag(e,i,!1,!0),iterators[i]=returnThis$1,e},IteratorPrototype$2=iteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS$1=iteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis$2=function(){return this},defineIterator=function(e,t,n,i,r,o,s){createIteratorConstructor(n,t,i);var a,l,u,c=function(e){if(e===r&&p)return p;if(!BUGGY_SAFARI_ITERATORS$1&&e in f)return f[e];switch(e){case KEYS:case VALUES:case ENTRIES:return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",d=!1,f=e.prototype,m=f[ITERATOR$4]||f["@@iterator"]||r&&f[r],p=!BUGGY_SAFARI_ITERATORS$1&&m||c(r),_="Array"==t&&f.entries||m;if(_&&(a=objectGetPrototypeOf(_.call(new e)),IteratorPrototype$2!==Object.prototype&&a.next&&(objectGetPrototypeOf(a)!==IteratorPrototype$2&&(objectSetPrototypeOf?objectSetPrototypeOf(a,IteratorPrototype$2):"function"!=typeof a[ITERATOR$4]&&createNonEnumerableProperty(a,ITERATOR$4,returnThis$2)),setToStringTag(a,h,!0,!0))),r==VALUES&&m&&m.name!==VALUES&&(d=!0,p=function(){return m.call(this)}),f[ITERATOR$4]!==p&&createNonEnumerableProperty(f,ITERATOR$4,p),iterators[t]=p,r)if(l={values:c(VALUES),keys:o?p:c(KEYS),entries:c(ENTRIES)},s)for(u in l)!BUGGY_SAFARI_ITERATORS$1&&!d&&u in f||redefine(f,u,l[u]);else _export({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS$1||d},l);return l},charAt=stringMultibyte.charAt,STRING_ITERATOR="String Iterator",setInternalState$1=internalState.set,getInternalState$1=internalState.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(e){setInternalState$1(this,{type:STRING_ITERATOR,string:String(e),index:0})},function(){var e,t=getInternalState$1(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=charAt(n,i),t.index+=e.length,{value:e,done:!1})});var $AggregateError=function(e,t){var n=this;if(!(n instanceof $AggregateError))return new $AggregateError(e,t);objectSetPrototypeOf&&(n=objectSetPrototypeOf(new Error(void 0),objectGetPrototypeOf(n))),void 0!==t&&createNonEnumerableProperty(n,"message",String(t));var i=[];return iterate(e,i.push,{that:i}),createNonEnumerableProperty(n,"errors",i),n};$AggregateError.prototype=objectCreate(Error.prototype,{constructor:createPropertyDescriptor(5,$AggregateError),message:createPropertyDescriptor(5,""),name:createPropertyDescriptor(5,"AggregateError")}),_export({global:!0},{AggregateError:$AggregateError}),_export({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=newPromiseCapability.f(t),i=n.resolve,r=n.reject,o=perform(function(){var n=aFunction$1(t.resolve),r=[],o=0,s=1;iterate(e,function(e){var a=o++,l=!1;r.push(void 0),s++,n.call(t,e).then(function(e){l||(l=!0,r[a]={status:"fulfilled",value:e},--s||i(r))},function(e){l||(l=!0,r[a]={status:"rejected",reason:e},--s||i(r))})}),--s||i(r)});return o.error&&r(o.value),n.promise}});var PROMISE_ANY_ERROR="No one promise resolved";_export({target:"Promise",stat:!0},{any:function(e){var t=this,n=newPromiseCapability.f(t),i=n.resolve,r=n.reject,o=perform(function(){var n=aFunction$1(t.resolve),o=[],s=0,a=1,l=!1;iterate(e,function(e){var u=s++,c=!1;o.push(void 0),a++,n.call(t,e).then(function(e){c||l||(l=!0,i(e))},function(e){c||l||(c=!0,o[u]=e,--a||r(new(getBuiltIn("AggregateError"))(o,PROMISE_ANY_ERROR)))})}),--a||r(new(getBuiltIn("AggregateError"))(o,PROMISE_ANY_ERROR))});return o.error&&r(o.value),n.promise}}),_export({target:"Promise",stat:!0},{try:function(e){var t=newPromiseCapability.f(this),n=perform(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype$1=Array.prototype;null==ArrayPrototype$1[UNSCOPABLES]&&objectDefineProperty.f(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:objectCreate(null)});var addToUnscopables=function(e){ArrayPrototype$1[UNSCOPABLES][e]=!0},ARRAY_ITERATOR="Array Iterator",setInternalState$2=internalState.set,getInternalState$2=internalState.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(e,t){setInternalState$2(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:t})},function(){var e=getInternalState$2(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}},"values");iterators.Arguments=iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var ITERATOR$5=wellKnownSymbol("iterator"),TO_STRING_TAG$3=wellKnownSymbol("toStringTag"),ArrayValues=es_array_iterator.values;for(var COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR$5]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR$5,ArrayValues)}catch(e){CollectionPrototype[ITERATOR$5]=ArrayValues}if(CollectionPrototype[TO_STRING_TAG$3]||createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG$3,COLLECTION_NAME),domIterables[COLLECTION_NAME])for(var METHOD_NAME in es_array_iterator)if(CollectionPrototype[METHOD_NAME]!==es_array_iterator[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,es_array_iterator[METHOD_NAME])}catch(e){CollectionPrototype[METHOD_NAME]=es_array_iterator[METHOD_NAME]}}}var propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod$2=function(e){return function(t){for(var n,i=toIndexedObject(t),r=objectKeys(i),o=r.length,s=0,a=[];o>s;)n=r[s++],descriptors&&!propertyIsEnumerable.call(i,n)||a.push(e?[n,i[n]]:i[n]);return a}},objectToArray={entries:createMethod$2(!0),values:createMethod$2(!1)},$entries=objectToArray.entries;_export({target:"Object",stat:!0},{entries:function(e){return $entries(e)}});var $assign=Object.assign,defineProperty$1=Object.defineProperty,objectAssign=!$assign||fails(function(){if(descriptors&&1!==$assign({b:1},$assign(defineProperty$1({},"a",{enumerable:!0,get:function(){defineProperty$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=$assign({},e)[n]||"abcdefghijklmnopqrst"!=objectKeys($assign({},t)).join("")})?function(e,t){for(var n=toObject(e),i=arguments.length,r=1,o=objectGetOwnPropertySymbols.f,s=objectPropertyIsEnumerable.f;i>r;)for(var a,l=indexedObject(arguments[r++]),u=o?objectKeys(l).concat(o(l)):objectKeys(l),c=u.length,h=0;c>h;)a=u[h++],descriptors&&!s.call(l,a)||(n[a]=l[a]);return n}:$assign;_export({target:"Object",stat:!0,forced:Object.assign!==objectAssign},{assign:objectAssign});var $values=objectToArray.values;_export({target:"Object",stat:!0},{values:function(e){return $values(e)}});var isArray=Array.isArray||function(e){return"Array"==classofRaw(e)},SPECIES$3=wellKnownSymbol("species"),arraySpeciesCreate=function(e,t){var n;return isArray(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!isArray(n.prototype)?isObject(n)&&null===(n=n[SPECIES$3])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},push=[].push,createMethod$3=function(e){var t=1==e,n=2==e,i=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(l,u,c,h){for(var d,f,m=toObject(l),p=indexedObject(m),_=functionBindContext(u,c,3),v=toLength(p.length),y=0,w=h||arraySpeciesCreate,g=t?w(l,v):n||s?w(l,0):void 0;v>y;y++)if((a||y in p)&&(f=_(d=p[y],y,m),e))if(t)g[y]=f;else if(f)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:push.call(g,d)}else switch(e){case 4:return!1;case 7:push.call(g,d)}return o?-1:i||r?r:g}},arrayIteration={forEach:createMethod$3(0),map:createMethod$3(1),filter:createMethod$3(2),some:createMethod$3(3),every:createMethod$3(4),find:createMethod$3(5),findIndex:createMethod$3(6),filterOut:createMethod$3(7)},SPECIES$4=wellKnownSymbol("species"),arrayMethodHasSpeciesSupport=function(e){return engineV8Version>=51||!fails(function(){var t=[];return(t.constructor={})[SPECIES$4]=function(){return{foo:1}},1!==t[e](Boolean).foo})},$map=arrayIteration.map,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("map");_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{map:function(e){return $map(this,e,arguments.length>1?arguments[1]:void 0)}});var $includes=arrayIncludes.includes;_export({target:"Array",proto:!0},{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes");var callWithSafeIterationClosing=function(e,t,n,i){try{return i?t(anObject(n)[0],n[1]):t(n)}catch(t){throw iteratorClose(e),t}},createProperty=function(e,t,n){var i=toPrimitive(t);i in e?objectDefineProperty.f(e,i,createPropertyDescriptor(0,n)):e[i]=n},arrayFrom=function(e){var t,n,i,r,o,s,a=toObject(e),l="function"==typeof this?this:Array,u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,d=getIteratorMethod(a),f=0;if(h&&(c=functionBindContext(c,u>2?arguments[2]:void 0,2)),null==d||l==Array&&isArrayIteratorMethod(d))for(n=new l(t=toLength(a.length));t>f;f++)s=h?c(a[f],f):a[f],createProperty(n,f,s);else for(o=(r=d.call(a)).next,n=new l;!(i=o.call(r)).done;f++)s=h?callWithSafeIterationClosing(r,c,[i.value,f],!0):i.value,createProperty(n,f,s);return n.length=f,n},INCORRECT_ITERATION$1=!checkCorrectnessOfIteration(function(e){});_export({target:"Array",stat:!0,forced:INCORRECT_ITERATION$1},{from:arrayFrom}),_export({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,i;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i=n.preventDefault,n.preventDefault=function(){i.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}();var defaults={code:null,autoplay:!1,site_logo:null,site_link:null,mow_logo:"https://cdn.statically.io/gh/minozotv/player/3d3b388a/minozotv-icon.png",mow_report_url:"https://heylink.me/minozotv/",mow_url:"https://heylink.me/minozotv/",media:[],plugins:[],debug:!1,mute_live_on_pause:!1,mobile_full_width:!1,seekTime:5,volume:1,mute:!1,duration:null,responsive:!0,width:null,height:null,ga:{enabled:!1},ratio:!1,hideControls:!0,origin_url:null,preload:"auto",is_amp:!1,receptivityRange:null,ad_priority:"m",provider:"html5",layout:"default",allowed_domains:!1,seed:"||_PUT_ENCRYPTION_KEY_||",language:{current:null,fallback:"en",available:{default:"default",en:"English",es:"Español",uk:"Українська",ru:"Русский"}},triton:{sync_banners:[],station_id:null,gdpr_cookie_name:"pbsconsent"},theme:{primary_color:"#941AA1",secondary_color:"#FF365D",thumb_color:"#b14f90"},font:!1,logo:{img:"https://cdn.statically.io/gh/minozotv/player/3d3b388a/minozotv.png",red_img:"https://cdn.statically.io/gh/minozotv/player/3d3b388a/minozotv-icon.png",url:"https://heylink.me/minozotv/",mowplay:!1},menu:{logo:"https://cdn.statically.io/gh/minozotv/player/3d3b388a/minozotv-icon.png",url:"https://heylink.me/minozotv/"},ads:{gap:5,priorityTime:5,pre_roll_check_priority:!1,language:"auto",checkPriority:!1,fallback:!0,strict_waterfall:!1,forceSkipable:!1,forceSkipTime:5,currentAdRequiredForceSkip:!1,out_stream:{mobile:null,desktop:null}},about:{label:"mowplayer",link:"https://heylink.me/minozotv/"},visibility:{breakpoint:.5,pause:!0,autoplay:!1},sticky:{enabled:!1,pause:!1,breakpoint:.5,position:"bottom_right",margin:15},autoplay_related:{enabled:!0,related_timeout:4,timeout:6},related:!1,sharing:!1,tracking:{throttle:3e3,readyDelay:2e3,beacon_enabled:!0,url:null,events:null,ignoreEvents:[]},shortcuts:{enabled:!0,global:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!0},i18n:{en:{play:"Play",replay:"Replay",pause:"Pause",seekLabel:"{currentTime} of {duration}",buffered:"Buffered",mute:"Mute",unmute:"Unmute",enterFullscreen:"Fullscreen",exitFullscreen:"Exit fullscreen",next:"Next",previous:"Previous",toggle_play:"Play / Pause",toggle_mute:"Mute / Unmute",mowplayer:"Minozo Player",share_screen_title:"Share this video",share_screen_title_audio:"Share this audio",open_url:"Open link",copy:"Copy",copied:"Copied",language:"Language",default:"Default",back:"Back",live:"Live",seekBackward:"Rewind 10s",seekForward:"Forward 10s",shuffle:"Shuffle",shuffle_off:"Turn off shuffle",maximize:"Maximize",collapse:"Minimize",playlist:"Playlist",settings:"Settings",close:"Close",overlay:"The minimum size for appropriate reproduction is 305px",program:"Program",share:"Share",advertisement:"Advertisement",media_error:"Error loading media Hubungi Admin Minozo TV",stop:"Stop",full_video_link:"Full Video",video_article_label:"TVRelated Videos",no_media_error:"No audio/video configured in the player.",audio_reader_text:"Listen Article"},es:{play:"Reproducir",replay:"Repetición",pause:"Pausar",seekLabel:"{currentTime} de {duration}",buffered:"Buffered",mute:"Silenciar",unmute:"Activar sonido",enterFullscreen:"Pantalla completa",exitFullscreen:"Salir de pantalla completa",next:"Siguiente",previous:"Anterior",toggle_play:"Reproducir / Pausar",toggle_mute:"Silenciar / Activar sonido",mowplayer:"Mow Player",share_screen_title:"Comparte este video",share_screen_title_audio:"Comparte este audio",open_url:"Abrir enlace",copy:"Copiar",copied:"Copiado",language:"Idioma",default:"Default",back:"Atras",live:"Vivo",seekBackward:"Atrasar 10s",seekForward:"Adelantar 10s",shuffle:"Aleatorio",shuffle_off:"Apagar Aleatorio",maximize:"Maximizar",collapse:"Minimizar",playlist:"Playlist",settings:"Opciones",close:"Close",overlay:"El tamaño mínimo para una reproducción apropiada es de 305px.",program:"Programación",share:"Compartir",advertisement:"Anuncio",media_error:"Error al cargar el medio",stop:"Detener",full_video_link:"Full Video",video_article_label:"Video Relacionados",no_media_error:"No audio/video configured in the player.",audio_reader_text:"Escuchar Articulo"},ru:{play:"Проиграть",replay:"Сначала",pause:"Остановить",seekLabel:"{currentTime} из {duration}",buffered:"Буффер",mute:"Выключить звук",unmute:"Включить звук",enterFullscreen:"Во весь экран",exitFullscreen:"Выйти с полноэкранного режима",next:"Следующий",previous:"Предыдущий",toggle_play:"Проиграть / Остановить",toggle_mute:"Выключить / Включить звук",mowplayer:"Mow плеер",share_screen_title:"Поделиться этим видео",share_screen_title_audio:"Поделиться этим аудио",open_url:"Открыть ссылку",copy:"Копировать",copied:"Скопировано",language:"Язык",default:"По умолчанию",back:"Назад",live:"В Эфире",seekBackward:"Назад на 10с",seekForward:"Вперед на 10с",shuffle:"Случайный порядок",shuffle_off:"По порядку",maximize:"Развернуть",collapse:"Свернуть",playlist:"Плейлист",settings:"Настройки",close:"Закрыть",overlay:"Минимальный размер для корректного воспроизведения составляет 305 пикселей",program:"Програма",share:"Поделиться",advertisement:"Реклама",media_error:"Ошибка загрузки медиа",stop:"Остановить",full_video_link:"Full Video",video_article_label:"Related Videos",no_media_error:"No audio/video configured in the player.",audio_reader_text:"Listen Article"},uk:{play:"Відтворити",replay:"Спочатку",pause:"Зупинити",seekLabel:"{currentTime} з {duration}",buffered:"Буферизація",mute:"Вимкнути звук",unmute:"Увімкнути звук",enterFullscreen:"Повноекранний режим",exitFullscreen:"Вийти з повноекранного режиму",next:"Наступний",previous:"Попередній",toggle_play:"Відтворити / Зупинити",toggle_mute:"Вимкнути / Увімкнути звук",mowplayer:"Mow плеєр",share_screen_title:"Поділитися цим відео",share_screen_title_audio:"Поділитися цим аудіо",open_url:"Відкрити посилання",copy:"Копіювати",copied:"Скопійовано",language:"Мова",default:"За замовчуванням",back:"Назад",live:"Пряма трансляція",seekBackward:"Назад на 10с",seekForward:"Вперед на 10с",shuffle:"Випадковий порядок",shuffle_off:"По порядку",maximize:"Розгорнути",collapse:"Згорнути",playlist:"Плейліст",settings:"Налаштування",close:"Закрити",overlay:"Мінімальний розмір для успішного відтворення - 305 пікселів",program:"Програма",share:"Поділитися",advertisement:"Реклама",media_error:"Помилка завантаження медіа",stop:"Зупинити",full_video_link:"Full Video",video_article_label:"Related Videos",no_media_error:"No audio/video configured in the player.",audio_reader_text:"Listen Article"}},urls:{ima:"https://imasdk.googleapis.com/js/sdkloader/ima3.js",vast:"https://mowplayer.com/assets/js/vast-client.min.js",mowVast:"https://mowplayer.com/assets/js/vast-client.js",hls:"https://cdn.jsdelivr.net/hls.js/latest/hls.js",triton:"https://sdk.listenlive.co/web/2.9/td-sdk.min.js",ad_priority:"https://api.mowplayer.com/media/marketplace",tts:"https://api.mowplayer.com/tts/media/text-to-speech"},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","durationchange","webkitfullscreenchange","enterfullscreen","exitfullscreen","controlshidden","controlsshown","play_requested","track_changed","seek_updated","layout_change","layout_changed","ui_updated","track_info","ready","resize","iframe_module_ready","sticky_state_update","sticky_disable","adserror","adsprogress","adsrequested","adsloaded","adsimpression","adsplay","adspause","adsresume","adscomplete","adspauserequested","postroll_ended"],classNames:{root:"mow",container:"mow-player-container",type:"mow-type_{0}",provider:"mow-provider_{0}",video:"mow__video-wrapper",embed:"mow__video-embed",overlay:"mow__overlay-error",loader:"mow__loader",embedContainer:"mow__video-embed__container",poster:"mow__poster",posterEnabled:"mow__poster-enabled",layoutWrapper:"mow__layout",responsiveWrapper:"mow__responsive-wrapper",holder:"mow__holder",control:"mow__control",logo:"mow__logo",liveBadge:"mow__live-badge",logoPlaceholder:"mow__logo-placeholder",mediaWrapper:"mow__media-wrapper",title:"mow__title",title_hidden:"mow__title-hidden",spacer:"mow__spacer",controlPressed:"mow__control-pressed",playing:"mow-playing",paused:"mow-paused",stopped:"mow-stopped",loading:"mow-loading",hover:"mow-hover",tooltip:"mow__tooltip",isLive:"mow-is_live",hidden:"mow__sr-only",hideControls:"mow-hide-controls",isIos:"mow-is_ios",isAndroid:"mow-is_android",isMobile:"mow-is_mobile",isIE:"mow-is_ie",waitPlay:"mow-wait_play",requestPlay:"mow-request_play",showPlayPause:"mow-show-play-pause-button",sticky:"mow-sticky_enabled",stickyPlaceholder:"mow__sticky-placeholder",uiSupported:"mow-ui_enabled",audioSticky:"mow-type_audio-sticky",noTransition:"mow-no_transition",theme:"mow__theme_{0}",unstick_enabled:"mow-unstick-enabled",helper:{hidden:"mow-display_none"},ads:{layer:"mow__ad-{0}",loading:"mow-ads_loading",playing:"mow-ads_playing",visible:"mow-ads_visible",linear:"mow-ads_linear",active:"mow-ads_active",full_slot:"mow__ad-fullslot"},related:{state:"mow__related-videos-shown",autoplay:"mow__related-videos-autoplay-related",autoplay_container:"mow__related-videos-autoplay_container",autoplay_button_wrapper:"mow__related-videos-autoplay__button-wrapper",autoplay_button_inner_wrapper:"mow__related-videos-autoplay__button-inner-wrapper",autoplay_wrapper_up:"mow__related-videos-autoplay__wrapper-up",autoplay_wrapper_down:"mow__related-videos-autoplay__wrapper-down",autoplay_next_title:"mow__related-videos-autoplay__next-title",autoplay_media_title:"mow__related-videos-autoplay__media-title",autoplay_cancel_title:"mow__related-videos-autoplay__cancel-title",container:"mow__related-videos",items_wrapper:"mow__related-items-wrapper",item:"mow__related-item",image_wrapper:"mow__related-item-image_wrapper"},playlist:{container:"mow__playlist",title_wrapper:"mow__playlist-title-wrapper",title:"mow__playlist-title",badge:"mow__playlist-badge",item:"mow__playlist-item",item_number:"mow__playlist-item-number",item_active:"mow__playlist-item_active",item_thumbnail:"mow__playlist-item-thumbnail",item_image_wrapper:"mow__playlist-item-thumbnail-image-wrapper",item_duration_wrapper:"mow__playlist-item-duration-wrapper",item_duration:"mow__playlist-item-duration",item_title:"mow__playlist-item-title",item_description:"mow__playlist-item-description",item_text:"mow__playlist-item-text",item_wrapper:"mow__playlist-item-wrapper",wrapper:"mow__playlist-wrapper",position:"mow__playlist_position_{0}",layout:"mow__playlist_layout_{0}",theme:"mow__playlist_theme_{0}",type:"mow__playlist_type_{0}",video_article_controls:"mow__playlist-video_article_controls"},controls:{wrapper:"mow__controls",progress_wrapper:"mow__progress",volume_wrapper:"mow__volume",mute:"mow__mute",share:"mow__share",share_hidden:"mow__share-hidden",fullscreen:"mow__fullscreen",play:"mow__play",next:"mow__next-track",prev:"mow__prev-track",native_url:"mow__native-url",replay:"mow__replay",unstick:"mow__unstick"},share_screen:{container:"mow__share-screen",share_wrapper:"mow__share-screen-wrapper",buttons_wrapper:"mow__share-screen-buttons",buttons_wrapper_inner:"mow__share-screen-buttons-inner",copy_wrapper:"mow__share-screen-copy-wrapper",middle_wrapper:"mow__share-screen-middle-wrapper",copy_text:"mow__share-screen-copy-text",title:"mow__share-screen-title",icon:"mow__share-screen-icon-{0}",active:"mow__share-screen_active"},display:{time:"mow__time",buffer:"mow__progress__buffer"},fullscreen:{fallback:"mow-fullscreen_fallback",active:"mow-fullscreen_active"},menu:{container:"mow__contextmenu",active:"mow__contextmenu_active",logo:"mow__contextmenu-logo",item:"mow__contextmenu-item",language:"mow__contextmenu-item-language",share:"mow__contextmenu-item-share",language_close:"mow__contextmenu-item-close-language",share_select:"mow__contextmenu-select-share",share_close:"mow__contextmenu-item-close-share",language_select:"mow__contextmenu-select-language",language_current:"mow__contextmenu-current-language"},tabFocus:"mow__tab-focus"},css:!1},noop=function(){},globals={t:window,i:document,o:navigator},mod=function(e,t){return(e%t+t)%t},getConstructor=function(e){return null!=e?e.constructor:null},instanceOf=function(e,t){return Boolean(e&&t&&e instanceof t)},isNullOrUndefined=function(e){return null==e},isObject$1=function(e){return getConstructor(e)===Object},isNumber=function(e){return getConstructor(e)===Number&&!Number.isNaN(e)},isString=function(e){return getConstructor(e)===String},isBool=function(e){return getConstructor(e)===Boolean},isFunction=function(e){return getConstructor(e)===Function},isArray$1=function(e){return Array.isArray(e)},isNodeList=function(e){return instanceOf(e,NodeList)},isElement=function(e){return instanceOf(e,Element)},isKeyEvent=function(e){return instanceOf(e,KeyboardEvent)},isEmpty=function(e){return isNullOrUndefined(e)||(isString(e)||isArray$1(e)||isNodeList(e))&&!e.length||isObject$1(e)&&!Object.keys(e).length},isUrl=function(e){if(instanceOf(e,globals.t.URL))return!0;if(isEmpty(e)||!isString(e))return!1;e.match(/^https?:\/\/.*/)||(e="http://".concat(e));try{return!isEmpty(new URL(e).hostname)}catch(e){return!1}},assert={s:isNullOrUndefined,l:isObject$1,u:isNumber,m:isString,p:isBool,_:isFunction,C:isArray$1,k:isNodeList,T:isElement,P:isKeyEvent,I:isUrl,S:isEmpty};function merge(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=n.shift();return assert.l(r)?(Object.keys(r).forEach(function(t){assert.l(r[t])?(Object.keys(e).includes(t)||Object.assign(e,_defineProperty({},t,{})),merge(e[t],r[t])):Object.assign(e,_defineProperty({},t,r[t]))}),merge.apply(void 0,[e].concat(n))):e}var providers={html5:"html5",hls:"hls"},types={simple:"simple",position:"position",playlist:"playlist",video_article:"video_article",audio:"audio"},autoPlayNext=function(e){e.on("ended postroll_ended",function(){setTimeout(function(){!e.ads.manager.active&&(e.playlist.left>0||e.config.playlist.repeat||e.playlist.shuffle||e.isPosition)&&e.playlist.next()},100)})},behaviour={position:autoPlayNext,playlist:autoPlayNext,video_article:autoPlayNext,audio:autoPlayNext},typeConfig={simple:function(e){var t=e.plugins;return{plugins:t.length?t:["MowSimpleUI"]}},position:function(e){var t=e.plugins;return{plugins:t.length?t:["MowPositionUI"]}},video_article:function(e){var t=e.plugins;return{playlist:merge({},typeDefaults.playlist,{name:e.video_article.title,theme:e.video_article.theme,show:!0,repeat:!1}),plugins:t.length?t:["MowVideoArticleUI"]}},playlist:function(e){var t=e.plugins;return{plugins:t.length?t:["MowVideoPlaylistUI"]}},audio:function(e){var t=e.plugins;return{playlist:merge({},typeDefaults.playlist,e.audio.playlist),plugins:t.length?t:["tts"===e.provider?"MowAudioReaderUI":e.audio.live?"MowAudioLiveUI":"MowAudioPlaylistUI"]}}},typeDefaults={position:{title:"",behavior:"chain",mute_live_on_pause:!1},playlist:{id:null,name:"",description:"",show:!1,position:"right",layout:"default",repeat:!1,theme:"dark"},video_article:{title:"",theme:"dark"},audio:{mute_live_on_pause:!0,sticky:!1,live:!1,theme:"dark",playlist:{repeat:!1},reader:{skip_selector:!1},timezone:0}},Debug=function(){function e(t){_classCallCheck(this,e),this.O=t}return _createClass(e,[{key:"enabled",get:function(){return globals.t.console&&this.O.config.debug}},{key:"proxy",value:function(e){var t=function(){assert.u(arguments[0])&&(arguments[0]+=" error"),console[e].apply(console,arguments)};return this.enabled?t:noop}},{key:"log",get:function(){return this.proxy("log")}},{key:"warn",get:function(){return this.proxy("warn")}},{key:"error",get:function(){return this.proxy("error")}}]),e}(),supportsPassiveListeners=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});globals.t.addEventListener("test",null,t),globals.t.removeEventListener("test",null,t)}catch(e){}return e}();function toggleListener(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!assert.S(t)&&assert._(n)){var s=o;supportsPassiveListeners&&(s={passive:r,capture:o}),t.split(" ").forEach(function(t){e[(i?"add":"remove")+"EventListener"](t,n,s)})}}function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];toggleListener.call(this,e,t,n,!0,i,r)}function off(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];toggleListener.call(this,e,t,n,!1,i,r)}function once(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];toggleListener.call(this,e,t,function o(){off(e,t,o,i,r);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n.apply(this,a)},!0,i,r)}function triggerEvent(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(assert.T(e)&&!assert.S(t)){var r=new CustomEvent(t,{bubbles:n,detail:Object.assign({},i,{player:this})});e.dispatchEvent(r)}}function setAttributes(e,t){assert.T(e)&&!assert.S(t)&&Object.entries(t).filter(function(e){var t=_slicedToArray(e,2)[1];return!assert.s(t)}).forEach(function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1];return e.setAttribute(i,r)})}function createElement(e,t,n){var i=globals.i.createElement(e);return assert.l(t)&&setAttributes(i,t),assert.m(n)&&(i.innerText=n),i}function insertAfter(e,t){assert.T(e)&&assert.T(t)&&t.parentNode.insertBefore(e,t.nextSibling)}function removeElement(e){assert.k(e)||assert.C(e)?Array.from(e).forEach(removeElement):assert.T(e)&&assert.T(e.parentNode)&&e.parentNode.removeChild(e)}function toggleHidden(e,t){assert.T(e)&&((assert.p(t)?t:!e.hidden)?e.setAttribute("hidden",""):e.removeAttribute("hidden"))}function toggleClass(e,t,n){if(assert.k(e))return Array.from(e).map(function(e){return toggleClass(e,t,n)});if(assert.T(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function hasClass(e,t){return assert.T(e)&&e.classList.contains(t)}function css(e,t){assert.T(e)&&Object.assign(e.style,t)}function trapFocus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(assert.T(e)){var n=this.getElements("button:not(:disabled), input:not(:disabled), [tabindex]"),i=n[0],r=n[n.length-1];toggleListener.call(this,this.container,"keydown",function(e){if("Tab"===e.key&&9===e.keyCode){var t=globals.i.activeElement;t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}},t,!1)}}function createIcon(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=globals.i.createElementNS("http://www.w3.org/2000/svg","svg");setAttributes(n,Object.assign(t,{role:"presentation",focusable:"false"}));var i=globals.i.createElementNS("http://www.w3.org/2000/svg","use");return i.setAttributeNS("http://www.w3.org/1999/xlink","href"in i?"href":"xlink:href","#mow-".concat(e)),n.appendChild(i),n}function repaint(e){setTimeout(function(){try{toggleHidden(e,!0),e.offsetHeight,toggleHidden(e,!1)}catch(e){}},0)}var browser={M:!!globals.i.documentMode,L:"WebkitAppearance"in globals.i.documentElement.style&&!/Edge/.test(globals.o.userAgent),j:/(iPhone|iPod)/gi.test(globals.o.userAgent),N:/(iPhone|iPad|iPod)/gi.test(globals.o.userAgent),$:/(Mac)/gi.test(globals.o.userAgent),D:/^((?!chrome|android).)*safari/i.test(globals.o.userAgent),V:/(Android)/gi.test(globals.o.userAgent),U:/(iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone)/gi.test(globals.o.userAgent),H:"ontouchstart"in window||navigator.msMaxTouchPoints};function onChange(){if(this.enabled){var e=this.O;e.trigger(this.active?"enterfullscreen":"exitfullscreen",!0),browser.N||trapFocus.call(e,this.target,this.active),toggleClass(e.ui.root.element,e.config.classNames.fullscreen.active,this.active)}}function toggleFallback(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:globals.t.scrollX||0,y:globals.t.scrollY||0}:globals.t.scrollTo(this.scrollPosition.x,this.scrollPosition.y),globals.i.body.style.overflow=t?"hidden":"",toggleClass(this.target,this.O.config.classNames.fullscreen.fallback,t),browser.N){var n=globals.i.head.querySelector('meta[name="viewport"]'),i="viewport-fit=cover";n||(n=createElement("meta",{name:"viewport"}));var r=assert.m(n.content)&&n.content.includes(i);t?(this.cleanupViewport=!r,r||(n.content+=",".concat(i))):this.cleanupViewport&&(n.content=n.content.split(",").filter(function(e){return e.trim()!==i}).join(",")),setTimeout(function(){return repaint(e.target)},100)}onChange.call(this)}var Fullscreen=function(){function e(t){var n=this;_classCallCheck(this,e),this.O=t,this.W=!1,this.scrollPosition={x:0,y:0},on.call(this.O,globals.i,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){onChange.call(n)})}return _createClass(e,[{key:"native",get:function(){return Boolean(globals.i.fullscreenEnabled||globals.i.webkitFullscreenEnabled||globals.i.mozFullScreenEnabled||globals.i.msFullscreenEnabled)}},{key:"prefix",get:function(){if(assert._(globals.i.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some(function(t){return!(!assert._(globals.i["".concat(t,"ExitFullscreen")])&&!assert._(globals.i["".concat(t,"CancelFullScreen")]))&&(e=t,!0)}),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}},{key:"enabled",get:function(){return(this.native||this.O.config.fullscreen.fallback)&&this.O.config.fullscreen.enabled&&this.O.isVideo}},{key:"active",get:function(){return browser.N&&this.O.config.fullscreen.iosNative?this.target.webkitDisplayingFullscreen:this.W}},{key:"target",get:function(){return browser.N&&this.O.config.fullscreen.iosNative?this.O.ui.media.element:this.O.ui.playerContainer.element}},{key:"enter",value:function(){this.enabled&&(browser.N&&this.O.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():this.native?this.prefix?assert.S(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen():toggleFallback.call(this,!0),this.W=!0)}},{key:"exit",value:function(){if(this.enabled){if(browser.N&&this.O.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.O.play();else if(this.native)if(this.prefix){if(!assert.S(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";globals.i["".concat(this.prefix).concat(e).concat(this.property)]()}}else(globals.i.cancelFullScreen||globals.i.exitFullscreen).call(globals.i);else toggleFallback.call(this,!1);this.W=!1}}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}}]),e}();function xhr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new Promise(function(o,s){try{var a=new XMLHttpRequest;if(!("withCredentials"in a))return;a.addEventListener("load",function(){if("text"===i||"string"==typeof a.response)try{o(JSON.parse(a.responseText))}catch(e){o(a.responseText)}else o(a.response)}),a.addEventListener("error",function(){s(a.status)}),a.open(t,e,!0),Object.entries(r).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];a.setRequestHeader(n,i)}),a.responseType=i,a.send(n)}catch(e){s(e)}})}function loadJs(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return window.mowPromiseCache=window.mowPromiseCache||{},e in window.mowPromiseCache||(window.mowPromiseCache[e]=new Promise(function(n,i){if(t){if(document.querySelector('head script[src*="'+e.replace(/^https?:\/\//,"")+'"]'))var r=0,o=setInterval(function(){if("ima"===t&&"object"===_typeof(window.google)&&"object"===_typeof(window.google.ima)&&(n(!0),clearInterval(o)),(r+=5)>1e3){var s=document.createElement("script");s.type="text/javascript",s.onload=n,s.onerror=i,s.async=!0,s.src=e,s.setAttribute("data-mowloaded",!0),document.head.appendChild(s),clearInterval(o)}},5)}else{var s=document.createElement("script");s.type="text/javascript",s.onload=n,s.onerror=i,s.async=!0,s.src=e,s.setAttribute("data-mowloaded",!0),document.head.appendChild(s)}})),window.mowPromiseCache[e]}var extractAdInfo=function(e){return[{id:e.ads.id,data2:e.ads.random,ad_from:e.ads.adSource,ad_priority:e.options.hasOwnProperty("ad_priority")?e.options.ad_priority:null}]},first_tracking=!1,second_tracking=!1,third_tracking=!1,firstPlayTriggered=!1,mapper={adblock:{events:["ready"],extract:function(){return new Promise(function(e){var t=setTimeout(function(){return e(!0)},1e4);loadJs("https://cdn.mowplayer.com/dist/ads.js").catch(function(){clearTimeout(t),e(!0)}),once(document.body,"mowplayer_adblock_disabled",function(){clearTimeout(t),e(!1)})})},merge:function(e,t){return e||t}},player_loaded:{events:["ready"],extract:function(e){return new Promise(function(t,n){var i=setTimeout(function(){return t(!0)},e.config.tracking.readyDelay);e.once("play",function(){clearTimeout(i),n(!1)})})},merge:function(e,t){return e||t}},first_play:{events:["play"],extract:function(e){var t=e.isVideo?"video":"audio",n=null;e.provider.live?t="live_"+t:e.isReader?(t="audio_reader",n=e.config.audio.reader.id):e.isAudio&&e.isPlaylist?(t="audio_playlist",n=e.config.audio.id):e.isVideo&&e.isPlaylist?(t="video_playlist",n=e.config.playlist.id):e.isPosition?(t="position",n=e.config.position.id):e.isVideoArticle&&(t="video_article",n=e.config.video_article.id);var i=e.ui.media,r=function(){return{type:t,element_id:n,media_length:e.duration,ad_priority:e.config.ad_priority,autoplay:e.config.autoplay||e.config.visibility.autoplay}};return firstPlayTriggered?null:(firstPlayTriggered=!0,i&&i.element.readyState>=1?r():new Promise(function(t){e.once("loadedmetadata",function(){t(r())})}))},merge:function(e,t){return t}},ad_priority:{events:["play"],extract:function(e){return e.options.hasOwnProperty("ad_priority")?e.options.ad_priority:null},merge:function(e,t){return t}},progress:{events:["timeupdate","ended"],extract:function(e){return{length:e.duration,watched:e.tracking.duration}},merge:function(e,t){return t}},ad_impression:{events:["adsimpression"],extract:extractAdInfo,merge:function(e,t){return e.concat(t)}},ad_request:{events:["adsrequested"],extract:extractAdInfo,merge:function(e,t){return e.concat(t)}},skip_ad:{events:["adskipped"],extract:extractAdInfo,merge:function(e,t){return e.concat(t)}},error:{events:["error"],extract:function(){return!0},merge:function(){return!0}}},Tracking=function(){function e(t){_classCallCheck(this,e),this.O=t,this.K=t.config.tracking,this.q={},this.Y=[],this.J=0,this.X=!!navigator.sendBeacon&&t.config.tracking.beacon_enabled,this.pausedIntentionaly=!1}return _createClass(e,[{key:"addProgressRange",value:function(e,t){e>t||(this.Y.push({min:e,max:t}),this.Y.sort(function(e,t){return e.min-t.min}),this.Y=this.Y.reduce(function(e,t){if(0===e.length)e.push(t);else{var n=e.pop();n.max>t.min||Math.abs(n.max-t.min)<.01?(n.min=Math.min(n.min,t.min),n.max=Math.max(n.max,t.max),e.push(n)):e.push(n,t)}return e},[]))}},{key:"duration",get:function(){return this.Y.reduce(function(e,t){return e+(t.max-t.min)},0)}},{key:"worker",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.O;if(this.J>10)this.O.debug.warn(106);else if(!assert.S(this.q)){var i=JSON.stringify({referer:n.originUrl,code:n.config.code,authorization:n.config.auth,events:this.q});this.X&&t?navigator.sendBeacon(this.K.url,i):xhr(this.K.url,"POST",i,"text").catch(function(){e.O.debug.warn(105),e.J++}),this.q={}}}},{key:"increment",value:function(e){var t=this,n=this.O.playlist.currentConfig,i=n.video_random;Object.keys(e).forEach(function(r){r in t.q?i in t.q[r]?t.q[r][i].value=mapper[r].merge(t.q[r][i].value,e[r]):t.q[r][i]={media_id:n.id,value:e[r]}:t.q[r]=_defineProperty({},i,{media_id:n.id,value:e[r]})})}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.increment(e),t&&this.worker()}},{key:"inject",value:function(){var e=this,t=this.O;(assert.C(this.K.events)?this.K.events:Object.keys(mapper)).forEach(function(n){!e.K.ignoreEvents.includes(n)&&n in mapper&&t.on(mapper[n].events.join(" "),function(){var i=mapper[n].extract(t);Promise.resolve(i).then(function(t){assert.S(t)||e.send(_defineProperty({},n,t))}).catch(function(){})})}),this.X&&window.addEventListener("beforeunload",function(){return e.worker(!0)}),setInterval(function(){return e.worker()},this.K.throttle);var n=0;t.on("timeupdate ended",function(){e.addProgressRange(n,t.currentTime),n=t.currentTime,first_tracking||1!==parseInt(t.currentTime)?second_tracking||3!==parseInt(t.currentTime)?third_tracking||6!==parseInt(t.currentTime)||(third_tracking=!0,e.worker()):(second_tracking=!0,e.worker()):(first_tracking=!0,e.worker())}),t.on("seeking",function(){n=t.currentTime}),t.on("ended",function(){e.send({},!0)}),t.on("track_changed",function(){firstPlayTriggered=!1,first_tracking=!1,second_tracking=!1,third_tracking=!1,e.Y=[]}),t.on("ready",function(){e.track_ga_event("Loaded")}),t.once("play_requested",function(){e.track_ga_event("Plays")}),t.once("play",function(){e.pausedIntentionaly&&(e.pausedIntentionaly=!1,e.track_ga_event("Resumes"))}),t.once("ended",function(){e.track_ga_event("Completes")}),t.on("sticky_state_update",function(){}),t.on("seeked",function(){e.track_ga_event("Seeks")}),t.on("sticky_disable",function(){}),t.on("enterfullscreen",function(){e.track_ga_event("Fullscreen Enter")}),t.on("exitfullscreen",function(){e.track_ga_event("Fullscreen Exit")}),t.on("pause",function(){e.pausedIntentionaly=!0,e.track_ga_event("Pauses")})}},{key:"track_ga_event",value:function(e){if(this.O.config.ga.enabled){var t=this.O.playlist.currentConfig.title;"mediaid"===this.O.config.ga.label&&(t=this.O.playlist.currentConfig.id);var n="Video";this.O.isReader?n="Audio Reader":this.O.isAudio&&(n="Audio");var i={event_category:"Mowplayer "+n,event_label:t};this.O.isInIframe?this.O.iframe.trigger("ga_track_event",{eventName:e,gaData:i}):"function"==typeof gtag&&gtag("event",e,i),console.log("Mow GA fired:"+e)}}}]),e}(),Sticky=function(){function e(t){_classCallCheck(this,e),this.O=t,this.Z=!1,this.ee=null,this.te=!1,this.watch=this.watch.bind(this)}return _createClass(e,[{key:"enabled",get:function(){return this.O.config.sticky.enabled&&(this.O.isVideo||this.O.isReader)}},{key:"pauseOnBreakpoint",get:function(){return this.O.config.sticky.pause&&(this.O.isVideo||this.O.isReader)}},{key:"styles",get:function(){this.O;var e=this.O.config.sticky,t="".concat(e.margin,"px"),n={};switch(e.position){case"left_top":n={top:t,left:t};break;case"left_bottom":n={bottom:t,left:t};break;case"bottom_right":n={bottom:t,right:t};break;case"top_right":default:n={top:t,right:t}}if(browser.U&&window.screen.availWidth<=500)switch(n.right=0,n.left=0,e.position){case"left_bottom":case"bottom_right":n.bottom=0;break;case"left_top":case"top_right":default:n.top=0}return n}},{key:"allowed",get:function(){var e=this.O,t=(assert.T(this.ee)?this.ee:e.ui.playerContainer.element||e.ui.root.element).getBoundingClientRect(),n=t.top+t.height*e.config.sticky.breakpoint>0;return(e.isReader||(e.playing||e.ads.manager.active||this.Z)&&e.ready&&e.isVideo&&!e.fullscreen.active)&&!n}},{key:"activatePause",value:function(){var e=this.O;e.ads.manager.visible&&e.ads.manager.pause(),this.te=!1,e.playing&&(this.te=!0,e.pause()),this.Z=!0}},{key:"deactivatePause",value:function(){var e=this.O;e.ads.manager.visible&&e.ads.manager.resume(),this.te&&e.play(),this.Z=!1}},{key:"activate",value:function(){var e=this.O,t=e.ui.playerContainer.element||e.ui.root.element,n=t.getBoundingClientRect(),i=e.poster;this.ee=createElement("div",{class:e.config.classNames.stickyPlaceholder});var r=createElement("div");this.ee.appendChild(r),css(r,{paddingBottom:100*n.height/n.width+"%"}),css(t,this.styles),i&&css(r,{backgroundImage:"url('".concat(i,"')")}),insertAfter(this.ee,t),toggleClass(t,e.config.classNames.sticky,!0),this.Z=!0,e.trigger("sticky_state_update",{enable:!0}),e.isReader&&setTimeout(function(){toggleClass(t,"mow_mini_audio_reader_visible",!0)},100)}},{key:"deactivate",value:function(){var e=this.O,t=e.ui.playerContainer.element||e.ui.root.element;e.isReader?(toggleClass(t,"mow_mini_audio_reader_visible",!1),setTimeout(function(){toggleClass(t,e.config.classNames.sticky,!1)},200)):toggleClass(t,e.config.classNames.sticky,!1),assert.T(this.ee)&&(removeElement(this.ee),this.ee=null);var n={};Object.keys(this.styles).forEach(function(e){n[e]=""}),css(t,n),this.Z=!1,e.trigger("sticky_state_update",{enable:!1})}},{key:"watch",value:function(){if(this.allowed){if(!this.Z)if(this.enabled){this.activate();var e=document.getElementById("audio-sticky-text");e&&(e.classList.toggle("blink_me"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="     position: absolute;     height: 222px !important;     width: 224px !important;     left: -63px;     bottom: -62px;     transform: rotate(75deg);     fill: var(--mow__secondary_color); "><title>Red Hot Chilli Peppers Logo</title><defs><path d="M243.2, 382.4c-74.8,        0-135.5-60.7-135.5-135.5s60.7-135.5,135.5-135.5s135.5, 60.7, 135.5,     135.5 S318, 382.4, 243.2, 382.4z" id="textcircle"/></defs><text dy="70" textLength="1200" style="     color: var(--mow__secondary_color);font-size: 60px;     font-family: Franklin Gothic, sans-serif;     font-weight: 900;      text-transform: uppercase; letter-spacing: 22px; "><textPath xlink:href="#textcircle" style="     color: var(--mow__secondary_color);     letter-spacing: 21px;     font-size: 18px; ">'+this.O.i18n("audio_reader_text")+"</textPath></text></svg>")}else this.pauseOnBreakpoint&&this.activatePause()}else if(this.Z)if(this.enabled){this.deactivate();var t=document.getElementById("audio-sticky-text");t&&(t.innerHTML="")}else this.pauseOnBreakpoint&&this.deactivatePause()}},{key:"inject",value:function(){on.call(this.O,globals.t,"resize scroll",this.watch,!0,!0),this.O.on("play pause adsplay",this.watch),this.O.on("sticky_disable",this.deactivate.bind(this))}}]),e}(),BaseAdManager=function(){function e(t){_classCallCheck(this,e),this.O=t,this.ne=null,this.ie=null,this.W=!1,this.re=!0,this.oe=!1,this.se=!0,this.ae=1,this.le=0,this.ue=null,this.ce=null,this.he=null,this.de=null,this.fe=!1,this.me=!1,this.pe=!0}return _createClass(e,[{key:"init",value:function(){return Promise.resolve()}},{key:"onUserEvent",value:function(){}},{key:"visible",get:function(){return this.oe},set:function(e){this.oe=e,toggleClass(this.container,"mow__ad-layer-visible",e)}},{key:"linear",get:function(){return this.fe}},{key:"pauseAllowed",get:function(){return this.re}},{key:"paused",get:function(){return this.se}},{key:"playing",get:function(){return!this.paused}},{key:"active",get:function(){return this.W}},{key:"type",get:function(){return this.ue}},{key:"currentTime",get:function(){return this.ce}},{key:"duration",get:function(){return this.he}},{key:"tag",get:function(){return this.ne}},{key:"internalId",get:function(){return this.ie}},{key:"container",get:function(){return this.O.ui.root.getChild("ad_layer").element}},{key:"play",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log("Tag to play:"+e+" | position:"+n),this.ne=e,this.ie=o,this.le=n,this.ue=i,this.me=r;var s=this.O,a=++this.ae;return s.ui.root.getChild("ad_layer")?new Promise(function(e,n){t.W=!0,t.se=!1,s.trigger("adsrequested"),t.init().then(function(){t.playTag().then(e).catch(n).finally(function(){a===t.ae&&(t.visible=!1,t.W=!1,t.se=!0)})}).catch(function(){n(),t.stop()})}):Promise.reject()}},{key:"stop",value:function(){this.se=!0,this.W=!1,this.ce=null,this.he=null,this.oe=!1}},{key:"pause",value:function(){this.se=!0,this.O.trigger("adspause")}},{key:"resume",value:function(){this.se=!1,this.O.trigger("adsresume")}},{key:"skip",value:function(){}},{key:"playTag",value:function(){return Promise.resolve()}},{key:"isPreRoll",value:function(){return 0===this.le}},{key:"isPostRoll",value:function(){return 100===this.le}},{key:"playerVisibility",get:function(){return this.pe},set:function(e){this.pe=e}}]),e}();function isIframe(){try{return globals.t.self!==globals.t.top}catch(e){return!0}}function refererUrl(){var e=function(){var e=window;try{for(;e.parent.document!==e.document&&e.parent.document;)e=e.parent}catch(e){}return e}(),t=window.location.href;return isIframe()&&document.referrer&&((t=e.document.referrer)||(t=e.document.location.href)),t}var AbstractElement=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,e),this.id=n,this.O=t,this.T=null,this.de=null,this._e=[],this.ve=[],this.ye=null,this.we=i,this.W=!0,this.ge=!1,this.be={},this.Ce=null,this.ke=null,this.ne="div"}return _createClass(e,[{key:"build",value:function(){var e=createElement(this.ne,this.be);return assert.m(this.Ce)&&(this.ke=createElement("span",null,this.O.i18n(this.Ce)),e.appendChild(this.ke)),assert.T(this.Ce)&&e.appendChild(this.Ce),e}},{key:"isAvailableInDom",get:function(){return this.W}},{key:"element",get:function(){return this.T||(this.T=this.build()),this.T}},{key:"root",get:function(){return this.ye?this.ye.root:this}},{key:"playerContainer",get:function(){return this.root.getChild("player_container")}},{key:"media",get:function(){return this.root.getChild("media")}},{key:"poster",get:function(){return this.root.getChild("poster")}},{key:"getChild",value:function(e){if(this.id===e)return this;for(var t=0;t<this.we.length;t++){var n=this.we[t].getChild(e);if(n)return n}return!1}},{key:"inject",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.de=e,this.ye=n,this.isAvailableInDom&&(!this.ge&&assert.T(e)&&e.appendChild(this.element),this.we.forEach(function(e){e.inject(t.ge?t.de:t.element,t)}))}},{key:"once",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.on(e,t,function s(){i.off(e,t,s,r,o);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n.apply(i.O,l)},r,o)}},{key:"on",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._e.push({target:e,type:t,handler:n,passive:i,capture:r}),on.call(this.O,e,t,n,i,r)}},{key:"off",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];off.call(this.O,e,t,n,i,r)}},{key:"live",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.ve.push({type:e,handler:t,passive:n,capture:i}),this.off(this.element,e,t,n,i),this.on(this.element,e,t,n,i)}},{key:"die",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.ve.push({type:e,handler:t,passive:i,capture:r}),this.ve.forEach(function(o,s){o.type===e&&o.handler===t&&o.passive===i&&o.capture===r&&n.ve.splice(s,1)}),this.off(this.element,e,t,i,r)}},{key:"trigger",value:function(e,t){triggerEvent.call(this.O,this.element,e,!0,t)}},{key:"onLanguageSwitch",value:function(){this.ke&&(this.ke.innerText=this.O.i18n(this.Ce)),this.we.forEach(function(e){e.onLanguageSwitch()})}},{key:"bind",value:function(){var e=this;this.we.forEach(function(e){e.bind()}),this.ve.forEach(function(t){e.on(e.element,t.type,t.handler,t.passive,t.capture)})}},{key:"unbind",value:function(){var e=this;this._e.forEach(function(t){e.off(t.target,t.type,t.handler,t.passive,t.capture)}),this.ve.forEach(function(t){e.off(e.element,t.type,t.handler,t.passive,t.capture)}),this._e=[],this.we.forEach(function(e){e.unbind()})}},{key:"destroy",value:function(){this.we.forEach(function(e){e.destroy()}),removeElement(this.element),this.T=null}},{key:"rebind",value:function(){this.unbind(),this.bind()}}]),e}(),ButtonControl=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i,r){var o,s=r.toggle,a=void 0!==s&&s,l=r.label,u=r.labelPressed,c=r.icon,h=r.iconPressed,d=r.text,f=r.className,m=r.tooltipClass,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(o=t.call(this,e,i)).Ee=a,o.Ce=l,o.Te=u,o.Pe=c,o.Ie=h,o.Se=f,o.Oe=p,o.Re=!browser.U,o.xe=null,o.Ae=null,o.Me=d,o.Le=!0,o.je=m,o.onClick=o.onClick.bind(_assertThisInitialized(o)),o.onTouchStart=o.onTouchStart.bind(_assertThisInitialized(o)),o}return _createClass(n,[{key:"onClick",value:function(){this.Re&&assert._(this.Oe)&&this.Oe.call(this);var e=this.root.getChild("context_menu");this.Le&&e&&e.visible&&e.toggle(!1),this.Re=!browser.U}},{key:"onTouchStart",value:function(){this.Re=!0}},{key:"attributes",get:function(){return{type:"button",class:[this.O.config.classNames.control,this.Se].filter(Boolean).join(" ")}}},{key:"build",value:function(){var e=createElement("button",this.attributes);this.Me&&(e.innerText=this.O.i18n(this.Me)),this.Ee?(this.Ie&&e.appendChild(createIcon(this.Ie,{class:"icon-pressed"})),this.Pe&&e.appendChild(createIcon(this.Pe,{class:"icon-not-pressed"})),this.Te&&(this.xe=this.createLabel(this.Te,{class:"label-pressed"}),e.appendChild(this.xe)),this.Ce&&(this.Ae=this.createLabel(this.Ce,{class:"label-not-pressed"}),e.appendChild(this.Ae))):(this.Pe&&e.appendChild(createIcon(this.Pe)),this.Ce&&(this.Ae=this.createLabel(this.Ce),e.appendChild(this.Ae)));var t=this.O.config.classNames.controlPressed;return Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return hasClass(e,t)},set:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];toggleClass(e,t,n)}}),e}},{key:"onLanguageSwitch",value:function(){this.Ae&&(this.Ae.innerText=this.O.i18n(this.Ce)),this.xe&&(this.xe.innerText=this.O.i18n(this.Te))}},{key:"bind",value:function(){this.on(this.element,"click",this.onClick),this.on(this.element,"touchstart",this.onTouchStart)}},{key:"createLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.O,i=[t.class,n.config.classNames.tooltip,this.je];return createElement("span",t=Object.assign(t,{class:i.filter(Boolean).join(" ")}),n.i18n(e))}}]),n}(),AdSkipButton=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"force_ad_skip_button",{toggle:!1,className:"force_ad_skip_button"})).counter=e.config.ads.forceSkipTime,i.allowSkip=!1,i.onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onClick",value:function(){this.O.ads.manager.active&&this.allowSkip&&this.O.ads.manager.stop()}},{key:"startCounter",value:function(){var e=this,t=setInterval(function(){e.counter--,e.root.getChild("force_ad_skip_button").element.innerHTML=e.counter,e.counter<=0&&(e.allowSkip=!0,e.root.getChild("force_ad_skip_button").element.innerHTML="SKIP AD",clearInterval(t))},1e3)}},{key:"build",value:function(){var e=this,t=createElement("button",this.attributes);return t.innerHTML=this.counter,this.O.on("adsloaded",function(){e.O.config.ads.currentAdRequiredForceSkip&&(e.counter=e.O.config.ads.forceSkipTime,e.startCounter())}),t}}]),n}(),ImaAdManager=function(e){_inherits(n,BaseAdManager);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).ze=null,i.Ne=!1,i.$e=!1,i.Be=null,i.De=null,i.Ve=null,i.Fe=null,i.Ue={},i.ae=1,i.He=!1,i.Ge=!1,i.onAdsManagerLoaded=i.onAdsManagerLoaded.bind(_assertThisInitialized(i)),i.onAdEvent=i.onAdEvent.bind(_assertThisInitialized(i)),i.onEnded=i.onAdEvent.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"init",value:function(){var e=this;return this.ze||(this.ze=loadJs(this.O.config.urls.ima,"ima"),this.ze.then(function(){var t=e.O,n=t.ui.media.element,i=0;google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(t.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(browser.N&&(t.isAudio||t.isReader)),t.on("volumechange",function(){var n=++i;e.manager.then(function(e){n===i&&e.setVolume(t.muted?0:t.volume)})}),t.on("sticky_state_update",function(){setTimeout(r,1)});var r=function(){e.$e&&e.manager.then(function(n){var i=t.ui.root.getChild("controls_container"),r=t.ui.media.element,o=r.offsetWidth,s=r.offsetHeight;if(e.container&&e.container.ad){var a=!e.container.ad.isLinear()&&i.visible?i.element.offsetHeight:e.container.ad.isLinear()?0:8;n.resize(o,s-a,google.ima.ViewMode.NORMAL)}})};t.on("controlshidden controlsshown",r),t.on("enterfullscreen exitfullscreen",r),window.addEventListener("resize",r),e.Be=new google.ima.AdDisplayContainer(e.container,n),e.on(["start"],function(t){e.visible=!0}),e.on("loaded",function(n){var i=n.getAd();e.container.ad=i,e.fe=i.isLinear(),!i.isLinear()&&t.paused&&t.play()}),e.on("impression",function(){setTimeout(r,1)}),e.on(["contentResumeRequested","userClose","error","complete","allAdsCompleted"],function(){e.visible=!1,e.container.ad=null}),e.We=!0}).catch(function(){e.fire("error")})),this.ze}},{key:"loader",get:function(){return this.De||(this.De=new google.ima.AdsLoader(this.Be),this.De.getSettings().setPlayerType("mowplayer"),this.De.getSettings().setPlayerVersion("1.1.0"),this.De.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1)),this.De}},{key:"manager",get:function(){var e=this;return this.Fe||(this.Fe=new Promise(function(t){e.on("initialized",function(n){e.$e=!0,t(n)})})),this.Fe}},{key:"onUserEvent",value:function(){!this.Ne&&this.Be&&(this.Ne=!0,this.Be.initialize())}},{key:"playTag",value:function(){var e=this;return new Promise(function(t,n){e.reset(),e.Ne||(e.Ne=!0,e.Be.initialize());var i=!1,r=e.O,o=r.ui.root.getChild("controls_container"),s=!e.container||!e.container.ad||e.container.ad.isLinear()&&e.pauseAllowed||!o.visible?0:o.element.offsetHeight,a=r.ui.media.element,l=a.offsetWidth,u=a.offsetHeight,c=new google.ima.AdsRequest,h=function(t){n(),r.trigger("adserror"),e.fire("error"),i=!0,r.debug.error(t)},d=e.tag;console.log("Receptivity Range at ad call time: "+r.config.receptivityRange),r.config.receptivityRange&&(d=d.replace("receptivity_value",r.config.receptivityRange).replace("ReceptivityState","ReceptivityLookalike")),browser.U||(d=d.replace("receptivity_value","Yes").replace("ReceptivityState","ReceptivityLookalike")),d=d.replace("description_url=[placeholder]","description_url="+encodeURIComponent(refererUrl())),c.adTagUrl=d,c.linearAdSlotWidth=l,c.linearAdSlotHeight=u,c.nonLinearAdSlotWidth=l,c.nonLinearAdSlotHeight=u,c.setAdWillPlayMuted(r.muted),c.setAdWillAutoPlay(r.autoplay),c.setContinuousPlayback(r.isPlaylist||r.isVideoArticle||r.config.autoplay_related.enabled&&r.isVideo),e.loader.requestAds(c),e.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,h,!1),e.manager.then(function(e){if(!i)try{e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,h),e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,t),e.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,t),e.addEventListener(google.ima.AdEvent.Type.IMPRESSION,function(e){e.getAd().isLinear()||t()}),e.init(l,u-s,google.ima.ViewMode.NORMAL),e.start()}catch(e){n()}}).catch(n)})}},{key:"onAdsManagerLoaded",value:function(e){var t=this,n=this.O,i=new google.ima.AdsRenderingSettings;i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i.enablePreloading=!0,i.autoAlign=!0,i.useStyledNonLinearAds=!0,i.AUTO_SCALE=!0,i.useStyledLinearAds=!0,this.Ve=e.getAdsManager(n,i);var r=function(){n.ui.media.element.addEventListener("ended",t.onEnded),n.ui.media.unstash(),t.isPostRoll()?n.trigger("postroll_ended"):t.me||n.play(),t.O.config.ads.currentAdRequiredForceSkip=!1,toggleClass(t.container,"mow-ad_force_skipable",!1)};this.Ve.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r),this.Ve.addEventListener(google.ima.AdEvent.Type.COMPLETE,r),this.Ve.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){n.ui.media.element.removeEventListener("ended",t.onEnded),n.pause(),n.trigger("adspauserequested")}),this.Ve.addEventListener(google.ima.AdEvent.Type.PAUSED,function(){t.He=!1}),this.Ve.addEventListener(google.ima.AdEvent.Type.RESUMED,function(){t.He=Date.now()-(assert.u(t.ce)?1e3*t.ce:0)}),this.Ve.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){var i=!1;e.getAd().isLinear()&&(i=!0,t.he=t.Ve.getRemainingTime()),t.O.config.ads.forceSkipable&&i&&!e.getAd().isSkippable()&&(t.O.config.ads.currentAdRequiredForceSkip=!0,toggleClass(t.container,"mow-ad_force_skipable",!0)),browser.U||toggleClass(t.container,n.config.classNames.ads.full_slot,i),n.ui.media.stash(),n.trigger("adsloaded"),t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Load",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.IMPRESSION,function(e){t.He=Date.now(),console.log("AD DATA:",t.tag,e.getAd()),e.getAd().isLinear()&&(t.visible=!0,t.se=!1,t.re=!1),n.trigger("adsimpression"),t.pe||t.pause(),t.O.config.receptivityRange&&(console.log("Trillered impressions..."),t.triggerPostMessage("contxtful_event",{Event:"Video_Impression",CreativeId:t.internalId}))}),this.Ve.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Start",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Q4",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Q1",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.MIDPOINT,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Q2",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Q3",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.PAUSED,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Pause",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Stop",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.RESUMED,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Resume",CreativeId:t.internalId})}),this.Ve.addEventListener(google.ima.AdEvent.Type.CLICK,function(e){t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Clicked",CreativeId:t.internalId})});var o=0;this.Ve.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,function(e){var i=e.getAdData();t.he=i.duration,t.re=!0,n.trigger("adsprogress"),o<parseInt(t.ce)&&(o=parseInt(t.ce),t.calculateReceptivity()),t.O.config.receptivityRange}),this.Ve.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(){n.trigger("adskipped"),t.O.config.ads.currentAdRequiredForceSkip=!1,toggleClass(t.container,"mow-ad_force_skipable",!1),t.O.config.receptivityRange&&t.triggerPostMessage("contxtful_event",{Event:"Video_Skip",CreativeId:t.internalId})}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.Ve.addEventListener(google.ima.AdEvent.Type[e],t.onAdEvent)}),this.fire("initialized",this.Ve)}},{key:"onEnded",value:function(){this.loader.contentComplete(),toggleClass(this.container,"mow-ad_force_skipable",!1),this.O.config.ads.currentAdRequiredForceSkip=!1}},{key:"onAdEvent",value:function(e){this.O.debug.log(e.type,e,"IMA"),this.fire(e.type,e)}},{key:"currentTime",get:function(){var e=_get(_getPrototypeOf(n.prototype),"currentTime",this);return this.He&&this.playing&&assert.u(this.duration)?(this.ce=Math.min((Date.now()-this.He)/1e3,this.duration),this.ce):e}},{key:"stop",value:function(){this.He=!1,this.$e&&this.manager.then(function(e){return e.stop()}),_get(_getPrototypeOf(n.prototype),"stop",this).call(this),toggleClass(this.container,"mow-ad_force_skipable",!1)}},{key:"pause",value:function(){this.He=!1,this.$e&&this.manager.then(function(e){return e.pause()}),_get(_getPrototypeOf(n.prototype),"pause",this).call(this)}},{key:"resume",value:function(){this.He=Date.now()-(assert.u(this.ce)?1e3*this.ce:0),this.$e&&this.manager.then(function(e){return e.resume()}),_get(_getPrototypeOf(n.prototype),"resume",this).call(this)}},{key:"reset",value:function(){this.loader.destroy(),this.loader.contentComplete(),this.$e&&this.manager.then(function(e){e.destroy()}),this.He=!1,this.ce=null,this.he=null,this.De=null,this.$e=!1,this.Fe=null,this.fe=!1}},{key:"on",value:function(e,t){var n=this;assert.C(e)||(e=[e]),e.forEach(function(e){assert.C(n.Ue[e])||(n.Ue[e]=[]),assert._(t)&&n.Ue[e].push(t)})}},{key:"triggerPostMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Trigging ContextFullEvent",t),this.O.config.receptivity&&(0==this.O.config.receptivity_events.length||this.O.config.receptivity_events.includes(t.Event))&&(console.log("Receptivity Fire for: "+t.Event),this.O.isInIframe?window.parent.postMessage({mowplayer:{type:e,data:t}},this.O.originUrl):"undefined"!=typeof Contxtful&&"function"==typeof Contxtful.Api.TriggerEvent&&(console.log("Non iframe Receptivity Trigger"),Contxtful.Api.TriggerEvent(t)))}},{key:"calculateReceptivity",value:function(){if(this.O.isInIframe){window.parent.postMessage({mowplayer:{type:"calculate_receptivity",data:{value:!0}}},this.O.originUrl)}else"undefined"!=typeof Contxtful&&"function"==typeof Contxtful.Api.SetReceptivity&&(console.log("Calculating non iframe receptivity..."),Contxtful.Api.SetReceptivity())}},{key:"fire",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this.Ue[e];assert.C(o)&&o.forEach(function(e){e.apply(t,i)})}}]),n}();function generateId(e){return e?"".concat(e,"-").concat(randomId()):"".concat(randomId())}function randomId(){return Math.floor(1e14+Math.random()*(9e14-1))}function format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return assert.S(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return n[t].toString()})}function getPercentage(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return 0!==e&&0!==t&&assert.u(e)&&assert.u(t)?(100*e/t).toFixed(n):0}function stripTags(e){var t=createElement("div",{},e);return(t.textContent||t.innerText||"").replace(/[\n\r]/g,"")}function copyToClipboard(e){var t=createElement("textarea",{readonly:"",style:"position: absolute; left: -9999px;"},e);if(document.body.appendChild(t),browser.N){var n=document.createRange(),i=window.getSelection();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),t.setSelectionRange(0,999999)}else t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}function multilineEllipsis(e){var t=e.innerText.split(" "),n=[],i=function(){return e.offsetHeight-e.parentNode.offsetHeight<5};e.innerText="";for(var r=!1;i()&&t.length;)if(n.push(t.shift()),e.innerText=n.join(" ")+"...",!i()){n.pop(),e.innerText=n.join(" ")+"...",r=!0;break}r||(e.innerText=n.join(" "))}var cookie=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return!!t&&t[2]},TritonAdManager=function(e){_inherits(n,BaseAdManager);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Ke=null,i.qe=null,i.Ye=!1,i.Ue={},i.He=null,i.fe=!0,i}return _createClass(n,[{key:"init",value:function(){var e=this;return this.Ke||(this.Ke=new Promise(function(t,n){loadJs(e.O.config.urls.triton).then(function(){var n=createElement("div",{style:"display: none;",id:generateId("triton")});e.O.ui.root.element.appendChild(n);var i={coreModules:[{id:"MediaPlayer",playerId:n.getAttribute("id"),idSync:{stationId:259413},timeout:20},{id:"SyncBanners",elements:[{id:e.container.getAttribute("id"),width:300,height:250}]}],playerReady:function(){e.qe=r,t(e.qe)},adBlockerDetected:function(){}},r=new TDSdk(i);r.addEventListener("ad-playback-start",function(){e.visible=!0,e.qe.setVolume(e.O.muted?0:e.O.volume),e.O.trigger("adsloaded"),e.O.trigger("adsimpression"),e.O.pause()}),r.addEventListener("ad-playback-complete",function(){e.fire("complete")}),r.addEventListener("ad-playback-error",function(){e.fire("error")}),r.addEventListener("ad-countdown",function(t){if(assert.u(t.data.countDown)){e.Ye||(e.Ye=!0,e.he=t.data.countDown,e.ce=0,e.He=Date.now());var n=e.he-t.data.countDown;n>e.ce&&(e.ce=n,e.He=Date.now())}e.O.trigger("adsprogress")}),e.O.on("volumechange",function(){e.qe.setVolume(e.O.muted?0:e.O.volume)})}).catch(n)})),this.Ke}},{key:"tag",get:function(){var e=new URL(_get(_getPrototypeOf(n.prototype),"tag",this)),t=cookie(this.O.config.triton.gdpr_cookie_name);return t&&(e.searchParams.set("gdpr","1"),e.searchParams.set("gdpr_consent",t)),e.toString()}},{key:"currentTime",get:function(){var e=0;return this.He&&(e=Date.now()-this.He),_get(_getPrototypeOf(n.prototype),"currentTime",this)+e/1e3}},{key:"playTag",value:function(){var e=this;return new Promise(function(t,n){e.He=!1,e.Ye=!1,e.ce=0,e.he=0,e.qe.playAd("vastAd",{url:e.tag}),e.once("complete",function(){t(),setTimeout(function(){e.isPostRoll()?e.O.trigger("postroll_ended"):e.O.play()})}),e.once("error",function(){n(),e.isPostRoll()||e.O.play()})})}},{key:"fire",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this.Ue[e];assert.C(o)&&(o.forEach(function(e){e.apply(t,i)}),this.Ue[e]=[])}},{key:"once",value:function(e,t){var n=this;assert.C(e)||(e=[e]),e.forEach(function(e){assert.C(n.Ue[e])||(n.Ue[e]=[]),assert._(t)&&n.Ue[e].push(t)})}},{key:"stop",value:function(){var e=this;this.Ke&&(this.He=!1,this.Ke.then(function(){e.qe.stop(),e.isPostRoll()||e.O.play()})),_get(_getPrototypeOf(n.prototype),"stop",this).call(this)}},{key:"pause",value:function(){this.qe&&(this.He=!1,this.qe.pause()),_get(_getPrototypeOf(n.prototype),"pause",this).call(this)}},{key:"resume",value:function(){this.qe&&(this.He=!1,this.qe.resume()),_get(_getPrototypeOf(n.prototype),"resume",this).call(this)}}]),n}(),OutStreamAdManager=function(e){_inherits(n,BaseAdManager);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"playTag",value:function(){var e=document.createRange();return this.container.innerHTML="",e.setStart(this.container,0),this.container.appendChild(e.createContextualFragment(this.tag)),this.visible=!0,_get(_getPrototypeOf(n.prototype),"playTag",this).call(this)}}]),n}(),Ads=function(){function e(t){_classCallCheck(this,e),this.O=t,this.Je={},this.Xe=[],this.Qe={},this.Ze={},this.Ve=null,this.et=null,this.tt=null,this.nt=null,this.it=1,this.rt=!1,this.ot="ima",this.st=0,this.at=!1,this.lt=null,this.ut=!1}return _createClass(e,[{key:"managerInstance",value:function(e){if(!this.Qe.hasOwnProperty(e)){var t;switch(e){case"mow_custom":t=new ImaAdManager(this.O);break;case"outstream":t=new OutStreamAdManager(this.O);break;case"triton":t=new TritonAdManager(this.O);break;case"ima":default:t=new ImaAdManager(this.O)}this.Qe[e]=t}return this.Qe[e]}},{key:"manager",get:function(){return this.Ve||(this.Ve=this.managerInstance(this.ot)),this.Ve}},{key:"id",get:function(){return this.et}},{key:"random",get:function(){return this.tt}},{key:"adSource",get:function(){return this.nt}},{key:"inject",value:function(){var e=this;this.rt=!0;var t=this.O;t.on("timeupdate ended",function(n){("timeupdate"!==n.type||t.playing)&&("ended"===n.type&&e.manager.stop(),e.manager.active||e.playAds().catch(noop))}),t.on("track_changed",function(){var n=++e.it;e.manager.stop(),e.Je={},Object.values(e.Ze).forEach(function(e){t.off("timeupdate",e.timeupdate),t.off("play",e.play)}),e.Ze={},e.ut=!1,e.lt=null,e.buildCue(!0,function(e){return assert.u(e.time)}),e.Xe.length&&e.manager.init(),once(e.O.media,"durationchange",function(){n<e.it||(e.buildCue(!1,function(e){return!assert.u(e.time)}),e.Xe.length&&e.manager.init())})})}},{key:"updateAdPriority",value:function(){var e=this.O.config.ads.marketplace_percentage/100;this.O.config.ad_priority=Math.random()<=e?"m":"p",console.log("Ad priority set to :"+("p"==this.O.config.ad_priority?"Publisher":"Marketplace"))}},{key:"buildCue",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(this.Xe=[]),n=assert._(n)?n:function(){return!0};var i=this.O,r=i.playlist.currentConfig,o=/^(\d+\.?\d*)%$/,s=[];if(assert.C(r.ads)?s.push(r.ads.map(function(e){return e.adSource="marketplace",e})):assert.l(r.ads)&&(assert.C(r.ads.publisher)&&s.push(r.ads.publisher.map(function(e){return e.adSource="publisher",e})),assert.C(r.ads.marketplace)&&s.push(r.ads.marketplace.map(function(e){return e.adSource="marketplace",e}))),s.length){var a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return merge({id:e.st++,time:0,user_time:!1,start_time:null,timezone:0,duration:null,repeat:!1,position:null,callback_type:null,adSource:null,type:null,client:"ima",configPosition:0,callback:!1},t,n)},l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.time;t.random=randomId();var s=null;t.callback_type&&r.callback_ads.hasOwnProperty(t.callback_type)&&(s=a(r.callback_ads[t.callback_type],{configPosition:1,callback:!0,adSource:t.adSource}));for(var l=e.Xe.length;l--;)if(e.Xe[l].isAd&&Math.abs(e.Xe[l].time-o)<1)return t.configPosition=e.Xe[l].ads.length,e.Xe[l].ads.push(t),void(s&&(s.configPosition=e.Xe[l].ads.length,e.Xe[l].ads.push(s)));var u=merge({time:t.time,user_time:t.user_time,duration:t.duration,duration_timer:null,duration_start_time:null,random:randomId(),ads:s?[t,s]:[t],isAd:!0},n);e.Xe.push(u),i.config.ads.checkPriority&&"linear"===t.type&&t.time>i.config.ads.priorityTime&&e.Xe.push(merge({},t,{isAd:!1,time:t.time-i.config.ads.priorityTime,random:randomId()}))},u=1/0;s.forEach(function(t){t.filter(n).forEach(function(t,n){t=a(t);var r=o.exec(t.time);if(r&&(t.time=parseFloat(r[1])*i.duration/100),"-1"!==t.time&&-1!==t.time||(t.time=i.duration),t.repeat&&t.repeat>0)if(i.provider.live){if(!(t.id in e.Ze)){var s=0,c=Date.now(),h=!1;e.Ze[t.id]={timeupdate:function(){var e=Date.now();s+=(e-c)/1e3,c=e;var n=t.repeat-s;if(n<10&&!h){var i=new Date;l(t,{time:3600*i.getUTCHours()+60*i.getUTCMinutes()+i.getUTCSeconds()+n,user_time:!0}),h=!0}n<=0&&h&&(s=Math.abs(n),h=!1)},play:function(){c=Date.now()}},i.on("timeupdate",e.Ze[t.id].timeupdate),i.on("play",e.Ze[t.id].play)}}else for(var d=1;d<=i.duration/t.repeat;d++)l(t,{time:t.time*d});else l(t);t.time<u&&(u=t.time,e.ot=t.client,e.Ve=null)})}),i.debug.log(this.Xe,"CUE")}}},{key:"playAds",value:function(){var e=this;if(!this.rt)return Promise.reject();var t=this.O;if(this.manager.active||t.fullscreen.active&&browser.N&&t.config.fullscreen.iosNative)return Promise.reject();for(var n=t.config.ads.gap,i=t.provider.live?0:t.currentTime,r=t.duration,o=new Date,s=3600*o.getUTCHours()+60*o.getUTCMinutes()+o.getUTCSeconds(),a=null,l=0,u=function(o){var u=e.Xe[o],c=n;if(u.duration){var h=0;if(u.duration_start_time)h+=((new Date).getTime()-u.duration_start_time.getTime())/1e3;c+=h}if((u.user_time?s>=u.time&&s-u.time<=c:i>=u.time&&i-u.time<=c)&&!e.wasPlayed(u.random)){if(u.isAd){u.duration||e.wasPlayed(u.random,!0);return{v:new Promise(function(n,i){(function(){if(!e.lt)return new Promise(function(n){var i=function(){var e="p"===t.config.ad_priority&&0===t.currentTime?"publisher":"marketplace",n=u.ads.slice().filter(function(t){return t.adSource===e});return n.sort(function(e,t){return e.configPosition-t.configPosition}),console.log(n,"QWE"),n};t.isVideo&&browser.U&&t.config.receptivity?e.ut||e.at||(e.at=!0,a=setInterval(function(){t.config.receptivityRange&&(console.log("Interval.. 123 Receptivity found..."),e.ut=!0,e.at=!1,clearInterval(a),n(i()),l=0),l>500&&(clearInterval(a),n(i()),l=0),l++},10)):e.ut||e.at||!t.config.ads.pre_roll_check_priority?e.at||n(i()):(e.at=!0,e.updateAdPriority(),e.ut=!0,e.at=!1,n(i()))})})().then(function(o){for(var s=function(i){var s=o[i];if(!e.wasPlayed(s.random)){e.et=s.id,e.tt=s.random,e.nt=s.adSource,u.duration?u.duration_timer||(u.duration_start_time=new Date,u.duration_timer=setTimeout(function(){e.wasPlayed(s.random,!0),e.wasPlayed(u.random,!0),u.duration_start_time=null,u.duration_timer=null,t.ads.manager.active&&t.ads.manager.stop()},1e3*u.duration)):e.wasPlayed(s.random,!0);var a=i;return function n(i){var s=Math.round(100*u.time/r),l=!1,c=!1;e.et=i.id,e.tt=i.random,e.nt=i.adSource,e.Ve=e.managerInstance(i.client),t.ui.root.element.dataset.manager=i.client,e.manager.play(i.url,s,i.type,o.length-(a+1)>1,i.internal_id).catch(function(){l=!0}).finally(function(){if(e.et=null,e.tt=null,e.nt=null,(l||t.config.ads.strict_waterfall)&&o.length-a>1)for(;o.length-a>1;){var r=o[++a];if(!r.callback||l){c=!0,n(r);break}}c||(100===s?t.trigger("postroll_ended"):(t.play(),u.duration&&(e.wasPlayed(u.random,!0),e.wasPlayed(i.random,!0),setTimeout(function(){e.wasPlayed(u.random,!1),e.wasPlayed(i.random,!1),t.play()},3e4))))})}(s),n(),{v:void 0}}},a=0;a<o.length;a++){var l=s(a);if("object"===_typeof(l))return l.v}i()})})}}e.wasPlayed(u.random)||(e.updateAdPriority(),e.wasPlayed(u.random,!0))}},c=0;c<this.Xe.length;c++){var h=u(c);if("object"===_typeof(h))return h.v}return Promise.reject()}},{key:"wasPlayed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===t)return this.Je[e];this.Je[e]=t}}]),e}(),defaults$1={code:null,native_title:null,shuffle_index:null,title:"",description:"",album:"",author:"",native_description:null,embed:null,thumbnail:null,stream:!1,url:null,file:null,live:null,duration:"",programs:[],ads:{},callback_ads:{}},Playlist=function(){function e(t){_classCallCheck(this,e),this.O=t,this.ct=0,this.ht={},this.dt=t.config.media,this.ft=null,this.pt=null,this._t={},this.vt=!1,this.Ne=!1}return _createClass(e,[{key:"current",get:function(){return this.ct},set:function(e){this.ht={},this._t={},this.ct=e;var t=this.O.ui.root.getChild("playlist");t&&t.updateClasses(),this.O.trigger("track_changed")}},{key:"shuffle",get:function(){return this.vt},set:function(e){var t=this.current,n=this.currentConfig;if(e){var i=this.dt.slice();i.forEach(function(e,t){i[t].shuffle_index=t});for(var r=i.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1)),s=[i[o],i[r]];i[r]=s[0],i[o]=s[1]}this.ft=i;for(var a=this.ft.length;a--;)if(this.ft[a].shuffle_index===t){this.ct=a;break}}else this.ct=n.shuffle_index,this.ft=null;this.ht={},this.vt=e}},{key:"shuffleMedia",get:function(){return this.ft}},{key:"relatedVideo",get:function(){return this.pt},set:function(e){this.pt=merge({id:null,video_random:randomId()},defaults$1,e)}},{key:"relatedVideoObject",get:function(){return assert.l(this.pt)?this.pt:merge({id:null},defaults$1)}},{key:"initialized",get:function(){return this.Ne}},{key:"left",get:function(){return this.length-this.current-1}},{key:"trackInfo",get:function(){return this._t},set:function(e){this._t=e}},{key:"currentConfig",get:function(){return this.relatedVideo?this.relatedVideo:this.config(this.current)}},{key:"media",get:function(){var e=this,t=[];return this.dt.forEach(function(n,i){t.push(e.config(i))}),t}},{key:"hasAds",get:function(){for(var e,t,n=0;n<this.length;n++)if(e=this.config(n).ads,t=void 0,t=!1,assert.C(e)&&(t=e.length>0),assert.l(e)&&e.hasOwnProperty("marketplace")&&assert.C(e.marketplace)&&(t=t||e.marketplace.length>0),assert.l(e)&&e.hasOwnProperty("publisher")&&assert.C(e.publisher)&&(t=t||e.publisher.length>0),t)return!0;return!1}},{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e=mod(e,this.length),!this.ht.hasOwnProperty(e)){var t=this.vt?this.ft[e]:this.dt[e];this.ht[e]=merge({id:e,video_random:randomId()},defaults$1,t)}return this.ht[e]}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.O.ui.media;e=mod(e,this.length);var i=this.config(e);this.pt=null,n.clearStash(),this.current=e,n.source=i,this.Ne=!0,t&&this.O.play(),this.O.config.logo.mowplay&&(this.O.config.logo.mowplay=this.O.config.logo.mowplay_base_url+i.code,this.O.container.querySelector(".mow__controls .mow__logo.default_logo a")&&this.O.container.querySelector(".mow__controls .mow__logo.default_logo a").setAttribute("href",this.O.config.logo.mowplay))}},{key:"prev",value:function(){this.play(this.current-1)}},{key:"next",value:function(){this.play(this.current+1)}},{key:"length",get:function(){return this.dt.length}}]),e}();function loadCss(e){return window.mowPromiseCache=window.mowPromiseCache||{},e in window.mowPromiseCache||(window.mowPromiseCache[e]=new Promise(function(t,n){var i=document.createElement("link");i.onload=t,i.onerror=n,i.type="text/css",i.rel="stylesheet",i.href=e,i.setAttribute("data-mowloaded",!0),document.head.appendChild(i)})),window.mowPromiseCache[e]}var BaseProvider=function(){function e(t){_classCallCheck(this,e),this.O=t,this.T=null,this.ne="div",this.be={class:"mow__media"},this.yt="base",this.wt=!1,this.gt=!1}return _createClass(e,[{key:"live",get:function(){return this.liveOriginal||this.O.playlist.currentConfig.live}},{key:"liveOriginal",get:function(){return this.wt||this.duration===1/0}},{key:"stream",get:function(){return this.gt||this.live}},{key:"code",get:function(){return this.yt}},{key:"element",get:function(){return this.T||(this.T=this.createElement()),this.T}},{key:"paused",get:function(){return!0}},{key:"ended",get:function(){return!0}},{key:"src",get:function(){},set:function(e){}},{key:"muted",get:function(){return!1},set:function(e){}},{key:"volume",get:function(){return 0},set:function(e){}},{key:"currentTime",get:function(){return 0},set:function(e){this.fire("seeked")}},{key:"buffered",get:function(){return 0}},{key:"duration",get:function(){return 0}},{key:"seeking",get:function(){return!1}},{key:"play",value:function(){return Promise.resolve()}},{key:"pause",value:function(){}},{key:"fire",value:function(e,t){triggerEvent.call(this.O,this.element,e,!0,t)}},{key:"createElement",value:function(){return createElement(this.ne,this.be)}}]),e}(),Html5Provider=function(e){_inherits(n,BaseProvider);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e);var r=e.isAudio&&e.config.audio.thumbnail&&browser.U;return i.yt="html5",i.ne=e.isVideo||r?"video":"audio",i.bt=null,i.Ct=1,i.kt=!1,i.Et=e.config.mute_live_on_pause,i.Tt=!1,i.Pt=!1,i.be.playsinline="",e.config.mute&&(i.be.muted=""),e.config.preload&&(i.be.preload=e.config.preload),i}return _createClass(n,[{key:"paused",get:function(){return this.element.paused||this.Et&&this.Tt}},{key:"ended",get:function(){return this.element.ended}},{key:"src",get:function(){return this.element.getAttribute("src")},set:function(e){this.element.setAttribute("src",e)}},{key:"muted",get:function(){return this.Tt?this.Pt:this.element.muted},set:function(e){this.Tt?(this.Pt=e,this.O.trigger("volumechange")):this.element.muted=e}},{key:"volume",get:function(){return this.element.volume},set:function(e){this.element.volume=e}},{key:"currentTime",get:function(){return null!==this.bt?this.bt:this.element.currentTime},set:function(e){var t=this,n=++this.Ct;this.element.readyState>0?this.element.currentTime=e:(this.bt=e,once(this.element,"loadeddata",function(){n<t.Ct||(t.element.currentTime=e,t.bt=null)}))}},{key:"buffered",get:function(){return this.element.buffered}},{key:"duration",get:function(){return this.element.duration}},{key:"seeking",get:function(){return this.element.seeking}},{key:"play",value:function(){var e=this;this.kt&&(this.kt=!1,this.currentTime=0,this.element.load()),this.Tt&&(this.Tt=!1,this.muted=this.Pt);var t=this.element.play();return t?t.catch(noop):t=Promise.resolve(),this.O.once("error",function(){e.element.error&&e.element.error.message&&-1!==e.element.error.message.indexOf("PIPELINE_ERROR_DECODE")&&(e.element.load(),e.element.play())}),t}},{key:"pause",value:function(){if(this.Et&&this.live){if(!this.Tt){var e=this.muted;this.muted=!0,this.Tt=!0,this.Pt=e}}else this.element.pause(),this.live&&this.pauseLive()}},{key:"pauseLive",value:function(){this.kt=!0}}]),n}(),HlsProvider=function(e){_inherits(n,Html5Provider);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).It=null,i.St=null,i.Ot=noop,i.gt=!0,i.Rt=!1,i.xt=null,i}return _createClass(n,[{key:"hls",get:function(){var e=this;return this.It||(this.It=new Promise(function(t,n){loadJs(e.O.config.urls.hls).then(function(){var n=new Hls;n.on(Hls.Events.MEDIA_ATTACHED,function(){t(n)}),n.on(Hls.Events.LEVEL_LOADED,function(t,n){e.wt=n.details.live,e.Rt=!0}),n.on(Hls.Events.ERROR,function(t,n){n.fatal&&e.Ot(),e.O.debug.error(n)}),n.attachMedia(e.element)}).catch(n)})),this.It}},{key:"src",set:function(e){var t=this;!1!==e?this.element.canPlayType("application/x-mpegURL")?_set(_getPrototypeOf(n.prototype),"src",e,this,!0):this.St!==e&&this.hls.then(function(i){i.loadSource(e),t.St=e,t.Ot=function(){_set(_getPrototypeOf(n.prototype),"src",e,t,!0)}}):_set(_getPrototypeOf(n.prototype),"src",e,this,!0)}},{key:"pauseLive",value:function(){this.Rt&&(this.xt=new Date,this.hls.then(function(e){e.detachMedia()}))}},{key:"play",value:function(){var e=this;return this.element.canPlayType("application/x-mpegURL")?_get(_getPrototypeOf(n.prototype),"play",this).call(this):this.Rt&&this.live&&this.xt?(this.xt=null,void this.hls.then(function(t){t.attachMedia(e.element);t.on(Hls.Events.MEDIA_ATTACHED,function i(){_get(_getPrototypeOf(n.prototype),"play",e).call(e),t.off(Hls.Events.MEDIA_ATTACHED,i)})})):_get(_getPrototypeOf(n.prototype),"play",this).call(this)}}]),n}(),StorageModule=function(){function e(){_classCallCheck(this,e),this.At="mow-"}return _createClass(e,[{key:"read",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=this.At+e;try{return JSON.parse(window.localStorage.getItem(e))||t}catch(e){return t}}},{key:"write",value:function(e,t){e=this.At+e;try{return window.localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}}]),e}(),Color=function(){function e(t){_classCallCheck(this,e),t instanceof e?Object.assign(this,t):("#"===t.charAt(0)&&(t=t.substring(1)),3===t.length&&(t=[t.charAt(0),t.charAt(0),t.charAt(1),t.charAt(1),t.charAt(2),t.charAt(2)].join("")),this.R=parseInt(t.substring(0,2),16),this.G=parseInt(t.substring(2,4),16),this.B=parseInt(t.substring(4,6),16),this.A=1)}return _createClass(e,[{key:"clone",value:function(){return new e(this)}},{key:"rgba",value:function(e){var t=this.clone();return t.A=e,t}},{key:"darken",value:function(e){var t=(100-e)/100,n=this.clone();return n.R=Math.max(Math.min(n.R*t,255),0),n.G=Math.max(Math.min(n.G*t,255),0),n.B=Math.max(Math.min(n.B*t,255),0),n}},{key:"toString",value:function(){return"rgba(".concat(this.R,", ").concat(this.G,", ").concat(this.B,", ").concat(this.A,")")}}]),e}(),Theme=function(){function e(t){_classCallCheck(this,e),this.O=t,this.apply(),this.applyStyles()}return _createClass(e,[{key:"config",get:function(){var e=merge({},this.O.config.theme);return assert.m(e.primary_color)&&(e.secondary_color||(e.secondary_color=e.primary_color),e.thumb_color||(e.thumb_color=new Color(e.primary_color).darken(-30).toString())),e}},{key:"apply",value:function(){Object.entries(this.config).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];i&&document.documentElement.style.setProperty("--mow__"+n,i)})}},{key:"applyStyles",value:function(){var e=this.config,t='.mow input[type="range"]::',n=[];e.secondary_color&&e.primary_color&&n.push("".concat(t,"-ms-fill-lower {background-image: linear-gradient(to right, ").concat(e.secondary_color,", ").concat(e.primary_color,")}")),e.secondary_color&&(n.push(".mow-type_audio .mow__track-info-title {color: ".concat(e.secondary_color,"}")),n.push(".mow-type_audio .mow__live-badge {color: ".concat(e.secondary_color,"}")),n.push(".mow-type_audio .mow__live-badge:before {background: ".concat(e.secondary_color,"}"))),e.thumb_color&&n.push("".concat(t,"-ms-thumb {background-color: ").concat(e.thumb_color,";}"));var i=this.O.config,r=i.width,o=i.height,s=i.ratio,a=16,l=9;if(s){var u=_slicedToArray(s.split(":").map(function(e){return parseFloat(e)}),2);a=u[0],l=u[1]}var c=l/a;r&&o&&(c=o/r),c*=100;var h=format(this.O.config.classNames.playlist.type,this.O.type);n.push(".".concat(h," .mow__video-wrapper:before {padding-top: ").concat(c,"%;}")),this.O.config.audio&&this.O.config.audio.reader&&this.O.config.audio.reader.theme&&(n.push(".".concat(h," .mow__audio_reader {background-color: ").concat(this.O.config.audio.reader.theme,";  }")),n.push(".".concat(h," .mow__audio_reader_bottom_arrow:after {border-top-color: ").concat(this.O.config.audio.reader.theme," !important; }")),n.push(".".concat(h," .mow__audio_reader_left_arrow:after {border-right-color: ").concat(this.O.config.audio.reader.theme," !important; }")),n.push(".".concat(h," .mow__audio_reader_top_arrow:after {border-bottom-color: ").concat(this.O.config.audio.reader.theme," !important; }")),n.push(".".concat(h," .mow__audio_reader_right_arrow:after {border-left-color: ").concat(this.O.config.audio.reader.theme," !important; }")),n.push(".".concat(h," .mow__media-error-overlay {background: ").concat(this.O.config.audio.reader.theme,";}")));var d=createElement("style",{type:"text/css"},n.join(""));document.head.appendChild(d)}}]),e}(),getHours=function(e){return parseInt(e/60/60%60,10)},getMinutes=function(e){return parseInt(e/60%60,10)},getSeconds=function(e){return parseInt(e%60,10)};function formatTime(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=assert.u(e)?e:0;var n=function(e){return"0".concat(e).slice(-2)},i=getHours(e),r=getMinutes(e),o=getSeconds(e);return i=t||i>0?"".concat(n(i),":"):"","".concat(i).concat(n(r),":").concat(n(o))}function parseTime(e){var t=0,n=1,i=assert.m(e)?e.split(":"):[];return i.length<=3&&i.length>0?i.reverse().forEach(function(e){t+=parseInt(e,10)*n,n*=60}):t=NaN,t}function normalizeTime(e){return e<0?86400+e:e>=86400?mod(e,86400):e}var Program=function(){function e(t){_classCallCheck(this,e),this.Mt=null,this.Lt=null,this.jt=null,this.zt=[],this.O=t}return _createClass(e,[{key:"prepare",value:function(){var e=this.O.playlist.currentConfig.programs;if(this.Mt=null,this.Lt=null,this.jt=null,this.zt=[],assert.C(e)&&e.length){var t=["sun","mon","tue","wed","thu","fri","sat"],n=new Date,i=86400*n.getDay()+60*n.getTimezoneOffset(),r=i+86400,o=86400*n.getDay()+n.getSeconds()+60*(n.getMinutes()+n.getTimezoneOffset())+3600*n.getHours(),s=[];e.forEach(function(e,i){var r=parseTime(e.start_at),o=parseTime(e.end_at),a=normalizeTime(r-60*n.getTimezoneOffset()),l=normalizeTime(o-60*n.getTimezoneOffset()),u=merge({id:i,title:"",name:"",start:r,end:o,start_local:a,end_local:l,start_local_formatted:formatTime(a,!0).slice(0,5),end_local_formatted:formatTime(l,!0).slice(0,5),description:"",start_at:null,end_at:null,thumbnail:null,live:!1,days:t},e);s.push(u)}),s.sort(function(e,t){return e.start_local-t.start_local});var a=[];t.forEach(function(e,t){s.forEach(function(n){if(n.days.includes(e)&&n.start_at&&n.end_at){n.title=n.name;var i=86400*t+n.start,r=86400*(n.end<n.start?t+1:t)+n.end;a.push({start:i,end:r,program:merge({},n,{week_start_time:i,week_end_time:r})})}})}),a.sort(function(e,t){return e.start-t.start});for(var l=0;l<a.length;l++){var u=a[l].start>=i&&a[l].start<r||a[l].start<i&&a[l].end>=i,c=merge({today:u},a[l].program);a[l].start<=o&&o<a[l].end&&(this.Mt=c),a[l].start>o&&o>a[mod(l-1,a.length)].start&&(this.jt=c),a[l].end<o&&(o<a[mod(l+1,a.length)].end||l+1===a.length)&&(this.Lt=c),u&&(this.Mt&&this.Mt.id===c.id&&this.Mt.week_start_time===c.week_start_time&&(c.live=!0),this.zt.push(c))}}}},{key:"currentProgram",get:function(){return this.prepare(),this.Mt}},{key:"previousProgram",get:function(){return this.prepare(),this.Lt}},{key:"nextProgram",get:function(){return this.prepare(),this.jt}},{key:"todayPrograms",get:function(){return this.prepare(),this.zt}}]),e}();function getAudioReaderText(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=["iframe","style","input","button","textarea","form","table","select","script"],r={"li, li *":4,"h1, h1 *, h2, h2 *, h3, h3 *, h4, h4 *, h5, h5 *, h6, h6 *":1,"p, p *, article, article *, header, header *":1,"nav *, .mow-reader-skip, .mow-reader-skip *":1/0};if(t='.mow,[data-mow_video],iframe[src^="https://mowplayer.com/"], iframe[src^="//mowplayer.com/"], iframe[data-src^="https://mowplayer.com/"], iframe[data-src^="//mowplayer.com/"]'+(t?","+t:"")){var o=[];t.split(",").forEach(function(e){o.push(e),o.push(e+" *")}),r[o.join(", ")]=1/0}var s=function e(t){Array.from(t.childNodes).forEach(function(o){var s=[];o instanceof Text?s.push(o.wholeText):o instanceof HTMLElement&&-1===i.indexOf(o.tagName)&&null!==o.offsetParent&&o.offsetHeight>0&&o.offsetWidth>0&&e(o);var a=s.join(" "),l=10;Object.entries(r).forEach(function(e){var n=_slicedToArray(e,2),i=n[0],r=n[1];t.matches(i)&&(l=r)}),a.trim().split(/\s+/).length>=l&&n.push(a)})};if(!1===e)s(document.body);else{var a=document.querySelectorAll(e);Array.from(a).forEach(function(e){return s(e)})}return n.join(" ").replace(/\s+/g," ").trim()}var TTSProvider=function(e){_inherits(n,Html5Provider);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Nt=null,i.$t=null,i.Bt=null,i.Dt={},i}return _createClass(n,[{key:"addTextCache",value:function(e,t){this.Dt[e]=t}},{key:"getText",value:function(e){var t=this,n=this.O;return new Promise(function(i){t.O.isInIframe?(n.iframe.trigger("get_tts_text",{selector:e,skip:n.config.audio.reader.skip_selector}),n.iframe.once("set_tts_text",function(t){t.selector===e&&i(t.text)})):(e in t.Dt&&i(t.Dt[e]),t.Dt[e]=getAudioReaderText(e,n.config.audio.reader.skip_selector),i(t.Dt[e]))})}},{key:"file",get:function(){var e=this;if(!this.$t){var t=this.O;this.$t=new Promise(function(n,i){e.getText(e.Nt).then(function(e){xhr(t.config.urls.tts,"POST","content="+encodeURIComponent(e)+"&id="+t.config.audio.reader.id,"json",{"Content-type":"application/x-www-form-urlencoded","mow-data3":t.config.audio.reader.code}).then(function(e){n(e.file)}).catch(i)}).catch(i)})}return this.$t}},{key:"play",value:function(){var e=this;return this.file.then(function(t){e.Bt!==t&&_set(_getPrototypeOf(n.prototype),"src",t,e,!0),e.Bt=t,_get(_getPrototypeOf(n.prototype),"play",e).call(e)})}},{key:"src",set:function(e){this.Nt=e,this.$t=null}}]),n}(),IframeModule=function(){function e(t){_classCallCheck(this,e),this.O=t,this.et=this.O.config.code,this._e={},this.pausedByVisiblity=!1}return _createClass(e,[{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.parent.postMessage({mowplayer:{id:this.et,type:e,data:t}},this.O.originUrl)}},{key:"on",value:function(e,t){e in this._e||(this._e[e]=[]),this._e[e].push(t)}},{key:"off",value:function(e,t){if(e in this._e)for(var n=this._e[e].length;n--;)if(this._e[e][n]===t){this._e[e].splice(n,1);break}}},{key:"once",value:function(e,t){var n=this;this.on(e,function i(r){t(r),n.off(e,i)})}},{key:"onForcePause",value:function(e){}},{key:"onReceptivityRange",value:function(e){this.O.config.receptivityRange=e.value}},{key:"isAmpMessage",value:function(e){return e.data&&"amp"==e.data.sentinel}},{key:"bind",value:function(){var e=this;this.trigger("SetPlayerSettings",this.O.config);var t=this.O;globals.t.addEventListener("message",function(n){var i=n.data;if(assert.l(i)&&assert.l(i.mowplayer)){var r=Object.assign({type:"",data:{}},i.mowplayer),o=("on_"+r.type).replace(/(_\w)/g,function(e){return e[1].toUpperCase()});assert._(e[o])&&e[o].call(e,r.data),r.type in e._e&&e._e[r.type].forEach(function(e){e.call(t,r.data)})}}),this.trigger("handshake"),t.trigger("iframe_module_ready"),t.config.sticky.enabled&&(t.isVideo||t.isReader)&&(console.log("Fire Sticky..."),this.trigger("stick_player",t.config.sticky),this.on("sticky_state_update",function(e){t.trigger("sticky_state_update",e)})),t.on(defaults.events.join(" "),function(n){setTimeout(function(){e.trigger(n.type,{type:t.type,state:{volume:t.volume,currentTime:t.currentTime,paused:t.paused,playing:t.playing,muted:t.muted,duration:t.duration,config:t.config,dimensions:{width:t.ui.root.element.offsetWidth,height:t.ui.root.element.offsetHeight}}})},30)})}}]),e}(),MapShim=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,i){return e[0]===t&&(n=i,!0)}),n}return function(){function t(){this.Vt=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.Vt.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.Vt,t),i=this.Vt[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.Vt,t);~i?this.Vt[i][1]=n:this.Vt.push([t,n])},t.prototype.delete=function(t){var n=this.Vt,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.Vt,t)},t.prototype.clear=function(){this.Vt.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.Vt;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},trailingTimeout=2;function throttle(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&a()}function s(){requestAnimationFrame$1(o)}function a(){var e=Date.now();if(n){if(e-r<trailingTimeout)return;i=!0}else n=!0,i=!1,setTimeout(s,t);r=e}return a}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;transitionKeys.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),defineConfigurable=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},getWindowOf=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+toFloat(e["border-"+n+"-width"])},0)}function getPaddings(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=toFloat(o)}return t}function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}function getHTMLElementContentRect(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return emptyRect;var i=getWindowOf(e).getComputedStyle(e),r=getPaddings(i),o=r.left+r.right,s=r.top+r.bottom,a=toFloat(i.width),l=toFloat(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=getBordersSize(i,"left","right")+o),Math.round(l+s)!==n&&(l-=getBordersSize(i,"top","bottom")+s)),!isDocumentElement(e)){var u=Math.round(a+o)-t,c=Math.round(l+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(c)&&(l-=c)}return createRectInit(r.left,r.top,a,l)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof getWindowOf(e).SVGGraphicsElement}:function(e){return e instanceof getWindowOf(e).SVGElement&&"function"==typeof e.getBBox};function isDocumentElement(e){return e===getWindowOf(e).document.documentElement}function getContentRect(e){return isBrowser?isSVGGraphicsElement(e)?getSVGContentRect(e):getHTMLElementContentRect(e):emptyRect}function createReadOnlyRect(e){var t=e.x,n=e.y,i=e.width,r=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return defineConfigurable(s,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),s}function createRectInit(e,t,n,i){return{x:e,y:t,width:n,height:i}}var ResizeObservation=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ResizeObserverEntry=function(){return function(e,t){var n=createReadOnlyRect(t);defineConfigurable(this,{target:e,contentRect:n})}}(),ResizeObserverSPI=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ResizeObservation(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new ResizeObserverEntry(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ResizeObserverController.getInstance(),i=new ResizeObserverSPI(t,n,this);observers.set(this,i)}}();["observe","unobserve","disconnect"].forEach(function(e){ResizeObserver.prototype[e]=function(){var t;return(t=observers.get(this))[e].apply(t,arguments)}});var index=void 0!==global$1.ResizeObserver?global$1.ResizeObserver:ResizeObserver,VisibilityObserver=function(){function VisibilityObserver(e){_classCallCheck(this,VisibilityObserver),this.O=e,this.Ft=!1,this.Ut=null,this.Ht=!1,this.Gt=!1,this.Wt=!1,this.outstreamInjected=!1,this.visiblityAdFired=!1,this.watch=this.watch.bind(this),this.onIframeModuleReady=this.onIframeModuleReady.bind(this),this.autoplayRun=!1}return _createClass(VisibilityObserver,[{key:"onIframeModuleReady",value:function(){var e=this,t=this.O;t.iframe.trigger("visibility_observer",{breakpoint:t.config.visibility.breakpoint}),t.iframe.on("handshake_done",function(){clearTimeout(e.Ut)}),t.iframe.on("visibility_observer_visibility",function(n){n.visible?t.ads.manager.playerVisibility=!0:t.ads.manager.playerVisibility=!1,n.visible&&t.config.visibility.autoplay&&t.paused&&!e.Ft&&(e.Ft=!0,browser.U&&!e.Ht&&(t.muted=!0,e.Ht=!0,t.ui.root.element.classList.remove(t.config.classNames.showPlayPause)),t.play()),!t.config.sticky.enabled&&t.started&&(n.visible||!t.config.visibility.pause||t.paused||(e.Gt=!0,t.pause()),n.visible&&t.config.visibility.pause&&t.paused&&e.Gt&&t.play()),t.ads.manager.active&&(n.visible?t.ads.manager.resume():t.ads.manager.pause())})}},{key:"watch",value:function(){var e=this.O,t=e.ui.playerContainer.element;if(!e.isReader){var n=t.getBoundingClientRect(),i=n.height*e.config.visibility.breakpoint,r=n.top>0&&n.top+i<window.innerHeight||n.top<0&&n.top+i>0||e.fullscreen.active,o=e.ui.media.element.offsetWidth;if(e.ads.manager.playerVisibility=!!r,r&&e.config.visibility.autoplay&&e.paused&&!this.Ft&&(this.Ft=!0,browser.U&&!this.Ht&&(e.muted=!0,this.Ht=!0,e.ui.root.element.classList.remove(e.config.classNames.showPlayPause)),e.play()),!e.config.sticky.enabled&&e.started&&(r||!e.config.visibility.pause||e.paused||(this.Gt=!0,e.pause()),r&&e.config.visibility.pause&&e.paused&&this.Gt&&e.play()),e.ads.manager.active&&(r?e.ads.manager.resume():e.ads.manager.pause()),!this.O.config.ads.out_stream.mobile&&!this.O.config.ads.out_stream.desktop||this.outstreamInjected||r&&!this.visiblityAdFired&&(this.visiblityAdFired=!0,this.outstreamInjected=!0,o<768&&this.O.config.ads.out_stream.mobile?this.inject_outstream_ad(this.O.config.ads.out_stream.mobile):this.O.config.ads.out_stream.desktop?this.inject_outstream_ad(this.O.config.ads.out_stream.desktop):this.O.config.ads.out_stream.mobile&&this.inject_outstream_ad(this.O.config.ads.out_stream.mobile)),browser.U&&e.config.mobile_full_width&&!this.Wt){this.Wt=!0;var s=function(){var t=e.ui.root.element.parentNode.getBoundingClientRect();if(t.width<window.screen.availWidth){var n=t.left,i=window.screen.availWidth-t.right;e.ui.root.element.parentNode.style.marginLeft="-"+n+"px",e.ui.root.element.parentNode.style.marginRight="-"+i+"px"}};s(),window.addEventListener("orientationchange",s)}}}},{key:"inject",value:function(){var e=this;this.O.isInIframe?(this.O.on("iframe_module_ready",this.onIframeModuleReady),this.Ut=setTimeout(function(){e.O.config.visibility.autoplay&&e.O.paused&&!e.Ft&&(e.Ft=!0,e.O.play())},6e3)):(this.O.on("ready",this.onReady),this.O.isVideo||this.O.isReader?on.call(this.O,globals.t,"resize scroll",this.watch,!0,!0):this.O.config.autoplay&&this.O.play())}},{key:"inject_outstream_ad",value:function inject_outstream_ad(passback){var container=this.O.ui.playerContainer.element,id="mow_player-in-player-banner";if(""!==passback){try{var MatchedIds=passback.match(/id="(.*?)"/g).map(function(e){return e.replace(/id="/g,"").replace('"',"")});if(MatchedIds.length>0){var newId=generateId("mow_");passback=passback.replace(new RegExp(MatchedIds[0],"g"),newId)}}catch(e){}var b=document.getElementsByTagName("body")[0],s1=document.createElement("div");s1.id=id,s1.style="padding:0px;background:#fff;bottom:5px;top:auto;position:absolute;display:none;",passback+='<span class="mow-passback-close" style="display:none;width: 28px;\n    height: 28px;\ncursor: pointer;    position: absolute;\n    right: -13px;\n    top: -13px;\n    text-align: center;\n    box-shadow: 0 0 5px #333;\n    border-radius: 50%;\n    line-height: 32px;\n    background-color: #FFF;"><svg width="12" height="12" enable-background="new 0 0 20 20" viewBox="0 0 20 20" \n                 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <clipPath id="a">\n                    <path d="m0 0h20v20h-20z"/>\n                </clipPath>\n                <path clip-path="url(#a)"\n                      d="m19 20c-.3 0-.5-.1-.7-.3l-8.3-8.3-8.3 8.3c-.4.4-1 .4-1.4 0s-.4-1 0-1.4l8.3-8.3-8.3-8.3c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l8.3 8.3 8.3-8.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-8.3 8.3 8.3 8.3c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z"/>\n            </svg>\n</span>',s1.innerHTML=passback,container.appendChild(s1);var existingContent=document.querySelector("#"+id).textContent,checkAdInternal=setInterval(function(){document.querySelector("#"+id)?document.querySelector("#"+id).textContent!=existingContent&&(document.querySelector("#"+id).style.display="block",document.querySelector("#"+id).style.left="50%",document.querySelector("#"+id).style.marginLeft="-"+document.querySelector("#"+id).offsetWidth/2+"px",clearInterval(checkAdInternal)):clearInterval(checkAdInternal)},1),adScripts=document.querySelectorAll("#"+id+" script");adScripts.forEach(function(adScript,index){adScript.getAttribute("src")||eval(adScript.innerHTML)}),adScripts.forEach(function(e,t){if(e.getAttribute("src")){var n=document.createElement("script");n.src=e.getAttribute("src"),document.getElementsByTagName("script")[0].before(n)}}),container.querySelector(".mow-passback-close")&&container.querySelector(".mow-passback-close").addEventListener("click",function(){container.querySelector("#mow_player-in-player-banner").parentNode.removeChild(container.querySelector("#mow_player-in-player-banner"))},!1)}}}]),VisibilityObserver}(),BasePlugin=function(){function e(t){_classCallCheck(this,e),this.O=t,this.Kt=!1,this.inject()}return _createClass(e,[{key:"inject",value:function(){}},{key:"alias",get:function(){return this.Kt}}]),e}(),BaseUI=function(e){_inherits(n,BasePlugin);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"inject",value:function(){this.Kt="ui"}},{key:"buildTree",value:function(){throw Error("No UI")}},{key:"build",value:function(e){this.root=this.buildTree(),this.root.inject(e),this.root.bind(),this.media.toggleNativeControls()}},{key:"media",get:function(){return this.root.media}},{key:"playerContainer",get:function(){return this.root.playerContainer}},{key:"poster",get:function(){return this.root.getChild("poster")}}]),n}(),BaseContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _classCallCheck(this,n),(o=t.call(this,e,r,s)).be.class=i,o}return n}(),keyMap={qt:9,Yt:13,Jt:27,Xt:32,Qt:37,Zt:38,tn:39,nn:40,in:48,rn:49,sn:50,an:51,ln:52,un:53,cn:54,hn:55,dn:56,mn:57,pn:70,_n:73,vn:75,yn:76,wn:77,gn:79},RootContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{classes:[]};_classCallCheck(this,n);var s=e.config.classNames,a=[s.root,s.playlist.wrapper,e.config.classNames.waitPlay,e.config.classNames.hideControls,e.config.classNames.type.replace("{0}",e.isVideo?"video":"audio"),e.config.classNames.provider.replace("{0}",e.provider.code),format(s.playlist.type,e.type)];o.classes.forEach(function(e){return a.push(e)}),browser.N&&a.push(s.isIos),browser.V&&a.push(s.isAndroid),browser.M&&a.push(s.isIE),browser.U&&(a.push(s.isMobile),e.isVideo&&a.push(s.showPlayPause)),a.push(s.uiSupported),e.isVideo&&a.push("mow__ratio__"+(e.config.ratio?e.config.ratio.replace(":","_"):"16_9")),e.isAudio&&e.config.audio.sticky&&a.push(s.audioSticky),e.isAudio&&a.push(format(s.theme,e.config.audio.theme)),e.provider.live&&a.push(s.isLive),e.isAmp?a.push("mw-amp"):isIframe()?a.push("mw-iframe"):a.push("mw-script"),i=t.call(this,e,a.join(" "),"root",r);var l=e.config.css||"";if(!e.isInIframe){var u=e.config,c=u.width,h=u.height;u.ratio,u.responsive;c&&(l+=";width: "+c+"px"),h&&(l+=";height: "+h+"px")}if(e.config.font&&(i.element.ownerDocument.querySelectorAll("head")[0].insertAdjacentHTML("beforeend",'<link href="'+e.config.font.link+'" rel="stylesheet">'),l+=".mow__playlist{ font-family: "+e.config.font.font_family+" !important }"),assert.m(l)&&i.element.ownerDocument.querySelectorAll("head")[0].insertAdjacentHTML("beforeend",'<style type="text/css">'+l+"</style>"),e.config.video_article&&e.config.video_article.label){var d='<div class="mow_video_article_label">'+e.config.video_article.label+"</div>";e.isInIframe&&i.element.ownerDocument.querySelector("#mowplayer")?i.element.ownerDocument.querySelector("#mowplayer").insertAdjacentHTML("afterbegin",d):document.querySelectorAll(".mowplayer.mowplayer-container").forEach(function(e,t){e.insertAdjacentHTML("afterbegin",d)})}return i.onRatioUpdate=i.onRatioUpdate.bind(_assertThisInitialized(i)),i.onTabFocus=i.onTabFocus.bind(_assertThisInitialized(i)),i.onShortCut=i.onShortCut.bind(_assertThisInitialized(i)),i.onChangePageVisibility=i.onChangePageVisibility.bind(_assertThisInitialized(i)),i.onMessage=i.onMessage.bind(_assertThisInitialized(i)),i.onControlsToggle=i.onControlsToggle.bind(_assertThisInitialized(i)),i.onCheckLoading=i.onCheckLoading.bind(_assertThisInitialized(i)),i.onDurationChange=i.onDurationChange.bind(_assertThisInitialized(i)),i.updatePlayingClasses=i.updatePlayingClasses.bind(_assertThisInitialized(i)),i.onStartPlaying=i.onStartPlaying.bind(_assertThisInitialized(i)),i.onRequestPlaying=i.onRequestPlaying.bind(_assertThisInitialized(i)),i.onClick=i.onClick.bind(_assertThisInitialized(i)),i.te=!1,i.bn=null,i.Cn=e.config.autoplay,i.be.tabindex="0",i.kn=e.createResizeObserver(function(){i.trigger("resize"),i.onResize()}),i}return _createClass(n,[{key:"onResize",value:function(){var e=this,t=this.media.element.offsetWidth,n=this.media.element.offsetHeight;if(console.log("Resizing level 2...",this.O.config.ratio,t,n),this.O.isReader&&toggleClass(this.element,"mow_audio_reader",!0),this.O.config.ratio)this.O.isVideoArticle?this.element.offsetWidth>540?toggleClass(this.element,"mow__video_article_info_bottom",!1):toggleClass(this.element,"mow__video_article_info_bottom",!0):this.O.isPlaylist&&(this.element.offsetWidth>580?toggleClass(this.element,"mow__playlist_position_bottom",!1):toggleClass(this.element,"mow__playlist_position_bottom",!0));else if(this.O.isVideoArticle){var i=n-(this.element.querySelector(".mow__playlist-title-wrapper").offsetHeight+66+130);i+=16-i%16;for(var r=this.element.querySelectorAll(".mow__playlist-item-description"),o=0;o<r.length;o++)r[o].style.maxHeight=i+"px",r[o].style.height=i+"px";this.element.offsetWidth>780?(toggleClass(this.element,"mow__ratio__4_3",!1),toggleClass(this.element,"mow__ratio__16_9",!0),toggleClass(this.element,"mow__video_article_info_bottom",!1)):this.element.offsetWidth>660?(toggleClass(this.element,"mow__ratio__4_3",!0),toggleClass(this.element,"mow__ratio__16_9",!1),toggleClass(this.element,"mow__video_article_info_bottom",!1)):this.element.offsetWidth>540?(toggleClass(this.element,"mow__ratio__4_3",!1),toggleClass(this.element,"mow__ratio__16_9",!0),toggleClass(this.element,"mow__video_article_info_bottom",!0)):this.element.offsetWidth>430?(toggleClass(this.element,"mow__ratio__4_3",!0),toggleClass(this.element,"mow__ratio__16_9",!1),toggleClass(this.element,"mow__video_article_info_bottom",!0)):toggleClass(this.element,"mow__video_article_info_bottom",!0)}else this.O.isPlaylist?("bottom"!==this.O.config.playlist.position?this.element.offsetWidth>810?(toggleClass(this.element,"mow__ratio__4_3",!1),toggleClass(this.element,"mow__ratio__16_9",!0),toggleClass(this.element,"mow__playlist_position_bottom",!1)):this.element.offsetWidth>660?(toggleClass(this.element,"mow__ratio__4_3",!0),toggleClass(this.element,"mow__ratio__16_9",!1),toggleClass(this.element,"mow__playlist_position_bottom",!1)):this.element.offsetWidth>580?(toggleClass(this.element,"mow__ratio__4_3",!1),toggleClass(this.element,"mow__ratio__16_9",!0),toggleClass(this.element,"mow__playlist_position_bottom",!0)):this.element.offsetWidth>430?(toggleClass(this.element,"mow__ratio__4_3",!0),toggleClass(this.element,"mow__ratio__16_9",!1),toggleClass(this.element,"mow__playlist_position_bottom",!0)):toggleClass(this.element,"mow__playlist_position_bottom",!0):toggleClass(this.element,"mow__playlist_position_bottom",!0),this.O.config.playlist.vertical&&(toggleClass(this.element,"mow__playlist_layout_vertical",!0),toggleClass(this.element,"mow__playlist_layout_default",!1))):(this.O.isSimpleVideo||this.O.isPlaylist&&this.O.isVideo)&&(browser.U||(this.element.offsetWidth<=580?(this.O.config.ratio="4:3",toggleClass(this.element,"mow__ratio__4_3",!0),toggleClass(this.element,"mow__ratio__16_9",!1)):(this.O.config.ratio="16:9",toggleClass(this.element,"mow__ratio__4_3",!1),toggleClass(this.element,"mow__ratio__16_9",!0))));for(var s=[0],a=300;a<=1600;a+=50)s.push(a);s.push(1/0);for(var l=0;l<s.length-1;l++){var u=s[l+1];if(s[l]<=t&&t<u){isFinite(u)&&(Array.from(this.element.classList).forEach(function(t){t.match(/mw_size_\d+/)&&toggleClass(e.element,t,!1)}),toggleClass(this.element,"mw_size_"+u,!0));break}}}},{key:"onDurationChange",value:function(){toggleClass(this.element,this.O.config.classNames.isLive,this.O.provider.live&&!this.O.ads.manager.visible)}},{key:"onRatioUpdate",value:function(){isIframe()}},{key:"onTabFocus",value:function(e){var t=this,n=this.O.config.classNames.tabFocus;if(clearTimeout(this.En),"keydown"===e.type){if(e.which!==keyMap.qt)return;this.Tn=e.timeStamp}var i=e.timeStamp-this.Tn<=20;("focus"!==e.type||i)&&(toggleClass(t.element.querySelectorAll(".".concat(n)),n,!1),this.En=setTimeout(function(){var e=globals.i.activeElement;t.element.contains(e)&&toggleClass(globals.i.activeElement,n,!0)},10))}},{key:"onShortCut",value:function(e){var t=this.O,n=t.ads.manager.active||t.provider.live,i=e.keyCode?e.keyCode:e.which,r="keydown"===e.type&&i===this.Pn,o=t.ui.root.getChild("share_screen"),s=t.ui.root.getChild("share");if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&assert.u(i))if("keydown"===e.type){var a=t.ui.root.getChild("keyboard_hint");switch(t.ui.root.getChild("controls_container").toggleIn(2e3),Object.values(keyMap).includes(i)&&i!==keyMap.Jt&&(e.preventDefault(),e.stopPropagation()),i){case keyMap.in:case keyMap.rn:case keyMap.sn:case keyMap.an:case keyMap.ln:case keyMap.un:case keyMap.cn:case keyMap.hn:case keyMap.dn:case keyMap.mn:r||n||(t.currentTime=t.duration/10*(i-keyMap.in));break;case keyMap.Xt:case keyMap.vn:r||(a.hint(t.playing?"pause":"play"),t.ads.manager.active?t.ads.manager.playing?t.ads.manager.pause():t.ads.manager.resume():t.togglePlay());break;case keyMap.Zt:a.hint("volume"),t.increaseVolume(.1);break;case keyMap.nn:a.hint(0===t.volume||t.muted?"muted":"volume-down"),t.increaseVolume(-.1);break;case keyMap.wn:r||(a.hint(t.muted?"volume":"muted"),t.muted=!t.muted);break;case keyMap.tn:n||(a.hint("seek-forward"),t.forward());break;case keyMap.Qt:n||(a.hint("seek-backward"),t.rewind());break;case keyMap.pn:t.fullscreen.toggle();break;case keyMap.Jt:o&&s&&o.active&&s.onClick()}!t.fullscreen.native&&t.fullscreen.active&&i===keyMap.Jt&&t.fullscreen.toggle(),this.Pn=i}else this.Pn=null}},{key:"onChangePageVisibility",value:function(){var e=this.O;!e.isVideo||e.isVideo&&e.provider.live||("hidden"===globals.i.visibilityState?(e.ads.manager.playerVisibility=!1,e.ads.manager.visible&&e.ads.manager.pause(),this.te=!1,e.playing&&(this.te=!0,e.pause())):(e.ads.manager.playerVisibility=!0,e.ads.manager.visible&&e.ads.manager.resume(),this.te&&e.play()))}},{key:"onMessage",value:function(e){if(assert.l(e.data)){if(e.data.hasOwnProperty("mow_api_method")){var t=e.data.mow_api_method,n=e.data.mow_api_args;assert._(this.O[t])&&this.O[t].apply(this.O,assert.C(n)?n:[])}if(e.data.hasOwnProperty("event")&&"mowOrigin"===e.data.event){var i=merge({href:null,isAmp:!1},e.data.info);this.O.isAmp=i.isAmp,this.O.originUrl=i.href}}}},{key:"onControlsToggle",value:function(e){var t="controlsshown"===e.type;toggleClass(this.root.element,this.O.config.classNames.showPlayPause,t)}},{key:"onCheckLoading",value:function(e){var t=this,n=this.O;n.loading=["stalled","waiting","adspauserequested"].includes(e.type),"adsrequested"===e.type&&n.paused&&(n.loading=!0),"play_requested"===e.type&&n.paused&&(n.loading=!0),n.ads.manager.visible&&(n.loading=!1),["play_requested","adsrequested"].includes(e.type)&&(this.Cn=!0),clearTimeout(this.bn),this.bn=setTimeout(function(){!t.Cn&&n.loading||toggleClass(t.element,n.config.classNames.loading,n.loading)},200)}},{key:"updatePlayingClasses",value:function(){var e=this.O,t=e.config.classNames;toggleClass(this.element,t.ads.playing,e.ads.manager.playing),toggleClass(this.element,t.ads.active,e.ads.manager.active),toggleClass(this.element,t.ads.visible,e.ads.manager.visible),toggleClass(this.element,t.ads.linear,e.ads.manager.visible&&e.ads.manager.linear),toggleClass(this.element,t.playing,e.playing),toggleClass(this.element,t.paused,e.paused),toggleClass(this.element,t.stopped,e.stopped),toggleClass(this.element,t.isLive,e.provider.live&&(!e.ads.manager.visible||!e.ads.manager.linear)),this.O.isVideoArticle&&this.onResize()}},{key:"onStartPlaying",value:function(){var e=this.O.config.classNames;toggleClass(this.element,e.waitPlay,!1),toggleClass(this.element,e.requestPlay,!1);var t=this.element.querySelector("#mow_player-in-player-banner");t&&t.parentNode.removeChild(t)}},{key:"onRequestPlaying",value:function(){var e=this.O.config.classNames;toggleClass(this.element,e.requestPlay,!0)}},{key:"onClick",value:function(){this.element.focus()}},{key:"exitHandler",value:function(){document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||(console.log("Exiting Full screen..."),this.onResize())}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),globals.t.parent!==globals.t&&(this.on(this.media,"ready",this.onRatioUpdate),this.on(globals.t,"resize",this.onRatioUpdate),this.on(globals.t,"message",this.onMessage),this.onRatioUpdate()),this.on(globals.i,"visibilitychange",this.onChangePageVisibility),this.on(globals.i.body,"keydown focus blur",this.onTabFocus,!1,!0);var e=this.O;if(e.config.shortcuts.enabled){var t=e.config.shortcuts.global||e.isAudio&&e.config.audio.sticky?globals.t:this.element;this.on(t,"keydown keyup",this.onShortCut,!1,!0)}isIframe(),browser.U&&e.isVideo&&this.on(this.media.element,"controlshidden controlsshown",this.onControlsToggle),this.on(this.element,"waiting stalled seeked playing adsrequested adspauserequested adsimpression adserror play_requested timeupdate",this.onCheckLoading),this.on(this.element,"playing play adsrequested pause ended emptied timeupdate adsprogress adsimpression track_changed postroll_ended",this.updatePlayingClasses),this.on(this.media.element,"durationchange loadeddata loadedmetadata",this.onDurationChange),this.once(this.element,"timeupdate adsprogress adsimpression",this.onStartPlaying),this.once(this.element,"play adsrequested",this.onRequestPlaying),this.on(this.element,"click",this.onClick,!0,!0),document.addEventListener("fullscreenchange",this.exitHandler.bind(this)),document.addEventListener("webkitfullscreenchange",this.exitHandler.bind(this)),document.addEventListener("mozfullscreenchange",this.exitHandler.bind(this)),document.addEventListener("MSFullscreenChange",this.exitHandler.bind(this)),this.kn.observe(this.element)}},{key:"unbind",value:function(){_get(_getPrototypeOf(n.prototype),"unbind",this).call(this),this.kn.unobserve(this.element)}}]),n}(),OverlayElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:305,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,n),i=t.call(this,e);var a=[e.config.classNames.overlay,e.config.classNames.helper.hidden];return i.be={class:a.join(" ")},s&&(i.Ce=s),i.In=r,i.Sn=o,i.onUpdateWidth=i.onUpdateWidth.bind(_assertThisInitialized(i)),i.onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"visible",get:function(){return!1}},{key:"onUpdateWidth",value:function(){toggleClass(this.element,this.O.config.classNames.helper.hidden,!this.visible)}},{key:"onClick",value:function(){this.O.isVideo&&this.O.togglePlay()}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"resize",this.onUpdateWidth),this.on(this.element,"click",this.onClick),this.onUpdateWidth()}}]),n}(),PlayerContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,n);var o=[e.config.classNames.container];return(i=t.call(this,e,o.join(" "),"player_container",r)).be.tabindex="1",i}return _createClass(n,[{key:"width",get:function(){return this.element.offsetWidth}}]),n}(),TextElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i,r,o){var s,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return _classCallCheck(this,n),(s=t.call(this,e,r)).be.class=i,s.Ce=o,s.W=a,s.On=!1,null!==l&&(s.be.title=l),s}return _createClass(n,[{key:"applyTitle",set:function(e){this.On=e}},{key:"text",set:function(e){this.element.innerText=e,this.On&&(this.title=e)}},{key:"title",set:function(e){this.element.title=e}},{key:"html",set:function(e){this.element.innerHTML=e}}]),n}(),IconElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return _classCallCheck(this,n),(r=t.call(this,e)).Pe=i,o&&(r.be.class=o),r}return _createClass(n,[{key:"icon",set:function(e){var t=!0;e.match(/^https?:\/\/.*/)?(t=!1,this.element.innerHTML='<img src="'+e+'"/>'):(this.element.innerHTML="",this.element.appendChild(createIcon(e))),toggleClass(this.element,"mow__svg-icon",t)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.icon=this.Pe}}]),n}(),ErrorElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e,null,[new IconElement(e,"error"),new TextElement(e,"mow__media-error-overlay-label",null,"media_error")]);var r=["mow__media-error-overlay",e.config.classNames.helper.hidden];return i.be={class:r.join(" ")},i.onError=i.onError.bind(_assertThisInitialized(i)),i.onTrackChanged=i.onTrackChanged.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onError",value:function(e){this.media.element.error&&(toggleClass(this.element,this.O.config.classNames.helper.hidden,!1),toggleClass(this.root.element,"mow__media-error",!0),this.O.debug.error(e))}},{key:"onTrackChanged",value:function(){toggleClass(this.element,this.O.config.classNames.helper.hidden,!0),toggleClass(this.root.element,"mow__media-error",!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.media.element,"error",this.onError),this.on(this.root.element,"track_changed",this.onTrackChanged)}}]),n}(),TitleElement=function(e){_inherits(n,TextElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,e.config.classNames.title,"title","")).onControlsToggle=i.onControlsToggle.bind(_assertThisInitialized(i)),i.onTrackChanged=i.onTrackChanged.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"title",set:function(e){this.element.innerText=e}},{key:"onControlsToggle",value:function(e){var t="controlshidden"===e.type;this.O.playing||(t=!1),toggleClass(this.element,this.O.config.classNames.title_hidden,t)}},{key:"onTrackChanged",value:function(){this.title=this.O.playlist.currentConfig.title}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"controlshidden controlsshown",this.onControlsToggle),this.on(this.root.element,"track_changed",this.onTrackChanged)}}]),n}(),ShareControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"share",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"close",s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_classCallCheck(this,n);var a=[];return s&&(a.push(e.config.classNames.controls.share),a.push(e.config.classNames.controls.share_hidden)),(i=t.call(this,e,"share",{toggle:!0,icon:r,iconPressed:o,className:a.join(" ")},function(){var e=i.O;e.playing?(i.Rn=!0,e.pause()):i.Rn&&(i.Rn=!1,e.play());navigator.share&&browser.U?navigator.share({url:e.originUrl}).finally(function(){i.Rn&&(i.Rn=!1,e.play())}):i.root.getChild("sharing_overlay")?(i.root.getChild("sharing_overlay").toggle(!0),i.root.getChild("share_screen").toggle(!0)):(i.element.pressed=!i.element.pressed,i.root.getChild("share_screen").toggle(i.element.pressed))})).W=e.config.sharing,i.Rn=!1,i.onControlsToggle=i.onControlsToggle.bind(_assertThisInitialized(i)),i.onPlay=i.onPlay.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onControlsToggle",value:function(e){var t=this,n="controlshidden"===e.type;setTimeout(function(){toggleClass(t.element,t.O.config.classNames.controls.share_hidden,t.getChild("controls_container").visible)},n?200:0)}},{key:"onPlay",value:function(){this.element.pressed=!1;var e=this.root.getChild("share_screen");e&&e.toggle(!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.media.element,"controlshidden controlsshown",this.onControlsToggle),this.on(this.media.element,"play",this.onPlay)}}]),n}(),WrapperElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return _classCallCheck(this,n),(r=t.call(this,e,null,o)).W=s,r.be.class=i,r}return n}(),InputElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(i=t.call(this,e)).be=r,i.ne="input",i}return n}(),ShareScreenElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n);var r=function(t){return format(e.config.classNames.share_screen.icon,t)},o=e.originUrl,s=encodeURIComponent(o),a="scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0",l=assert.C(e.config.sharing)?e.config.sharing:["facebook","twitter","linkedin","email"],u=[];l.includes("facebook")&&u.push(new ButtonControl(e,"share_screen_facebook",{icon:"facebook",className:r("facebook")},function(){window.open("https://www.facebook.com/sharer/sharer.php?u="+s,"_blank",a)})),l.includes("twitter")&&u.push(new ButtonControl(e,"share_screen_twitter",{icon:"twitter",className:r("twitter")},function(){window.open("https://twitter.com/intent/tweet?text=&url="+s,"_blank",a)})),l.includes("linkedin")&&u.push(new ButtonControl(e,"share_screen_linkedin",{icon:"linkedin",className:r("linkedin")},function(){window.open("https://www.linkedin.com/shareArticle?mini=true&url="+s,"_blank",a)})),l.includes("email")&&u.push(new ButtonControl(e,"share_screen_email",{icon:"email",className:r("email")},function(){window.location.href="mailto:?subject="+e.playlist.currentConfig.title+"&body="+o}));var c=[new WrapperElement(e,e.config.classNames.share_screen.share_wrapper,[new TextElement(e,e.config.classNames.share_screen.title,"share_screen_title",e.isVideo?"share_screen_title":"share_screen_title_audio"),new WrapperElement(e,e.config.classNames.share_screen.middle_wrapper,[new WrapperElement(e,e.config.classNames.share_screen.buttons_wrapper,[new WrapperElement(e,e.config.classNames.share_screen.buttons_wrapper_inner,u)]),new WrapperElement(e,e.config.classNames.share_screen.copy_wrapper,[new InputElement(e,{class:e.config.classNames.share_screen.copy_text,value:o,type:"text",readonly:!0}),new ButtonControl(e,"share_screen_copy",{icon:"copy",className:r("copy"),label:"copy",tooltipClass:"mow__share_copy_text"},function(){copyToClipboard(o);var t=i.element.querySelector(".mow__tooltip");t.innerText=e.i18n("copied"),setTimeout(function(){t.innerText=e.i18n("copy")},2e3)})])])])];return(i=t.call(this,e,"share_screen",c)).be={class:i.O.config.classNames.share_screen.container},i.onAdImpression=i.onAdImpression.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"toggle",value:function(e){var t=this.O;toggleClass(this.root.element,t.config.classNames.share_screen.active,e),e?(this.te=t.playing,t.pause()):this.te&&t.play()}},{key:"active",get:function(){return hasClass(this.root.element,this.O.config.classNames.share_screen.active)}},{key:"onAdImpression",value:function(){this.toggle(!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"adsimpression",this.onAdImpression)}}]),n}(),MediaContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,n),(i=t.call(this,e,e.config.classNames.video,"media_container",r)).onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onClick",value:function(e){var t=this.O,n=this.root.getChild("related").element,i=this.root.getChild("force_ad_skip_button").element,r=t.ads.manager.container;e.target===n||n.contains(e.target)||e.target===i||i&&i.contains(e.target)||(e.target===r||r.contains(e.target)||this.element.contains(e.target)&&(t.touch&&t.config.hideControls||(t.ui.root.getChild("keyboard_hint").hint(t.playing?"pause":"play"),t.ended?(t.restart(),t.play()):t.togglePlay(),t.ads.manager.onUserEvent())))}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"click",this.onClick)}}]),n}(),MediaElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"media")).xn=null,i.An=null,e.isAudio&&(i.be.class=e.config.classNames.helper.hidden),i.proxyEvent=i.proxyEvent.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"build",value:function(){return this.O.provider.element}},{key:"stash",value:function(){this.An&&(this.xn=merge({},this.An,{currentTime:this.O.provider.currentTime}))}},{key:"unstash",value:function(){this.xn&&(this.source=this.xn,this.clearStash())}},{key:"clearStash",value:function(){this.xn=null}},{key:"source",get:function(){return this.An},set:function(e){var t=this.O;if(assert.l(e)){t.debug.log(e),this.An=e;var n=e.file,i=e.thumbnail,r=e.title,o=e.currentTime;assert.I(i)&&this.poster&&this.poster.setPoster(i),t.provider.src=n,browser.U&&this.element.setAttribute("title",r),Object.assign(t,{title:r}),o&&(t.currentTime=o),t.ready=!0,t.trigger("ready"),t.muted=t.config.mute}else t.debug.warn(102)}},{key:"toggleNativeControls",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.O;e&&t.isHTML5?this.element.setAttribute("controls",""):this.element.removeAttribute("controls")}},{key:"proxyEvent",value:function(e){var t=this.O,n=e.detail,i=void 0===n?{}:n;"error"===e.type&&(i=this.element.error),triggerEvent.call(t,this.root.element,e.type,!0,i)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this);var e=this.O.config.events.concat(["keyup","keydown"]),t=e.indexOf("resize");-1!==t&&e.splice(t,1),this.on(this.element,e.join(" "),this.proxyEvent)}}]),n}(),PosterElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"poster")).be={class:i.O.config.classNames.poster},i}return _createClass(n,[{key:"inject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_get(_getPrototypeOf(n.prototype),"inject",this).call(this,e,t);var i=this.O.playlist.config();assert.I(i.thumbnail)&&this.setPoster(i.thumbnail)}},{key:"toggle",value:function(e){toggleClass(this.root.element,this.O.config.classNames.posterEnabled,e)}},{key:"setPoster",value:function(e){var t=this.O,n=this.media;t.isVideo&&n&&n.element.setAttribute("poster",e),Object.assign(this.element.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""})}}]),n}(),RelatedItemElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(i=t.call(this,e)).K=merge({id:null,title:"",thumbnail:null,file:null,duration:null,description:null,callback_ads:{},mowplay_ads:{}},r),i.be.class=e.config.classNames.related.item,i.onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"build",value:function(){var e=_get(_getPrototypeOf(n.prototype),"build",this).call(this),t=this.O.config.classNames.related,i=this.K.duration;assert.u(i)&&(i=formatTime(i,getHours(i)>0));var r=createElement("img",{src:this.K.thumbnail}),o=createElement("div",{class:t.image_wrapper}),s=createElement("span",{},i),a=createElement("header",{},this.K.title);if(o.appendChild(r),e.appendChild(o),e.appendChild(s),e.appendChild(a),browser.U){var l=createElement("div",{class:"mow__related-item-play"});l.appendChild(createIcon("play")),e.appendChild(l)}return e}},{key:"onClick",value:function(e){e.stopPropagation();var t=this.O,n=merge({provider:"html5"},this.K);t.playlist.relatedVideo=n,t.ui.media.source=n,t.trigger("track_changed"),t.play();var i=t.ui.root.getChild("playlist");i&&i.updateClasses()}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"click",this.onClick)}}]),n}(),SliderElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,n);var s=new ButtonControl(e,null,{toggle:!1,icon:"left-angle",className:"mow__slider-previous"},function(){i.previous()}),a=new ButtonControl(e,null,{toggle:!1,icon:"right-angle",className:"mow__slider-next"},function(){i.next()}),l=[];o.forEach(function(t){l.push(new WrapperElement(e,"mow__slider-slide",[t]))});var u=new WrapperElement(e,"mow__slider-slide-container",l);return(i=t.call(this,e,null,[s,u,a])).Mn=0,i.Ln=1,i.be.class="mow__slider",i.jn=a,i.zn=s,i.Nn=l,i.perPage=r,i}return _createClass(n,[{key:"inject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_get(_getPrototypeOf(n.prototype),"inject",this).call(this,e,t),this.page=0}},{key:"toggleControls",value:function(e){var t=this;[this.zn,this.jn].forEach(function(n){toggleClass(n.element,t.O.config.classNames.hidden,!e)})}},{key:"pageCount",get:function(){return Math.ceil(this.Nn.length/this.Ln)}},{key:"page",get:function(){return this.Mn},set:function(e){this.Mn=mod(e,this.pageCount);var t=this.Mn*this.Ln,n=(this.Mn+1)*this.Ln-1;this.Nn.forEach(function(e,i){var r=i>=t&&i<=n;toggleClass(e.element,"mow__slider-slide_visible",r)})}},{key:"perPage",set:function(e){this.Ln=e,this.toggleControls(e<this.Nn.length)}},{key:"next",value:function(){this.page++}},{key:"previous",value:function(){this.page--}}]),n}(),RelatedAutoplay=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);var o=e.config.classNames.related,s=globals.i.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("class","circle-progress"),browser.H||browser.U?(s.setAttribute("width","60"),s.setAttribute("height","60")):(s.setAttribute("width","80"),s.setAttribute("height","80"));var a=globals.i.createElementNS("http://www.w3.org/2000/svg","circle");browser.H||browser.U?(a.setAttribute("r","20"),a.setAttribute("cx","30"),a.setAttribute("cy","30")):(a.setAttribute("r","36"),a.setAttribute("cx","40"),a.setAttribute("cy","40")),a.setAttribute("fill","transparent"),a.setAttribute("stroke-width","4"),a.setAttribute("stroke","white"),s.appendChild(a);var l=new TextElement(e,o.autoplay_cancel_title,"related_autoplay_cancel","cancel"),u=[new WrapperElement(e,o.autoplay_button_wrapper,[new WrapperElement(e,o.autoplay_wrapper_up,[new TextElement(e,o.autoplay_next_title,"related_autoplay_next_title","next"),new TextElement(e,o.autoplay_media_title,"related_autoplay_media_title",r.title)]),new WrapperElement(e,o.autoplay_button_inner_wrapper,[new TextElement(e,null,null,s),new ButtonControl(e,"related_autoplay_play_button",{icon:"next-track"},function(e){i.doAction()})]),new WrapperElement(e,o.autoplay_wrapper_down,[l])])];return(i=t.call(this,e,o.autoplay_container,"related_autoplay_container",u)).K=r,i.$n=null,i.Bn=!1,i.Dn=a,i.Vn=l,i}return _createClass(n,[{key:"doAction",value:function(){this.$n&&clearTimeout(this.$n),this.Fn&&cancelAnimationFrame(this.Fn);var e=this.O,t=merge({provider:"html5"},this.K);e.playlist.relatedVideo=t,e.ui.media.source=t,e.trigger("track_changed"),e.play(),toggleClass(this.root.element,e.config.classNames.related.state,!1),toggleClass(this.ye.element,e.config.classNames.helper.hidden,!0),toggleClass(this.root.element,e.config.classNames.related.autoplay,!1);var n=this.root.getChild("playlist");n&&n.updateClasses()}},{key:"runTimer",value:function(){var e=this,t=1e3*this.O.config.autoplay_related.timeout;this.$n=setTimeout(function(){return e.doAction()},t);var n=2*this.Dn.r.baseVal.value*Math.PI,i=Date.now();this.Dn.style.strokeDasharray="".concat(n," ").concat(n),this.Dn.style.strokeDashoffset="".concat(n);!function r(){var o=(Date.now()-i)/t;e.Dn.style.strokeDashoffset=(n-o*n).toString(),o<=100&&!e.Bn&&(e.Fn=requestAnimationFrame(r))}()}},{key:"cancel",value:function(){this.Bn=!0;var e=this.O;clearTimeout(this.$n),this.Fn&&cancelAnimationFrame(this.Fn),toggleClass(this.root.element,e.config.classNames.related.autoplay,!1)}},{key:"bind",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.Vn.element,"click",function(t){e.cancel()})}}]),n}(),RelatedElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e,"related");var r=[e.config.classNames.helper.hidden,e.config.classNames.related.container];return i.be={class:r.join(" ")},i.ae=0,i.Un=!1,i.onMediaPlayEnd=i.onMediaPlayEnd.bind(_assertThisInitialized(i)),i.onTimeUpdate=i.onTimeUpdate.bind(_assertThisInitialized(i)),i.onTrackChanged=i.onTrackChanged.bind(_assertThisInitialized(i)),i.onMediaPlay=i.onMediaPlay.bind(_assertThisInitialized(i)),i.onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onTrackChanged",value:function(){this.Un=!1,this.ae++,this.alreadyCalled=!1}},{key:"onMediaPlay",value:function(){toggleClass(this.root.element,this.O.config.classNames.related.state,!1),toggleClass(this.element,this.O.config.classNames.helper.hidden,!0)}},{key:"onMediaPlayEnd",value:function(e){var t=this,n=this.O;if(!["ended"===e.type&&n.ads.manager.active,n.playing].includes(!0)&&this.Un){var i=this.ae;this.Un.then(function(e){i===t.ae&&t.draw(e)})}}},{key:"draw",value:function(e){var t=this,n=this.O;this.we.forEach(function(e){e.unbind()}),this.we=[],this.element.innerHTML="";var i=[];if(e.forEach(function(e){i.push(new RelatedItemElement(n,e))}),i.length){var r=new SliderElement(n,browser.U?1:Math.min(i.length,6),i);if(this.we=[r],n.config.autoplay_related.enabled){var o=new RelatedAutoplay(n,e[0]);this.we.push(o),setTimeout(function(){toggleClass(t.root.element,n.config.classNames.related.autoplay,!0),o.runTimer()},1e3*n.config.autoplay_related.related_timeout)}this.we.forEach(function(e){e.inject(t.element,t),e.bind()}),toggleClass(this.element,n.config.classNames.helper.hidden,!1),toggleClass(this.root.element,n.config.classNames.related.state,!0),this.Un=!1}}},{key:"onTimeUpdate",value:function(){if(!this.Un&&!this.alreadyCalled){var e=this.O,t=e.duration-e.currentTime;if([0===e.duration,0===e.currentTime,t>5,e.isPlaylist&&e.config.playlist.repeat,(e.isPlaylist||e.isPosition||e.isVideoArticle)&&e.playlist.left>0,e.ads.manager.active].includes(!0))return;this.alreadyCalled=!0,this.Un=new Promise(function(t,n){var i={"mow-referer":e.originUrl,"x-video-data1":e.playlist.currentConfig.id};e.config.auth&&(i.Authorization=e.config.auth);var r=new URL(e.config.related);r.searchParams.set("player_type",e.type),xhr(r.toString(),"GET",null,"text",i).then(function(e){assert.C(e)&&t(e)}).catch(function(){e.debug.warn(107),n()})})}}},{key:"onClick",value:function(e){e.preventDefault()}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),assert.I(this.O.config.related)&&(this.on(this.media.element,"timeupdate",this.onTimeUpdate),this.on(this.media.element,"ended",this.onMediaPlayEnd),this.on(this.root.element,"postroll_ended",this.onMediaPlayEnd),this.on(this.root.element,"track_changed",this.onTrackChanged),this.on(this.media.element,"play",this.onMediaPlay),this.on(this.element,"click",this.onClick,!1))}}]),n}(),PlayLayerControl=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).W=browser.U&&e.isVideo,i.be={class:"mow__play-layer"},i.Hn=!1,i.Gn=!1,i.onClick=i.onClick.bind(_assertThisInitialized(i)),i.onTouchStart=i.onTouchStart.bind(_assertThisInitialized(i)),i.onTouchEnd=i.onTouchEnd.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onClick",value:function(){var e=this.O;this.Hn||(this.Hn=!0,e.play(),e.ads.manager.onUserEvent())}},{key:"onTouchStart",value:function(){if(this.Hn){var e=this.O;this.Gn=hasClass(this.root.element,e.config.classNames.hideControls)}}},{key:"onTouchEnd",value:function(e){if(this.Hn){var t=this.O,n=hasClass(this.root.element,t.config.classNames.hideControls);this.Gn||n||(e.preventDefault(),this.root.element.blur(),this.root.getChild("controls_container").toggleOut())}}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"click",this.onClick,!1),browser.U&&(this.on(this.element,"touchstart",this.onTouchStart,!1),this.on(this.element,"touchend",this.onTouchEnd,!1))}}]),n}(),PlayLargeControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"play_large",{toggle:!0,label:"play",labelPressed:"pause",icon:"play-thin",iconPressed:"pause-thin"},function(){browser.U&&(e.togglePlay(),e.ads.manager.onUserEvent()),i.root.element.focus()})).onPlayState=i.onPlayState.bind(_assertThisInitialized(i)),i.onTap=i.onTap.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onPlayState",value:function(e){"ended"===e.type?this.element.pressed=!1:this.element.pressed=this.O.playing,toggleClass(this.element,"mow-is_pressed",this.element.pressed)}},{key:"onTap",value:function(){var e=this;toggleClass(this.element,"".concat(this.O.config.classNames.control,"-taped"),!0),setTimeout(function(){toggleClass(e.element,"".concat(e.O.config.classNames.control,"-taped"),!1)},200)}},{key:"attributes",get:function(){var e=_get(_getPrototypeOf(n.prototype),"attributes",this);return e.class+=" ".concat(this.O.config.classNames.control,"-overlaid"),e}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),browser.U&&(this.on(this.media.element,"playing play pause ended emptied timeupdate",this.onPlayState),this.once(this.element,"touchstart",this.onTap))}}]),n}(),LogoElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,n),r.push(e.config.classNames.logo);var s=merge({logo:{img:null}},e.options);return r.push("default_logo"),i=t.call(this,e),!1===s.logo&&(i.W=!1),i.classNames=r,i.redLogo=o,i}return _createClass(n,[{key:"build",value:function(){var e=this.O,t=merge({logo:{img:null}},e.options),n=createElement("div",{class:this.classNames.join(" ")}),i=e.config.logo.img;!assert.I(t.logo.img)&&this.redLogo&&(i=e.config.logo.red_img);var r=createElement("img",{src:i});if(assert.I(e.config.logo.url)||assert.I(e.config.logo.mowplay)){var o=createElement("a",{href:this.redLogo?"https://mowplayer.com/audioreader":e.config.logo.mowplay?e.config.logo.mowplay:e.config.logo.url,target:"_blank"});n.appendChild(o),o.appendChild(r)}else n.appendChild(r);return n}}]),n}(),AdLayer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"ad_layer")).be={class:format(e.config.classNames.ads.layer,"layer"),style:"visibility: hidden;",id:generateId("mow")},i.onClick=i.onClick.bind(_assertThisInitialized(i)),i.onProtectedEvent=i.onProtectedEvent.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onClick",value:function(){if(!hasClass(this.element,this.O.config.classNames.ads.full_slot)){var e=this.O;e.ui.root.getChild("keyboard_hint").hint(e.playing?"pause":"play"),e.togglePlay()}}},{key:"onProtectedEvent",value:function(e){e.stopPropagation()}},{key:"destroy",value:function(){}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this);var e=this.O.config.events.concat(["keyup","keydown"]).join(" ");this.on(this.element,"click",this.onClick),this.on(this.element,e,this.onProtectedEvent)}}]),n}(),LoaderElement=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"loader",{toggle:!1,label:"loading",icon:"loader",className:e.config.classNames.loader})}return _createClass(n,[{key:"build",value:function(){var e=createElement("button",this.attributes);return e.innerHTML='<svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>',e}}]),n}(),ControlsContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,n),(i=t.call(this,e,e.config.classNames.controls.wrapper,"controls_container",r)).onHover=i.onHover.bind(_assertThisInitialized(i)),i.onPress=i.onPress.bind(_assertThisInitialized(i)),i.onFocus=i.onFocus.bind(_assertThisInitialized(i)),i.onStateChanged=i.onStateChanged.bind(_assertThisInitialized(i)),i.onPlayStateChange=i.onPlayStateChange.bind(_assertThisInitialized(i)),i.Wn=null,i.ae=1,i.Kn=null,i.qn=!1,i}return _createClass(n,[{key:"delay",get:function(){return this.Kn||(browser.U?2e3:4e3)}},{key:"visible",get:function(){return!hasClass(this.root.element,this.O.config.classNames.hideControls)}},{key:"forceVisible",set:function(e){this.qn=e}},{key:"toggle",value:function(e){var t=this;if(void 0===e)throw new Error;var n=this.O,i=this.element,r=++this.ae;if(i&&n.config.hideControls){var o=e||n.paused&&n.currentTime>0&&!n.ads.manager.playing||i.pressed||i.hover||this.qn;setTimeout(function(){if(!(r<t.ae)){var e=hasClass(t.root.element,n.config.classNames.hideControls),i=toggleClass(t.root.element,n.config.classNames.hideControls,!o);i!==e&&triggerEvent.call(n,t.media.element,i?"controlshidden":"controlsshown"),i&&(t.Kn=null)}},browser.U?100:0)}}},{key:"onHover",value:function(e){this.element.hover=!this.O.touch&&"mouseenter"===e.type}},{key:"onPress",value:function(e){this.element.pressed=["mousedown","touchstart"].includes(e.type)}},{key:"onFocus",value:function(e){var t=this;if("focusin"===e.type)this.toggle(!0);else if(this.root.element.contains(e.relatedTarget))return;clearTimeout(this.Wn),this.Wn=setTimeout(function(){return t.toggle(!1)},this.delay)}},{key:"onStateChanged",value:function(e){var t=this;hasClass(this.root.element,this.O.config.classNames.waitPlay)||("enterfullscreen"===e.type&&(this.element.pressed=!1,this.element.hover=!1),["touchstart","touchmove","mousemove"].includes(e.type)&&this.toggle(!0),"mouseleave"===e.type?this.toggle(!1):(clearTimeout(this.Wn),this.Wn=setTimeout(function(){return t.toggle(!1)},browser.U?2e3:5e3)))}},{key:"toggleIn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.toggle(!0),clearTimeout(this.Wn),this.Kn=this.Kn||t,this.Wn=setTimeout(function(){return e.toggle(!1)},this.delay)}},{key:"toggleOut",value:function(){this.toggle(!1),clearTimeout(this.Wn)}},{key:"onPlayStateChange",value:function(e){var t=this,n=this.O;"pause"===e.type&&n.currentTime>0&&!n.ads.manager.active&&this.toggle(!0),clearTimeout(this.Wn),this.Wn=setTimeout(function(){return t.toggle(!1)},this.delay)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.O.isVideo&&(this.on(this.element,"mouseenter mouseleave",this.onHover),this.on(this.element,"mousedown mouseup touchstart touchend touchcancel",this.onPress),this.on(this.root.element,"focusin focusout",this.onFocus),this.on(this.root.element,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",this.onStateChanged),this.on(this.media.element,"playing play pause ended emptied",this.onPlayStateChange))}}]),n}(),ProgressContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,n),(i=t.call(this,e,e.config.classNames.controls.progress_wrapper,"progress_container",r)).Yn=null,i.onUpdateTooltip=i.onUpdateTooltip.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"tooltip",get:function(){return this.Yn||(this.Yn=createElement("span",{class:this.O.config.classNames.tooltip},"00:00")),this.Yn}},{key:"build",value:function(){var e=_get(_getPrototypeOf(n.prototype),"build",this).call(this);return e.appendChild(this.tooltip),e}},{key:"onUpdateTooltip",value:function(e){var t=this.O,n=this.tooltip,i=this.element;if(t.duration!==1/0){var r=i.getBoundingClientRect(),o="".concat(t.config.classNames.tooltip,"--visible"),s=function(e){toggleClass(n,o,e)};if(t.touch)s(!1);else{var a=0;a=e.pageX?100/r.width*(e.pageX-r.left):parseFloat(n.style.left),a=Math.min(Math.max(a,0),100),n.innerText=formatTime(t.duration/100*a),n.style.left="".concat(a,"%"),["mouseenter","mouseleave"].includes(e.type)&&s("mouseenter"===e.type)}}}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"mouseenter mouseleave mousemove durationchange loadeddata loadedmetadata",this.onUpdateTooltip)}}]),n}(),RangeControl=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _classCallCheck(this,n),(r=t.call(this,e,i)).Ue=s,r.be=Object.assign({type:"range",min:0,max:100,step:.001,value:0,autocomplete:"off",role:"slider","aria-label":e.i18n(o),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},a),r.ne="input",r.onUpdate=r.onUpdate.bind(_assertThisInitialized(r)),r}return _createClass(n,[{key:"bind",value:function(){var e=this;this.on(this.root.element,this.Ue,this.onUpdate),this.on(this.media.element,this.Ue,this.onUpdate);!function t(){e.onUpdate(),requestAnimationFrame(t)}()}},{key:"value",get:function(){return 0}},{key:"disabled",set:function(e){e?this.element.setAttribute("disabled",""):this.element.removeAttribute("disabled")}},{key:"inject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_get(_getPrototypeOf(n.prototype),"inject",this).call(this,e,t),this.onUpdate()}},{key:"onUpdate",value:function(){this.element.value=this.value,this.updateFill()}},{key:"updateFill",value:function(){var e=this.element;browser.L&&e.style.setProperty("--value","".concat(this.value/e.max*100,"%"))}}]),n}(),SeekControl=function(e){_inherits(n,RangeControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"seek","seek","timeupdate adsprogress")).Re=!browser.U,i.onTouchStart=i.onTouchStart.bind(_assertThisInitialized(i)),i.onControlsHidden=i.onControlsHidden.bind(_assertThisInitialized(i)),i.onSeek=i.onSeek.bind(_assertThisInitialized(i)),i.onInteract=i.onInteract.bind(_assertThisInitialized(i)),i.onChange=i.onChange.bind(_assertThisInitialized(i)),i.Jn=0,i}return _createClass(n,[{key:"onSeek",value:function(e){var t=this.de.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",n)}},{key:"onControlsHidden",value:function(){this.Re=!browser.U}},{key:"onTouchStart",value:function(e){this.Re=!0,browser.N&&(this.onSeek(e),this.onChange())}},{key:"onInteract",value:function(e){var t=this.O,n=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!assert.P(e)||[keyMap.Qt,keyMap.tn].includes(i)){var r=n.hasAttribute("play-on-seeked"),o=["mouseup","touchend","keyup"].includes(e.type);r&&o?(n.removeAttribute("play-on-seeked"),t.play()):!o&&t.playing&&(n.setAttribute("play-on-seeked",""),t.pause())}}},{key:"onChange",value:function(){if(this.Re){var e=this.O,t=this.element,n=t.getAttribute("seek-value");assert.S(n)&&(n=t.value),t.removeAttribute("seek-value"),e.currentTime=n/t.max*e.duration,this.updateFill()}}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"touchstart",this.onTouchStart),this.on(this.root.element,"controlshidden",this.onControlsHidden),this.on(this.element,"mousedown mousemove",this.onSeek),this.on(this.element,"mousedown mouseup keydown keyup touchstart touchend",this.onInteract),this.on(this.element,browser.M?"change":"input",this.onChange),this.updateFill()}},{key:"onUpdate",value:function(){this.disabled=this.O.ads.manager.visible&&this.O.ads.manager.linear,this.Jn!==this.value&&(_get(_getPrototypeOf(n.prototype),"onUpdate",this).call(this),this.O.trigger("seek_updated"),this.Jn=this.value)}},{key:"updateFill",value:function(){var e=this.O,t=this.element,i=getHours(this.O.duration)>0;t.setAttribute("aria-valuenow",e.currentTime);var r=formatTime(e.currentTime,i),o=formatTime(e.duration,i),s=e.i18n("seekLabel");t.setAttribute("aria-valuetext",s.replace("{currentTime}",r).replace("{duration}",o)),_get(_getPrototypeOf(n.prototype),"updateFill",this).call(this)}},{key:"value",get:function(){var e=this.O;return!e.provider.live||e.ads.manager.visible&&e.ads.manager.linear?getPercentage(e.currentTime,e.duration):100}}]),n}(),ProgressControl=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"progress")).onProgress=i.onProgress.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"build",value:function(){var e=this.O,t=createElement("progress",{class:e.config.classNames.display.buffer,min:0,max:100,value:0,role:"presentation","aria-hidden":!0});return t.innerText="% ".concat(e.i18n("buffered")),this.Ce=createElement("span",null,"0"),t.appendChild(this.Ce),t}},{key:"bind",value:function(){this.on(this.media.element,"progress playing seeking seeked timeupdate",this.onProgress)}},{key:"onProgress",value:function(){var e=100*this.O.buffered;this.element.value=e,this.Ce.innerText=e}}]),n}(),PlayControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"play",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pause",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return _classCallCheck(this,n),(i=t.call(this,e,"play",merge({toggle:!0,label:"play",labelPressed:"pause",icon:r,iconPressed:o,className:e.config.classNames.controls.play},a),function(){i.replay?(e.currentTime=0,e.play()):e.ads.manager.active?e.ads.manager.playing?e.ads.manager.pause():e.ads.manager.resume():e.togglePlay(),assert._(s)&&s(e),e.ads.manager.onUserEvent()})).Xn=!1,i.onPlayState=i.onPlayState.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"replay",get:function(){return this.Xn},set:function(e){if(e!==this.Xn){var t=this.O,n=this.element.querySelector(".label-not-pressed");toggleClass(this.element,this.O.config.classNames.controls.replay,e),n&&(n.innerText=t.i18n(e?"replay":"play"))}this.Xn=e}},{key:"build",value:function(){var e=_get(_getPrototypeOf(n.prototype),"build",this).call(this);return e.appendChild(createIcon("replay",{class:"icon-replay"})),e}},{key:"onPlayState",value:function(e){var t=this.O;"ended"===e.type||"postroll_ended"===e.type?(this.element.pressed=!1,this.replay=t.isSimpleVideo||t.isVideoArticle):(this.replay=!1,this.element.pressed=t.playing||t.ads.manager.playing)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"adsprogress adspause adsresume adsrequested adsimpression ui_updated playing play pause ended emptied timeupdate play_requested postroll_ended",this.onPlayState)}}]),n}(),SpacerElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).be={class:i.O.config.classNames.spacer},i}return n}(),TimeBadge=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{c} / {d}",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,n);var s=[e.config.classNames.display.time];return o&&s.push(o),(i=t.call(this,e)).Qn=r,i.be={class:s.join(" ")},i.onUpdate=i.onUpdate.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"bind",value:function(){this.on(this.root.element,"adsprogress adsimpression durationchange timeupdate seeking seeked seek_updated ui_updated",this.onUpdate)}},{key:"build",value:function(){var e=_get(_getPrototypeOf(n.prototype),"build",this).call(this);return e.innerText=this.Qn.replace("{c}","00:00").replace("{d}","00:00"),e}},{key:"onUpdate",value:function(){var e=formatTime(this.O.currentTime,getHours(this.O.duration)>0),t=formatTime(Math.floor(this.O.duration));this.element.innerText=this.Qn.replace("{c}",e).replace("{d}",t)}}]),n}(),VolumeContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _classCallCheck(this,n),(i=t.call(this,e,e.config.classNames.controls.volume_wrapper,"volume_container",r)).onResize=i.onResize.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onResize",value:function(){this.element.style.maxWidth=Math.min(Math.max(.15*this.playerContainer.width,50),150)+"px"}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"resize",this.onResize)}}]),n}(),MuteControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"volume",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"muted";return _classCallCheck(this,n),(i=t.call(this,e,"mute",{toggle:!0,label:"mute",labelPressed:"unmute",icon:r,iconPressed:o,className:e.config.classNames.controls.mute},function(){e.muted=!e.muted})).onVolumeChange=i.onVolumeChange.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onVolumeChange",value:function(){this.element.pressed=this.O.muted||0===this.O.volume}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"volumechange ui_updated",this.onVolumeChange)}}]),n}(),VolumeControl=function(e){_inherits(n,RangeControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"volume","volume","volumechange",{max:1,step:.05,value:e.config.volume})).onWheel=i.onWheel.bind(_assertThisInitialized(i)),i.onChange=i.onChange.bind(_assertThisInitialized(i)),i.updateFill=i.updateFill.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onWheel",value:function(e){var t=this.O,n=e.webkitDirectionInvertedFromDevice,i=_slicedToArray([e.deltaX,-e.deltaY].map(function(e){return n?-e:e}),2),r=i[0],o=i[1],s=Math.sign(Math.abs(r)>Math.abs(o)?r:o);t.increaseVolume(s/50);var a=this.media.element.volume;(1===s&&a<1||-1===s&&a>0)&&e.preventDefault()}},{key:"onChange",value:function(e){this.O.volume=e.target.value,this.updateFill()}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"wheel",this.onWheel,!1),this.on(this.element,browser.M?"change":"input",this.onChange)}},{key:"value",get:function(){return this.O.muted?0:this.O.volume}},{key:"updateFill",value:function(){var e=this.element,t=100*e.value;e.setAttribute("aria-valuenow",t),e.setAttribute("aria-valuetext","".concat(t.toFixed(1),"%")),_get(_getPrototypeOf(n.prototype),"updateFill",this).call(this)}}]),n}(),SettingsControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return _classCallCheck(this,n),(i=t.call(this,e,"settings",{toggle:!0,label:"settings",className:"mow__settings",icon:"settings"},function(){var e=r,t=i.O,n=i.root.getChild(t.isAudio?"audio_menu":"context_menu"),o=i.ye.element.getBoundingClientRect(),s=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=void 0;switch("auto"===e&&(e=o.top+(o.bottom-o.top)/2>s/2?"top":"bottom"),i.ye.element.dataset.direction=e,e){case"bottom":n.updatePosition(o.height+10,o.width/2-14,"top","right");break;case"left":n.updatePosition(-2,o.width-5,"top","right");break;case"top":default:if(t.isAudio)n.updatePosition(o.height+5,o.width/2-14,"bottom","right");else a=!!n.updatePosition(40,40,"bottom","right")||void 0}n.toggle(a),i.root.element.focus()})).Le=!1,i}return n}(),FullscreenControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n);var r=[e.config.classNames.controls.fullscreen];return e.fullscreen.enabled||r.push(e.config.classNames.helper.hidden),(i=t.call(this,e,"fullscreen",{toggle:!0,label:"enterFullscreen",labelPressed:"exitFullscreen",icon:"enter-fullscreen",iconPressed:"exit-fullscreen",className:r.join()},function(){e.fullscreen.toggle()})).W=e.isVideo,i.onFullscreenChange=i.onFullscreenChange.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onFullscreenChange",value:function(){this.element.pressed=this.O.fullscreen.active}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"enterfullscreen exitfullscreen",this.onFullscreenChange)}}]),n}(),MenuItemElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return _classCallCheck(this,n),(o=t.call(this,e,null,l)).Ce=i,o.Oe=r,o.Zn=a,o.be=merge({class:e.config.classNames.menu.item},s),o.onClick=o.onClick.bind(_assertThisInitialized(o)),o}return _createClass(n,[{key:"onClick",value:function(e){assert._(this.Oe)&&this.Oe.call(this,e),this.Zn&&this.root.getChild("context_menu").toggle(!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"click",this.onClick)}}]),n}(),MenuElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"context_menu",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"media_container";_classCallCheck(this,n);var a=[],l={logo:function(){if(e.config.menu){var t=createElement("img",{src:e.config.menu.logo});return new MenuItemElement(e,t,function(){window.open(e.config.menu.url,"_blank")},{class:[e.config.classNames.menu.logo,e.config.classNames.menu.item].join(" ")})}return!1},copy:function(){return new MenuItemElement(e,"minozo",function(){copyToClipboard(e.originUrl)})},toggle_play:function(){return new MenuItemElement(e,"toggle_play",function(){e.togglePlay()})},toggle_mute:function(){return new MenuItemElement(e,"toggle_mute",function(){e.muted=!e.muted})},report:function(){return new MenuItemElement(e,"minozoplayer",function(){var t=new URL(e.config.mow_report_url);t.searchParams.set("url",e.originUrl),window.open(t.toString(),"_blank")})},language:function(){var t=[new MenuItemElement(e,"language",function(){toggleClass(i.element,e.config.classNames.menu.language_select),i.updatePosition()},{},!1),new MenuItemElement(e,"back",function(){toggleClass(i.element,e.config.classNames.menu.language_select),i.updatePosition()},{class:[e.config.classNames.menu.language_close,e.config.classNames.menu.item].join(" ")},!1)];return Object.keys(e.config.language.available).forEach(function(n){var r=[e.config.classNames.menu.language,e.config.classNames.menu.item];n===e.storage.read("language")&&r.push(e.config.classNames.menu.language_current);var o=new MenuItemElement(e,e.config.language.available[n],function(){e.language="default"===n?null:n,toggleClass(i.element.querySelector("."+e.config.classNames.menu.language_current),e.config.classNames.menu.language_current,!1),toggleClass(o.element,e.config.classNames.menu.language_current),i.updatePosition()},{class:r.join(" ")});t.push(o)}),t},share:function(){var t=[new MenuItemElement(e,"share",function(){toggleClass(i.element,e.config.classNames.menu.share_select),i.updatePosition()},{},!1),new MenuItemElement(e,"back",function(){toggleClass(i.element,e.config.classNames.menu.share_select),i.updatePosition()},{class:[e.config.classNames.menu.share_close,e.config.classNames.menu.item].join(" ")},!1)],n=assert.C(e.config.sharing)?e.config.sharing:["facebook","twitter","linkedin","email"],r=function(t,n){var i=[e.config.classNames.menu.share,e.config.classNames.menu.item];return new MenuItemElement(e,t,n,{class:i.join(" ")})},o=function(t,n){return r(t,function(){window.open(n.replace("{u}",encodeURIComponent(e.originUrl)),"_blank","scrollbars=0, resizable=1, menubar=0, left=100, top=100, width=550, height=440, toolbar=0, status=0"),i.updatePosition()})};return n.includes("facebook")&&t.push(o("Facebook","https://www.facebook.com/sharer/sharer.php?u={u}")),n.includes("twitter")&&t.push(o("Twitter","https://twitter.com/intent/tweet?text=&url={u}")),n.includes("linkedin")&&t.push(o("Linkedin","https://www.linkedin.com/shareArticle?mini=true&url={u}")),n.includes("email")&&t.push(r("Email",function(){window.location.href="mailto:?subject="+e.playlist.currentConfig.title+"&body="+e.originUrl})),t},about:function(){return console.log("QQQEEE"),!!e.config.about&&new MenuItemElement(e,e.config.about.label,function(){window.open(e.config.about.link,"_blank")})}};return assert.C(r)||(r=e.isVideo?e.config.menu?["logo","copy","toggle_play","toggle_mute","report","language","share","about"]:e.config.about?["copy","toggle_play","toggle_mute","report","language","share","about"]:["copy","toggle_play","toggle_mute","report","language","share"]:["share","report","about"]),e.isReader&&(r=["about"]),r.forEach(function(e){if(e in l){var t=l[e].call();assert.C(t)||(t=[t]),t.forEach(function(e){return a.push(e)})}}),(i=t.call(this,e,o,a)).be={class:e.config.classNames.menu.container},i.ei=s,i.ti=null,i.ni=null,i.ii=null,i.ri=null,i.onContextMenu=i.onContextMenu.bind(_assertThisInitialized(i)),i.onFocusLost=i.onFocusLost.bind(_assertThisInitialized(i)),i.onContainerClick=i.onContainerClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"visible",get:function(){return hasClass(this.element,this.O.config.classNames.menu.active)}},{key:"toggle",value:function(e){var t=this.O;!e&&void 0!==e||this.visible||(toggleClass(this.element,t.config.classNames.menu.share_select,!1),toggleClass(this.element,t.config.classNames.menu.language_select,!1)),toggleClass(this.element,t.config.classNames.menu.active,e)}},{key:"onFocusLost",value:function(e){var t=this.root.element;t.contains(e.relatedTarget)||t===e.relatedTarget||this.toggle(!1)}},{key:"onContextMenu",value:function(e){if(e.target!==this.element){var t=this.root.getChild(this.ei);if(e.preventDefault(),t){var n=t.element.getBoundingClientRect();this.updatePosition(e.clientX-n.left,e.clientY-n.top)}else this.updatePosition(e.layerX,e.layerY);this.toggle(!0)}}},{key:"updatePosition",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top",o=this.ti,s=this.ni,a=this.ii,l=this.ri,u=!1,c=this.root.getChild(this.ei);if(c){var h=c.element.getBoundingClientRect(),d=this.element.getBoundingClientRect();this.ti=Math.min(assert.u(e)?e:this.ti,h.width-d.width),this.ni=Math.min(assert.u(t)?t:this.ni,h.height-d.height)}else this.ti=assert.u(e)?e:this.ti,this.ni=assert.u(t)?t:this.ni;return assert.u(e)&&assert.u(t)&&(this.ii=i,this.ri=r),o===this.ti&&s===this.ni&&a===this.ii&&l===this.ri||(u=!0),css(this.element,merge({left:null,right:null,top:null,bottom:null},(_defineProperty(n={},this.ii,this.ti+"px"),_defineProperty(n,this.ri,this.ni+"px"),n))),u}},{key:"onContainerClick",value:function(e){if(e.target!==this.element&&!this.element.contains(e.target)){var t=this.root.getChild("settings");t&&(e.target===t.element||t.element.contains(e.target))||this.toggle(!1)}}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this);var e=this.root.getChild(this.ei);e&&(this.on(e.element,"contextmenu",this.onContextMenu,!1),this.on(e.element,"click",this.onContainerClick)),this.on(this.root.element,"focusout",this.onFocusLost),browser.U&&this.on(document.body,"touchstart",this.onContainerClick)}}]),n}(),KeyboardHintComponent=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"keyboard_hint")).be={class:"mow__keyboard-hint-container"},i.oi={},i.si={},i.W=e.isVideo||e.isAudio&&e.config.audio.thumbnail,i}return _createClass(n,[{key:"hint",value:function(e){var t=this;e in this.si&&(clearTimeout(this.oi[e]),removeElement(this.si[e]));var n=createElement("div",{class:["mow__keyboard-hint","mow__keyboard-hint_"+e].join(" ")}),i=createIcon(e);n.appendChild(i),this.element.appendChild(n),this.si[e]=n,this.oi[e]=setTimeout(function(){removeElement(t.si[e]),delete t.si[e]},800)}}]),n}(),UnstickControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!1,label:"unstick",icon:"close",className:e.config.classNames.controls.unstick},function(){e.pause(),e.trigger("sticky_disable"),i.onStickyStateUpdated({detail:{enable:!1}})})).onStickyStateUpdated=i.onStickyStateUpdated.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onStickyStateUpdated",value:function(e){console.log("Event......",e.detail),toggleClass(this.root.element,this.O.config.classNames.unstick_enabled,e.detail.enable)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"sticky_state_update",this.onStickyStateUpdated)}}]),n}(),NoMediaElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n),i=t.call(this,e);var r=["mow_no_media"];return"object"===_typeof(e.config.media)&&(e.config.media.file||e.config.media[0]&&e.config.media[0].file)||r.push("no_media_visible"),i.be={class:r.join(" ")},i.Ce=e.i18n("no_media_error"),i}return _createClass(n,[{key:"visible",get:function(){return!1}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this)}}]),n}(),MowSimpleUI=function(e){_inherits(n,BaseUI);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"buildTree",value:function(){var e=this.O;return new RootContainer(e,[new NoMediaElement(e),new OverlayElement(e),new PlayerContainer(e,[new ErrorElement(e),new TitleElement(e),new ShareControl(e),new UnstickControl(e),new ShareScreenElement(e),new MediaContainer(e,[new WrapperElement(e,e.config.classNames.mediaWrapper,[new MediaElement(e)]),new PosterElement(e),new RelatedElement(e),new PlayLayerControl(e),new PlayLargeControl(e),new LogoElement(e,[e.config.classNames.logoPlaceholder]),new AdLayer(e),new AdSkipButton(e),new LoaderElement(e)]),new ControlsContainer(e,[new ProgressContainer(e,[new SeekControl(e),new ProgressControl(e)]),new PlayControl(e),new LogoElement(e),new SpacerElement(e),new TextElement(e,e.config.classNames.liveBadge,null,"live"),new TimeBadge(e),new VolumeContainer(e,[new MuteControl(e),new VolumeControl(e)]),new SettingsControl(e),new FullscreenControl(e)]),new MenuElement(e),new KeyboardHintComponent(e)])])}}]),n}(),CosmeticContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i,r){var o;return _classCallCheck(this,n),(o=t.call(this,e,null,[i])).ai=i,o.li=r,o.ge=!0,o.onResize=o.onResize.bind(_assertThisInitialized(o)),o}return _createClass(n,[{key:"onResize",value:function(){assert._(this.li)&&this.li.call(this.ai,this.ai,this.O)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"resize",this.onResize),this.onResize()}}]),n}(),PrevControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"previous-track",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!1,label:"previous",icon:r,className:e.config.classNames.controls.prev},function(){e.playlist.prev()})).W=(e.isPlaylist||e.isPosition||e.isAudio)&&e.playlist.length>1||o,i}return n}(),NextControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next-track",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!1,label:"next",icon:r,className:e.config.classNames.controls.next},function(){e.playlist.next()})).W=(e.isPlaylist||e.isPosition||e.isAudio)&&e.playlist.length>1||o,i}return n}(),fontfaceobserver_standalone=createCommonjsModule(function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function r(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,n){function i(){var e=o;r(e)&&e.a.parentNode&&n(e.g)}var o=e;t(e.b,i),t(e.c,i),r(e)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,l=null,u=null,c=null;function h(){return null===c&&(c=!!document.fonts),c}function d(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function f(e,t){return[e.style,e.weight,d()?e.stretch:"","100px",t].join(" ")}s.prototype.load=function(e,t){var r=this,s=e||"BESbswy",u=0,c=t||3e3,d=(new Date).getTime();return new Promise(function(e,t){if(h()&&!function(){if(null===l)if(h()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);l=!!e&&603>parseInt(e[1],10)}else l=!1;return l}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-d>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(f(r,'"'+r.family+'"'),s).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()}),p=new Promise(function(e,t){u=setTimeout(function(){t(Error(c+"ms timeout exceeded"))},c)});Promise.race([p,m]).then(function(){clearTimeout(u),e(r)},t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function l(){var t;(t=-1!=_&&-1!=v||-1!=_&&-1!=y||-1!=v&&-1!=y)&&((t=_!=v&&_!=y&&v!=y)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(_==w&&v==w&&y==w||_==g&&v==g&&y==g||_==b&&v==b&&y==b)),t=!t),t&&(C.parentNode&&C.parentNode.removeChild(C),clearTimeout(u),e(r))}var h=new n(s),m=new n(s),p=new n(s),_=-1,v=-1,y=-1,w=-1,g=-1,b=-1,C=document.createElement("div");C.dir="ltr",i(h,f(r,"sans-serif")),i(m,f(r,"serif")),i(p,f(r,"monospace")),C.appendChild(h.a),C.appendChild(m.a),C.appendChild(p.a),document.body.appendChild(C),w=h.a.offsetWidth,g=m.a.offsetWidth,b=p.a.offsetWidth,function e(){if((new Date).getTime()-d>=c)C.parentNode&&C.parentNode.removeChild(C),t(Error(c+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(_=h.a.offsetWidth,v=m.a.offsetWidth,y=p.a.offsetWidth,l()),u=setTimeout(e,50)}}(),o(h,function(e){_=e,l()}),i(h,f(r,'"'+r.family+'",sans-serif')),o(m,function(e){v=e,l()}),i(m,f(r,'"'+r.family+'",serif')),o(p,function(e){y=e,l()}),i(p,f(r,'"'+r.family+'",monospace'))})})},e.exports=s}()}),PlaylistItemElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _classCallCheck(this,n),(r=t.call(this,e)).ci=o,r.hi=i,r.di=null,r.fi=null,r.onClick=r.onClick.bind(_assertThisInitialized(r)),r.onDescriptionChanged=r.onDescriptionChanged.bind(_assertThisInitialized(r)),r}return _createClass(n,[{key:"config",get:function(){var e=this.O;return this.ci?e.playlist.relatedVideoObject:e.playlist.config(this.hi)}},{key:"build",value:function(){var e=this.O,t=e.config.classNames.playlist,n=[t.item];this.ci&&n.push(e.config.classNames.helper.hidden);var i=createElement("div",{class:n.join(" ")}),r=createElement("div",{class:t.item_number});r.appendChild(createIcon("play")),r.appendChild(createElement("span",{},Number(this.hi+1).toString()));var o=createElement("div",{class:t.item_thumbnail});if(assert.I(this.config.thumbnail)){var s=createElement("img",{"data-src":this.config.thumbnail}),a=createElement("div",{class:t.item_image_wrapper});a.appendChild(s),o.appendChild(a)}var l=createElement("div",{class:t.item_duration},formatTime(this.config.duration,getHours(this.config.duration)>0));o.appendChild(l),this.di=createElement("div",{class:t.item_title},this.config.title),this.fi=createElement("div",{class:t.item_description},stripTags(this.config.description));var u=createElement("div",{class:t.item_text});return u.appendChild(this.di),u.appendChild(this.fi),i.appendChild(r),i.appendChild(o),i.appendChild(u),i}},{key:"onClick",value:function(){var e=this.O,t=e.playlist;if(e.isVideoArticle)e.playlist.currentConfig.url&&window.open(e.playlist.currentConfig.url,"_blank");else{var n=this.hi;if(t.shuffleMedia)for(var i=t.shuffleMedia.length;i--;){if(t.shuffleMedia[i].shuffle_index===n){n=i;break}}(e.playlist.current!==n||e.playlist.relatedVideo)&&e.playlist.play(n,!0);var r=this.root.getChild("context_menu");r&&r.visible&&r.toggle(!1)}}},{key:"updateClasses",value:function(){var e=this.O;this.ci?(this.di.innerText=this.config.title,this.fi.innerText=this.config.description,toggleClass(this.element,e.config.classNames.playlist.item_active,null!==e.playlist.relatedVideo),toggleClass(this.element,e.config.classNames.helper.hidden,null===e.playlist.relatedVideo||!e.isVideoArticle)):toggleClass(this.element,e.config.classNames.playlist.item_active,null===e.playlist.relatedVideo&&e.playlist.current===this.hi)}},{key:"onDescriptionChanged",value:function(){this.fi.innerText=stripTags(this.config.description),multilineEllipsis(this.fi)}},{key:"bind",value:function(){if(_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"click",this.onClick),this.O.isVideoArticle){new fontfaceobserver_standalone("Roboto");this.on(this.root.element,"track_changed resize",this.onDescriptionChanged)}}}]),n}(),NativeUrlControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"native_url",{toggle:!1,label:"open_url",text:"full_video_link",className:e.config.classNames.controls.native_url})).onTrackChanged=i.onTrackChanged.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onClick",value:function(){var e=new XMLHttpRequest;e.open("GET","https://mowplayer.com/video-article-full-button-click?video_id="+this.O.playlist.currentConfig.id,!0),e.send(),this.O.playlist.currentConfig.url.length>0?window.open(this.O.playlist.currentConfig.url,"_blank"):this.O.fullscreen.enter()}},{key:"onTrackChanged",value:function(){toggleClass(this.element,this.O.config.classNames.helper.hidden,!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed",this.onTrackChanged)}}]),n}(),PlaylistTitleElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"playlist_title")).be.class=e.config.classNames.playlist.title,i.ne="span",i.Ce="playlist",i.onTrackChanged=i.onTrackChanged.bind(_assertThisInitialized(i)),i.onTitleChanged=i.onTitleChanged.bind(_assertThisInitialized(i)),i.onClick=i.onClick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"title",get:function(){var e=this.O;return e.isVideoArticle?e.playlist.currentConfig.native_title||e.playlist.currentConfig.title:e.config.playlist.name}},{key:"onTrackChanged",value:function(){this.title&&(this.element.innerText=this.title)}},{key:"onTitleChanged",value:function(){this.title&&(this.element.innerText=this.title,multilineEllipsis(this.element))}},{key:"onClick",value:function(){var e=this.O.playlist.currentConfig.url;e&&window.open(e,"_blank")}},{key:"bind",value:function(){var e=this.O;if(_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed resize",this.onTrackChanged),e.isVideoArticle){new fontfaceobserver_standalone("Roboto");this.on(this.element,"click",this.onClick),this.on(this.root.element,"track_changed resize",this.onTitleChanged)}}}]),n}(),LayoutRow=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_classCallCheck(this,n),i=t.call(this,e,null,r);var l=["mow__layout-row"];return o&&l.push("mow__layout-ha_"+o),s&&l.push("mow__layout-va_"+s),a&&l.push(a),i.be.class=l.join(" "),i}return n}(),RawContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return _classCallCheck(this,n),(r=t.call(this,e)).be.class=i,r.mi=o,r}return _createClass(n,[{key:"build",value:function(){var e=_get(_getPrototypeOf(n.prototype),"build",this).call(this);return this.mi.forEach(function(t){assert.T(t)&&e.appendChild(t)}),e}}]),n}(),PlaylistRowElement=function(e){_inherits(n,PlaylistItemElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,n),i=t.call(this,e,r,!1);var o=[];if(null===r)o.push(new TextElement(e,"mow__playlist-row-icons",null,""),new TextElement(e,"mow__playlist-row-column mow__playlist-row-column-header mow__playlist-row-column-title",null,"title"),new TextElement(e,"mow__playlist-row-column mow__playlist-row-column-header mow__playlist-row-column-duration",null,"duration"));else{var s=e.playlist.config(r);o.push(new RawContainer(e,"mow__playlist-row-icons",[createIcon("play",{class:"mow__playlist-row-icon-play"}),createIcon("audio-volume",{class:"mow__playlist-row-icon-volume"}),createElement("div",{class:"mow__playlist-row-number"},(r+1).toString())]),new TextElement(e,"mow__playlist-row-column mow__playlist-row-column-title",null,s.title,!0,s.title),new TextElement(e,"mow__playlist-row-column mow__playlist-row-column-duration",null,formatTime(s.duration,getHours(s.duration)>0)))}return i.we=[new LayoutRow(e,o)],i}return _createClass(n,[{key:"build",value:function(){var e=this.O,t=e.config.classNames.playlist,n=[t.item];return e.playlist.current===this.hi&&n.push(t.item_active),createElement(this.ne,{class:n.join(" ")})}},{key:"updateClasses",value:function(){var e=this.O,t=null!==e.playlist.currentConfig.shuffle_index?e.playlist.currentConfig.shuffle_index:e.playlist.current;toggleClass(this.element,e.config.classNames.playlist.item_active,t===this.hi)}}]),n}(),isIE="undefined"!=typeof document&&document.documentMode,defaultConfig={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var t=e.querySelector("img"),n=!1;null===t&&(t=document.createElement("img"),n=!0),isIE&&e.getAttribute("data-iesrc")&&(t.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(t.alt=e.getAttribute("data-alt")),n&&e.append(t)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var i,r=e.children,o=0;o<=r.length-1;o++)(i=r[o].getAttribute("data-src"))&&(r[o].src=i);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var s=",";if(e.getAttribute("data-background-delimiter")&&(s=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('".concat(e.getAttribute("data-background-image").split(s).join("'),url('"),"')");else if(e.getAttribute("data-background-image-set")){var a=e.getAttribute("data-background-image-set").split(s),l=a[0].substr(0,a[0].indexOf(" "))||a[0];l=-1===l.indexOf("url(")?"url(".concat(l,")"):l,1===a.length?e.style.backgroundImage=l:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: ".concat(l,"; background-image: -webkit-image-set(").concat(a,"); background-image: image-set(").concat(a,")"))}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function markAsLoaded(e){e.setAttribute("data-loaded",!0)}function preLoad(e){e.getAttribute("data-placeholder-background")&&(e.style.background=e.getAttribute("data-placeholder-background"))}var isLoaded=function(e){return"true"===e.getAttribute("data-loaded")},onIntersection=function(e,t){return function(n,i){n.forEach(function(n){(n.intersectionRatio>0||n.isIntersecting)&&(i.unobserve(n.target),isLoaded(n.target)||(e(n.target),markAsLoaded(n.target),t(n.target)))})}},getElements=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e instanceof Element?[e]:e instanceof NodeList?e:t.querySelectorAll(e)};function lozad(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".lozad",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({},defaultConfig,n),r=i.root,o=i.rootMargin,s=i.threshold,a=i.load,l=i.loaded;"undefined"!=typeof window&&window.IntersectionObserver&&(e=new IntersectionObserver(onIntersection(a,l),{root:r,rootMargin:o,threshold:s}));for(var u=getElements(t,r),c=0;c<u.length;c++)preLoad(u[c]);return{observe:function(){for(var n=getElements(t,r),i=0;i<n.length;i++)isLoaded(n[i])||(e?e.observe(n[i]):(a(n[i]),markAsLoaded(n[i]),l(n[i])))},triggerLoad:function(e){isLoaded(e)||(a(e),markAsLoaded(e),l(e))},observer:e}}var PlaylistElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;_classCallCheck(this,n);var r=[],o=e.playlist;e.isAudio?(r.push(new PlaylistRowElement(e)),e.playlist.media.forEach(function(t,n){r.push(new PlaylistRowElement(e,n))})):(e.playlist.media.forEach(function(t,n){r.push(new PlaylistItemElement(e,n))}),r.push(new PlaylistItemElement(e,0,!0)));var s=[new WrapperElement(e,e.config.classNames.playlist.title_wrapper,[new PlaylistTitleElement(e),new TextElement(e,e.config.classNames.playlist.badge,"playlist_badge","".concat(o.current+1," / ").concat(o.length))])];if(e.isVideoArticle&&s.push(new NativeUrlControl(e)),s.push(new WrapperElement(e,e.config.classNames.playlist.item_wrapper,r)),e.isVideoArticle){var a=[];e.playlist.length>1&&a.push(new PrevControl(e,"left-angle",!0),new NativeUrlControl(e),new NextControl(e,"right-angle",!0)),s.push(new WrapperElement(e,e.config.classNames.playlist.video_article_controls,a))}return(i=t.call(this,e,"playlist",s)).W=e.isPlaylist&&e.config.playlist.show||e.isVideoArticle||e.isAudio,i.items=r,i}return _createClass(n,[{key:"updateClasses",value:function(){var e=this.O.playlist;this.items.forEach(function(e){e.updateClasses()}),this.getChild("playlist_badge").element.innerText="".concat(e.current+1," / ").concat(e.length)}},{key:"build",value:function(){var e=this.O,t=_get(_getPrototypeOf(n.prototype),"build",this).call(this);return setAttributes(t,{class:e.config.classNames.playlist.container}),t}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),lozad(this.element.querySelectorAll("img[data-src]")).observe(),this.updateClasses()}}]),n}(),MowVideoPlaylistUI=function(e){_inherits(n,BaseUI);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"buildTree",value:function(){var e=this,t=this.O,n=t.config.playlist.position,i=t.config.playlist.layout,r=t.config.playlist.theme,o=t.config.classNames,s=[];return t.config.playlist.show&&(s.push(format(o.playlist.theme,["dark","light"].includes(r)?r:"dark")),s.push(format(o.playlist.position,["right","bottom"].includes(n)?n:"right")),s.push(format(o.playlist.layout,["default","vertical"].includes(i)?i:"default"))),new RootContainer(t,[new NoMediaElement(t),new OverlayElement(t),new PlayerContainer(t,[new ErrorElement(t),new TitleElement(t),new ShareControl(t),new UnstickControl(t),new ShareScreenElement(t),new CosmeticContainer(t,new MediaContainer(t,[new WrapperElement(t,t.config.classNames.mediaWrapper,[new MediaElement(t)]),new PosterElement(t),new RelatedElement(t),new PlayLayerControl(t),new PlayLargeControl(t),new LogoElement(t,[t.config.classNames.logoPlaceholder]),new AdLayer(t),new AdSkipButton(t),new LoaderElement(t)]),function(){if(t.isPlaylist){var n=e.root.element.offsetWidth,i="bottom"===t.config.playlist.position;toggleClass(e.root.element,"mow__playlist_position_bottom",i||.65*n<=320)}}),new ControlsContainer(t,[new ProgressContainer(t,[new SeekControl(t),new ProgressControl(t)]),new PrevControl(t),new PlayControl(t),new NextControl(t),new LogoElement(t),new SpacerElement(t),new TextElement(t,t.config.classNames.liveBadge,null,"live"),new TimeBadge(t),new VolumeContainer(t,[new MuteControl(t),new VolumeControl(t)]),new SettingsControl(t),new FullscreenControl(t)]),new MenuElement(t),new KeyboardHintComponent(t)]),new PlaylistElement(t)],{classes:s})}}]),n}(),LayoutColumn=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_classCallCheck(this,n),i=t.call(this,e,null,r);var l=["mow__layout-column"];return o&&l.push("mow__layout-ha_"+o),s&&l.push("mow__layout-va_"+s),a&&l.push(a),i.be.class=l.join(" "),i}return n}(),AutoScrollContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2;_classCallCheck(this,n);var a=new WrapperElement(e,"mow__autoscroll-inner",r);return(i=t.call(this,e,null,[a])).be.class="mow__autoscroll-container",i.pi=o,i._i=s,i.vi=0,i.yi=0,i.wi=!1,i.gi=a,i.bi=!1,i.Ne=!1,i.Ci=null,i.ki=null,i.onHover=i.onHover.bind(_assertThisInitialized(i)),i.tick=i.tick.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"tick",value:function(){var e=this,t=this.element.offsetWidth,n=this.gi.element.offsetWidth,i=n-t,r=t>=n;this.element.style.height=this.gi.element.offsetHeight+"px",!(this.vi<this.pi||this.wi)||this.bi||r||(this.yi+=this._i,this.gi.element.style.left="-"+this.yi+"px",this.yi>=i&&(this.yi=0,this.vi++,this.bi=!0,this.Ci=setTimeout(function(){e.gi.element.style.left="0",e.ki=setTimeout(function(){e.bi=!1},1500)},1500))),requestAnimationFrame(this.tick)}},{key:"onHover",value:function(e){var t=this;"mouseenter"===e.type&&(clearTimeout(this.Ci),clearTimeout(this.ki),this.yi=0,this.gi.element.style.left="0",this.bi=!0,this.ki=setTimeout(function(){t.bi=!1},1e3)),this.wi="mouseenter"===e.type}},{key:"bind",value:function(){var e=this;_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.element,"mouseenter mouseleave",this.onHover),setTimeout(function(){e.element.style.height=e.gi.element.offsetHeight+"px"}),this.Ne||(this.Ne=!0,this.ki=setTimeout(this.tick,1500))}}]),n}(),TrackInfoElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_classCallCheck(this,n);var c=new TextElement(e,"mow__track-info-title-text",null,s),h=new TextElement(e,"mow__track-info-title-schedule",null,s),d=new TextElement(e,"mow__track-info-description-main"),f=new TextElement(e,"mow__track-info-description-secondary"),m=new IconElement(e,e.provider.live?"audio-broadcast":"audio-headphones","mow__track-info-thumbnail"),p=[new WrapperElement(e,"mow__track-info-texts-wrapper",[new WrapperElement(e,"mow__track-info-title",[new AutoScrollContainer(e,[c],3),h]),new WrapperElement(e,"mow__track-info-description",[new AutoScrollContainer(e,[d],3),f])])];o&&p.push(o);var _=new LayoutColumn(e,p,null,null,"mow__track-info-texts"),v=[new LayoutRow(e,[m,_],null,"center")];c.applyTitle=!0,d.applyTitle=!0;var y=["mow__track-info"];return u&&y.push(u),(i=t.call(this,e,null,v)).Ei=r,i.hi=a,i.Ti=c,i.Pi=_,i.Ii=h,i.Si=d,i.Oi=f,i.Pe=m,i.Ri=s,i.be.class=y.join(" "),i.xi=l,i.onUpdate=i.onUpdate.bind(_assertThisInitialized(i)),i.onUiUpdated=i.onUiUpdated.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"icon",get:function(){return this.Pe}},{key:"textWrapper",get:function(){return this.Pi}},{key:"onUiUpdated",value:function(){setTimeout(this.onUpdate,0)}},{key:"onUpdate",value:function(){var e,t,n=this.O,i=this.xi&&n.provider.live;e=assert.u(this.hi)?n.playlist.config(this.hi+this.Ei):0===this.Ei?merge({},n.playlist.currentConfig,n.playlist.trackInfo):n.playlist.config(n.playlist.current+this.Ei),this.Ri||(this.Ti.title=e.title,this.Ti.html=e.title),i&&((t=0===this.Ei?n.program.currentProgram:-1===this.Ei?n.program.previousProgram:1===this.Ei&&n.program.nextProgram)?(this.Ii.text=t.start_local_formatted+"-"+t.end_local_formatted,this.Oi.text=t.description,this.Si.text=t.name):0===this.Ei?(this.Ii.text="",this.Oi.text="",this.Si.text=e.description):(this.Ii.text="",this.Oi.text="-",this.Si.text="-")),this.xi||(this.Ii.text="",this.Oi.text="",this.Si.text=e.description),this.Pe.icon=e.thumbnail?e.thumbnail:n.provider.liveOriginal||e.live?"audio-broadcast":"audio-headphones"}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed track_info",this.onUpdate),this.on(this.root.element,"ui_updated",this.onUiUpdated),this.onUpdate()}}]),n}(),ConditionContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(i=t.call(this,e,null,r)).Ai=o,i.ge=!0,i}return _createClass(n,[{key:"isAvailableInDom",get:function(){return this.Ai(this.O)}}]),n}(),OverlayContainer=function(e){_inherits(n,BaseContainer);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,n);var s=new WrapperElement(e,"mow__overlay-container-content",o),a=new ButtonControl(e,null,{icon:"audio-close",label:"close",className:"mow__overlay-exit-control"},function(){i.toggle(!1)});return(i=t.call(this,e,["mow__overlay-container",e.config.classNames.helper.hidden].join(" "),r,[s,a])).onPlay=i.onPlay.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"toggle",value:function(e){toggleClass(this.element,this.O.config.classNames.helper.hidden,!e)}},{key:"onPlay",value:function(){this.toggle(!1)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.media.element,"play",this.onPlay)}}]),n}(),ExpandControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!0,label:"maximize",labelPressed:"collapse",icon:"audio-maximize",iconPressed:"audio-collapse",className:"mow__expand"},function(){e.layout=e.layout===e.config.layout?"audio_maximized":e.config.layout})).onUiUpdated=i.onUiUpdated.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onUiUpdated",value:function(){this.element.pressed="audio_maximized"===this.O.layout}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"ui_updated",this.onUiUpdated),this.onUiUpdated()}}]),n}(),ProgramInfoElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n);var o=new TextElement(e,"mow__track-info-title",null,i.name),s=new TextElement(e,"mow__track-info-description",null,i.description),a=new IconElement(e,i.thumbnail?i.thumbnail:"audio-broadcast","mow__track-info-thumbnail"),l=[new LayoutRow(e,[a,new LayoutColumn(e,[new WrapperElement(e,"mow__track-info-texts-wrapper",[o,s])],null,null,"mow__track-info-texts")],null,"center")];return(r=t.call(this,e,null,l)).be.class="mow__track-info",r}return n}(),ProgramItemElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n);var o=e.config.classNames.playlist,s=[new LayoutRow(e,[new WrapperElement(e,o.item_duration_wrapper,[new TextElement(e,o.duration,null,[i.start_local_formatted,i.end_local_formatted].join(" / ")),new TextElement(e,e.config.classNames.liveBadge,null,"live",i.live)]),new ProgramInfoElement(e,i)])];r=t.call(this,e,null,s);var a=[o.item,"mow__program-item"];return i.live&&a.push(o.item_active),r.be.class=a.join(" "),r}return n}(),ProgramElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,"program")).render=i.render.bind(_assertThisInitialized(i)),i.be.class=e.config.classNames.playlist.container,i}return _createClass(n,[{key:"render",value:function(){var e=this.O,t=e.program.todayPrograms,n=[];if(t.length){var i=e.config.classNames.playlist;t.forEach(function(t){n.push(new ProgramItemElement(e,t))}),this.we=[new WrapperElement(e,i.title_wrapper,[new TextElement(e,i.title,null,"program")]),new WrapperElement(e,i.item_wrapper,n)]}else this.we=[];this.destroy(),this.inject(this.de,this.ye),this.rebind()}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed ui_updated",this.render)}}]),n}(),ProgramControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio-program",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!0,label:"program",icon:r,className:e.config.classNames.helper.hidden},function(){i.root.getChild("program_overlay").toggle(!0)})).we=o,i.onUpdate=i.onUpdate.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onUpdate",value:function(){toggleClass(this.element,this.O.config.classNames.helper.hidden,0===this.O.program.todayPrograms.length)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed ui_updated",this.onUpdate)}}]),n}(),PlaylistControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio-playlist",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!0,label:"playlist",icon:r},function(){i.root.getChild("playlist_overlay").toggle(!0)})).we=o,i.W=e.playlist.length>1,i.onUpdate=i.onUpdate.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onUpdate",value:function(){var e=this.O;toggleClass(this.element,e.config.classNames.helper.hidden,0!==e.playlist.currentConfig.programs.length)}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed ui_updated",this.onUpdate)}}]),n}(),LayoutContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(i=t.call(this,e)).ct=null,i.Mi=r,i.ge=!0,i.onLayoutChange=i.onLayoutChange.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onLayoutChange",value:function(){var e=this.O,t=null,n=[];this.Mi.hasOwnProperty(e.layout)&&(t=e.layout,n=this.Mi[t]),t!==this.ct&&(this.root.unbind(),this.destroy(),toggleClass(this.root.element,e.config.classNames.layoutWrapper+"-"+this.ct,!1),toggleClass(this.root.element,e.config.classNames.layoutWrapper+"-"+t,!0),this.ct=t,t&&(this.we=n),this.inject(this.de,this.ye),this.root.bind(),e.trigger("layout_changed"),e.trigger("ui_updated"))}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"layout_change",this.onLayoutChange),this.onLayoutChange()}}]),n}(),ResponsiveContainer=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,n);var s={};return Object.keys(r).forEach(function(t){var n=[e.config.classNames.responsiveWrapper];o||(n[1]=e.config.classNames.responsiveWrapper+"-"+t),o&&(n[2]=o),s[t]=new WrapperElement(e,n.join(" "),r[t])}),(i=t.call(this,e)).Li=s,i.ct=null,i.ge=!0,i.onResize=i.onResize.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onResize",value:function(){var e=this.root.element.getBoundingClientRect().width,t=null,n=[1/0];Object.keys(this.Li).forEach(function(e){n.push(parseInt(e))}),n.sort(function(e,t){return e-t});for(var i=0;i<n.length-1;i++){var r=n[i],o=n[i+1];if(r<e&&e<=o&&this.Li.hasOwnProperty(r)){t=this.Li[r];break}}t!==this.ct&&(this.destroy(),this.ct=t,t&&(this.we=[t]),this.inject(this.de,this.ye),this.root.rebind(),this.O.trigger("ui_updated"))}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(window,"resize",this.onResize),this.on(this.root,"resize",this.onResize),this.onResize()}}]),n}(),MowAudioLiveUI=function(e){_inherits(n,BaseUI);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"buildTree",value:function(){var e=this,t=!1,n=this.O,i=new AdLayer(n),r=new MenuElement(n,["logo"],"context_menu","root"),o=new WrapperElement(n,"mow__settings-wrapper",[new MenuElement(n,null,"audio_menu","root"),new SettingsControl(n,n.playlist.length>1?"bottom":"left")]),s=new PlayControl(n,"play","audio-stop",function(){"default"===n.layout&&(n.playing||n.ads.manager.active)&&n.config.audio.sticky&&(n.layout="audio_maximized");var i=e.root.element.offsetWidth;!t&&i<700&&(t=!0,toggleClass(e.root.element,"mow__ad-visible",!0),setTimeout(function(){return toggleClass(e.root.element,"mow__ad-visible",!1)},5e3))},{labelPressed:"stop"}),a=[i,new LayoutRow(n,[new TrackInfoElement(n),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new CosmeticContainer(n,new VolumeControl(n),function(t){var n=e.root.element.offsetWidth<480;t.element.style.display=n?"none":null,t.element.parentElement&&(t.element.parentElement.style.minWidth=n?"auto":null)})])]),new LayoutRow(n,[s],"center"),new CosmeticContainer(n,new LayoutRow(n,[o],"right"),function(t){var n=e.root.element.offsetWidth;browser.U||(t.element.style.flexShrink=n<700?"2":"1")})])])])])],l={default:[i,new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),new LayoutRow(n,[new TrackInfoElement(n),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new CosmeticContainer(n,new VolumeControl(n),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<=550)})])]),new LayoutRow(n,[s],"center"),new LayoutRow(n,[o,new ExpandControl(n)],"right")])])])])],audio_maximized:[new OverlayContainer(n,"program_overlay",[new ProgramElement(n)]),new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),new ControlsContainer(n,[new LayoutColumn(n,[new LayoutRow(n,[new LayoutColumn(n,[new CosmeticContainer(n,new TrackInfoElement(n,0,new ConditionContainer(n,[new WrapperElement(n,"mow__playlist-info-container",[new LayoutRow(n,[new ConditionContainer(n,[new TrackInfoElement(n,-1,null,"previous",null,!0)],function(){return n.program.previousProgram&&n.program.previousProgram.today}),new ConditionContainer(n,[new TrackInfoElement(n,1,null,"next",null,!0)],function(){return n.program.nextProgram&&n.program.nextProgram.today}),new WrapperElement(n,"mow__playlist-control-wrapper",[new CosmeticContainer(n,new ProgramControl(n,"audio-program",[new TextElement(n,"mow__playlist-control-label",null,"program")]),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<950||0===n.program.todayPrograms.length)}),new PlaylistControl(n,"audio-playlist",[new TextElement(n,"mow__playlist-control-label",null,"playlist")])])])])],function(){var t=e.root.element.offsetWidth;return n.program.previousProgram&&n.program.previousProgram.today||n.program.nextProgram&&n.program.nextProgram.today||t>=950&&n.program.todayPrograms.length}),null,null,!0,"mow__current-track-info"),function(t){var n=e.root.element.offsetWidth,i=Math.min(Math.max(.15*n,55),165),r=Math.min(Math.max(.03*n,5),55);css(t.icon.element,{width:i+"px",height:i+"px",marginRight:r+"px"}),css(t.textWrapper.element,{maxWidth:"calc(100% - "+(i+r)+"px)"})})]),new CosmeticContainer(n,new WrapperElement(n,"mow__ad-container",[new WrapperElement(n,"mow__ad-container-inner",[new TextElement(n,"mow__ad-container-label",null,"advertisement"),i])]),function(){var t=e.root.element.offsetWidth;toggleClass(e.root.element,"mow__ad-container-overlay",t<700)})]),new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new VolumeControl(n)])]),new LayoutRow(n,[s],"center"),new LayoutRow(n,[new CosmeticContainer(n,new ProgramControl(n,"audio-program"),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i>=950||0===n.program.todayPrograms.length)}),o,new ConditionContainer(n,[new ExpandControl(n)],function(){return n.config.audio.live&&n.config.audio.sticky})],"right")])])])],audio_slim:[i,new WrapperElement(n,"mow__audio-no-playlist-wrapper",a)]};return new RootContainer(n,[r,new MediaElement(n),new ErrorElement(n),new KeyboardHintComponent(n),new LayoutContainer(n,{default:[new ResponsiveContainer(n,{0:[i,new OverlayElement(n,305,null,"overlay"),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[s,new TrackInfoElement(n,0,null,null,null,!1,"mow__current-track-mobile mow__layout-min-width-0")],null,"center","mow__layout-min-width-0"),new LayoutRow(n,[new MuteControl(n,"audio-volume","audio-muted"),new ExpandControl(n)],"right","center","mow__layout-w-auto")])],null,null,"mow__layout-min-width-0")])],500:l.default})],audio_maximized:[new ResponsiveContainer(n,{0:[new OverlayElement(n,305,255,"overlay"),new CosmeticContainer(n,new WrapperElement(n,"mow__ad-container",[new WrapperElement(n,"mow__ad-container-inner",[new TextElement(n,"mow__ad-container-label",null,"advertisement"),i])]),function(){var t=e.root.element.offsetWidth;toggleClass(e.root.element,"mow__ad-container-overlay",t<700)}),new OverlayContainer(n,"program_overlay",[new ProgramElement(n)]),new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),o,new LayoutColumn(n,[new TrackInfoElement(n,0,null,null,null,!1,"mow__current-track-info"),new ConditionContainer(n,[new WrapperElement(n,"mow__additional-track-infos",[new LayoutRow(n,[new TrackInfoElement(n,-1,null,"previous",null,!0),new TrackInfoElement(n,1,null,"next",null,!0)])])],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return n.program.todayPrograms.length>e}}(1)),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new MuteControl(n,"audio-volume","audio-muted")],null,"center"),new LayoutRow(n,[s],"center","center"),new LayoutRow(n,[new ProgramControl(n),new ConditionContainer(n,[new ExpandControl(n)],function(){return n.config.audio.live&&n.config.audio.sticky})],"right","center")])])])])],700:l.audio_maximized})],audio_slim:[new ResponsiveContainer(n,{0:[i,new ControlsContainer(n,[new LayoutRow(n,[new CosmeticContainer(n,new TrackInfoElement(n),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<200),toggleClass(t.Pe.element,n.config.classNames.helper.hidden,i<300),t.element.parentNode&&toggleClass(t.element.parentNode,"mow__only-play-button",i<200)}),new LayoutRow(n,[new CosmeticContainer(n,new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new VolumeControl(n)]),function(t){var i=e.root.element.offsetWidth,r=i<500;t.element.style.maxWidth=r?"90px":null,toggleClass(t.element,n.config.classNames.helper.hidden,i<200)}),new WrapperElement(n,"mow__play-wrapper",[s,new TextElement(n,n.config.classNames.liveBadge,null,"live")])],null,null,"mow__layout-min-width-0")],"space-between")])],500:a})]})])}}]),n}(),ShuffleControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shuffle";return _classCallCheck(this,n),(i=t.call(this,e,null,{toggle:!0,label:"shuffle",labelPressed:"shuffle_off",icon:r,iconPressed:r,className:"mow__control-shuffle"},function(){i.element.pressed=!i.element.pressed,e.playlist.shuffle=i.element.pressed})).W=e.playlist.media.length>1,i}return _createClass(n,[{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.element.pressed=this.O.playlist.shuffle}}]),n}(),RewindControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"seek-backward";return _classCallCheck(this,n),t.call(this,e,null,{toggle:!1,label:"seekBackward",icon:i,className:"mow__seek-control"},function(){e.rewind(10)})}return n}(),ForwardControl=function(e){_inherits(n,ButtonControl);var t=_createSuper(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"seek-forward";return _classCallCheck(this,n),t.call(this,e,null,{toggle:!1,label:"seekForward",icon:i,className:"mow__seek-control"},function(){e.forward(10)})}return n}(),VolumeElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Ce="0",i.be.class="mow__volume-value",i.onVolumeChange=i.onVolumeChange.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"onVolumeChange",value:function(){if(this.ke){var e=this.O,t=e.muted?0:e.volume;this.ke.innerText=Math.round(100*t)}}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.media.element,"volumechange",this.onVolumeChange),this.onVolumeChange()}}]),n}(),MowAudioPlaylistUI=function(e){_inherits(n,BaseUI);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"buildTree",value:function(){var e=this,t=!1,n=this.O,i=new AdLayer(n),r=new MenuElement(n,["logo"],"context_menu","root"),o=new PlaylistElement(n),s=new WrapperElement(n,"mow__settings-wrapper",[new MenuElement(n,null,"audio_menu","root"),new SettingsControl(n,n.playlist.length>1?"bottom":"left")]),a=new PlayControl(n,"play",n.config.audio.live?"audio-stop":"pause-thin",function(){"default"===n.layout&&(n.playing||n.ads.manager.active)&&n.config.audio.sticky&&(n.layout="audio_maximized");var i=e.root.element.offsetWidth;!t&&i<700&&(t=!0,toggleClass(e.root.element,"mow__ad-visible",!0),setTimeout(function(){return toggleClass(e.root.element,"mow__ad-visible",!1)},5e3))},{labelPressed:n.config.audio.live?"stop":"pause"}),l=[i,new LayoutRow(n,[new TrackInfoElement(n),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new CosmeticContainer(n,new VolumeControl(n),function(t){var n=e.root.element.offsetWidth<480;t.element.style.display=n?"none":null,t.element.parentElement&&(t.element.parentElement.style.minWidth=n?"auto":null)})])]),new LayoutRow(n,[new CosmeticContainer(n,new ShuffleControl(n,"audio-shuffle"),function(t){toggleClass(t.element,n.config.classNames.helper.hidden,e.root.element.offsetWidth<=550)}),new CosmeticContainer(n,new RewindControl(n,"audio-seek-backward"),function(t){toggleClass(t.element,n.config.classNames.helper.hidden,e.root.element.offsetWidth<=600)}),new PrevControl(n,"audio-previous"),a,new NextControl(n,"audio-next"),new CosmeticContainer(n,new ForwardControl(n,"audio-seek-forward"),function(t){toggleClass(t.element,n.config.classNames.helper.hidden,e.root.element.offsetWidth<=600)})],"center"),new CosmeticContainer(n,new LayoutRow(n,[s],"right"),function(t){var n=e.root.element.offsetWidth;browser.U||(t.element.style.flexShrink=n<700?"2":"1")})])])])]),new ConditionContainer(n,[new LayoutRow(n,[o])],function(){return n.playlist.length>1})],u={default:[i,new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),new LayoutRow(n,[new TrackInfoElement(n),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new CosmeticContainer(n,new VolumeControl(n),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<=550)})])]),new LayoutRow(n,[new ShuffleControl(n,"audio-shuffle"),new RewindControl(n,"audio-seek-backward"),new PrevControl(n,"audio-previous"),a,new NextControl(n,"audio-next"),new ForwardControl(n,"audio-seek-forward")],"center"),new LayoutRow(n,[s,new ExpandControl(n)],"right")])])])])],audio_maximized:[new OverlayContainer(n,"playlist_overlay",[o]),new OverlayContainer(n,"program_overlay",[new ProgramElement(n)]),new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),new ControlsContainer(n,[new LayoutColumn(n,[new LayoutRow(n,[new LayoutColumn(n,[new CosmeticContainer(n,new TrackInfoElement(n,0,new ConditionContainer(n,[new WrapperElement(n,"mow__playlist-info-container",[new LayoutRow(n,[new ConditionContainer(n,[new TrackInfoElement(n,-1,null,"previous",null,!0)],function(){return n.program.previousProgram&&n.program.previousProgram.today}),new ConditionContainer(n,[new TrackInfoElement(n,1,null,"next",null,!0)],function(){return n.program.nextProgram&&n.program.nextProgram.today}),new WrapperElement(n,"mow__playlist-control-wrapper",[new CosmeticContainer(n,new ProgramControl(n,"audio-program",[new TextElement(n,"mow__playlist-control-label",null,"program")]),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<950||0===n.program.todayPrograms.length)}),new PlaylistControl(n,"audio-playlist",[new TextElement(n,"mow__playlist-control-label",null,"playlist")])])])])],function(){var t=e.root.element.offsetWidth;return n.program.previousProgram&&n.program.previousProgram.today||n.program.nextProgram&&n.program.nextProgram.today||t>=950&&n.program.todayPrograms.length}),null,null,!0,"mow__current-track-info"),function(t){var n=e.root.element.offsetWidth,i=Math.min(Math.max(.15*n,55),165),r=Math.min(Math.max(.03*n,5),55);css(t.icon.element,{width:i+"px",height:i+"px",marginRight:r+"px"}),css(t.textWrapper.element,{maxWidth:"calc(100% - "+(i+r)+"px)"})})]),new CosmeticContainer(n,new WrapperElement(n,"mow__ad-container",[new WrapperElement(n,"mow__ad-container-inner",[new TextElement(n,"mow__ad-container-label",null,"advertisement"),i])]),function(){var t=e.root.element.offsetWidth;toggleClass(e.root.element,"mow__ad-container-overlay",t<700)})]),new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new VolumeControl(n)])]),new LayoutRow(n,[new ShuffleControl(n,"audio-shuffle"),new RewindControl(n,"audio-seek-backward"),new PrevControl(n,"audio-previous"),a,new NextControl(n,"audio-next"),new ForwardControl(n,"audio-seek-forward")],"center"),new LayoutRow(n,[new CosmeticContainer(n,new ProgramControl(n,"audio-program"),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i>=950||0===n.program.todayPrograms.length)}),s,new ConditionContainer(n,[new ExpandControl(n)],function(){return n.config.audio.live&&n.config.audio.sticky})],"right")])])])],audio_slim:[i,new ConditionContainer(n,[new WrapperElement(n,"mow__audio-no-playlist-wrapper",l)],function(){return 1===n.playlist.length}),new ConditionContainer(n,[new LayoutRow(n,[new ControlsContainer(n,[new TrackInfoElement(n),new ShuffleControl(n,"audio-shuffle"),new RewindControl(n,"audio-seek-backward"),new PrevControl(n,"audio-previous"),a,new NextControl(n,"audio-next"),new ForwardControl(n,"audio-seek-forward"),new WrapperElement(n,"mow__volume-container",[new MuteControl(n,"audio-volume","audio-muted"),new WrapperElement(n,"mow__volume-wrapper",[new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new VolumeControl(n),new VolumeElement(n)])])]),new TimeBadge(n,"{c}","mow__current-time"),new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new TimeBadge(n,"{d}","mow__duration-time"),new TextElement(n,n.config.classNames.liveBadge,null,"live"),s])]),new LayoutRow(n,[o])],function(){return n.playlist.length>1})]};return new RootContainer(n,[r,new MediaElement(n),new ErrorElement(n),new KeyboardHintComponent(n),new LayoutContainer(n,{default:[new ResponsiveContainer(n,{0:[i,new OverlayElement(n,305,null,"overlay"),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[a,new TrackInfoElement(n,0,null,null,null,!1,"mow__current-track-mobile mow__layout-min-width-0")],null,"center","mow__layout-min-width-0"),new LayoutRow(n,[new MuteControl(n,"audio-volume","audio-muted"),new ExpandControl(n)],"right","center","mow__layout-w-auto")])],null,null,"mow__layout-min-width-0")])],500:u.default})],audio_maximized:[new ResponsiveContainer(n,{0:[new OverlayElement(n,305,255,"overlay"),new CosmeticContainer(n,new WrapperElement(n,"mow__ad-container",[new WrapperElement(n,"mow__ad-container-inner",[new TextElement(n,"mow__ad-container-label",null,"advertisement"),i])]),function(){var t=e.root.element.offsetWidth;toggleClass(e.root.element,"mow__ad-container-overlay",t<700)}),new OverlayContainer(n,"playlist_overlay",[o]),new OverlayContainer(n,"program_overlay",[new ProgramElement(n)]),new OverlayContainer(n,"sharing_overlay",[new ShareScreenElement(n)]),s,new LayoutColumn(n,[new TrackInfoElement(n,0,null,null,null,!1,"mow__current-track-info"),new ConditionContainer(n,[new WrapperElement(n,"mow__additional-track-infos",[new LayoutRow(n,[new TrackInfoElement(n,-1,null,"previous",null,!0),new TrackInfoElement(n,1,null,"next",null,!0)])])],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return n.program.todayPrograms.length>e}}(1)),new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between"),new LayoutRow(n,[new LayoutRow(n,[new MuteControl(n,"audio-volume","audio-muted")],null,"center"),new LayoutRow(n,[new PrevControl(n,"audio-previous"),a,new NextControl(n,"audio-next")],"center","center"),new LayoutRow(n,[new ProgramControl(n),new PlaylistControl(n),new ConditionContainer(n,[new ExpandControl(n)],function(){return n.config.audio.live&&n.config.audio.sticky})],"right","center")])])])])],700:u.audio_maximized})],audio_slim:[new ResponsiveContainer(n,{0:[i,new ControlsContainer(n,[new LayoutRow(n,[new CosmeticContainer(n,new TrackInfoElement(n),function(t){var i=e.root.element.offsetWidth;toggleClass(t.element,n.config.classNames.helper.hidden,i<200),toggleClass(t.Pe.element,n.config.classNames.helper.hidden,i<300),t.element.parentNode&&toggleClass(t.element.parentNode,"mow__only-play-button",i<200)}),new LayoutRow(n,[new CosmeticContainer(n,new VolumeContainer(n,[new MuteControl(n,"audio-volume","audio-muted"),new VolumeControl(n)]),function(t){var i=e.root.element.offsetWidth,r=i<500;t.element.style.maxWidth=r?"90px":null,toggleClass(t.element,n.config.classNames.helper.hidden,i<200)}),new WrapperElement(n,"mow__play-wrapper",[a,new TextElement(n,n.config.classNames.liveBadge,null,"live")])],null,null,"mow__layout-min-width-0")],"space-between")]),new ConditionContainer(n,[new LayoutRow(n,[o])],function(){return n.playlist.length>1})],500:l})],reader:[new LayoutRow(n,[a,new LoaderElement(n)],null,"center","mow__layout-min-width-0")]})])}}]),n}(),LogoInfoElement=function(e){_inherits(n,AbstractElement);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_classCallCheck(this,n);var c=new TextElement(e,"mow__track-info-title-text",null,s),h=new TextElement(e,"mow__track-info-title-schedule",null,s),d=new TextElement(e,"mow__track-info-description-main"),f=new TextElement(e,"mow__track-info-description-secondary"),m=new IconElement(e,e.provider.live?"audio-broadcast":defaults.mow_logo),p=[new WrapperElement(e,"mow__track-info-texts-wrapper",[new WrapperElement(e,"mow__track-info-title",[new AutoScrollContainer(e,[c],3),h]),new WrapperElement(e,"mow__track-info-description",[new AutoScrollContainer(e,[d],3),f])])];o&&p.push(o);var _=new LayoutColumn(e,p,null,null,"mow__track-info-texts"),v=[new LayoutRow(e,[m,_],null,"center")];c.applyTitle=!0,d.applyTitle=!0;var y=["mow__track-info"];return u&&y.push(u),(i=t.call(this,e,null,v)).Ei=r,i.hi=a,i.Ti=c,i.Pi=_,i.Ii=h,i.Si=d,i.Oi=f,i.Pe=m,i.Ri=s,i.be.class=y.join(" "),i.xi=l,i.onUpdate=i.onUpdate.bind(_assertThisInitialized(i)),i.onUiUpdated=i.onUiUpdated.bind(_assertThisInitialized(i)),i}return _createClass(n,[{key:"icon",get:function(){return this.Pe}},{key:"textWrapper",get:function(){return this.Pi}},{key:"onUiUpdated",value:function(){setTimeout(this.onUpdate,0)}},{key:"onUpdate",value:function(){var e,t,n=this.O,i=this.xi&&n.provider.live;e=assert.u(this.hi)?n.playlist.config(this.hi+this.Ei):0===this.Ei?merge({},n.playlist.currentConfig,n.playlist.trackInfo):n.playlist.config(n.playlist.current+this.Ei),this.Ri||(this.Ti.title=e.title,this.Ti.html=e.title),i&&((t=0===this.Ei?n.program.currentProgram:-1===this.Ei?n.program.previousProgram:1===this.Ei&&n.program.nextProgram)?(this.Ii.text=t.start_local_formatted+"-"+t.end_local_formatted,this.Oi.text=t.description,this.Si.text=t.name):0===this.Ei?(this.Ii.text="",this.Oi.text="",this.Si.text=e.description):(this.Ii.text="",this.Oi.text="-",this.Si.text="-")),this.xi||(this.Ii.text="",this.Oi.text="",this.Si.text=e.description),this.Pe.icon=e.thumbnail?e.thumbnail:n.provider.liveOriginal||e.live?"audio-broadcast":defaults.mow_logo}},{key:"bind",value:function(){_get(_getPrototypeOf(n.prototype),"bind",this).call(this),this.on(this.root.element,"track_changed track_info",this.onUpdate),this.on(this.root.element,"ui_updated",this.onUiUpdated),this.onUpdate()}}]),n}(),AudioReaderFlashText=function(e){_inherits(n,TextElement);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,"flash_text",{toggle:!1,label:"flash_text",icon:"flash_text",className:"mow_audio_reader_flash_text"})}return _createClass(n,[{key:"build",value:function(){var e=createElement("DIV",this.attributes);return e.setAttribute("id","audio-sticky-text"),e}}]),n}(),MowAudioReaderUI=function(e){_inherits(n,BaseUI);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"buildTree",value:function(){var e=this,t=!1,n=this.O,i=new AdLayer(n),r=new MenuElement(n,["logo"],"context_menu","root"),o=(new PlaylistElement(n),new WrapperElement(n,"mow__settings-wrapper",[new MenuElement(n,null,"audio_menu","root"),new SettingsControl(n,"left")]),new PlayControl(n,"play",n.config.audio.live?"audio-stop":"pause-thin",function(){var n=e.root.element.offsetWidth;!t&&n<700&&(t=!0,toggleClass(e.root.element,"mow__ad-visible",!0),setTimeout(function(){return toggleClass(e.root.element,"mow__ad-visible",!1)},5e3))},{labelPressed:n.config.audio.live?"stop":"pause"})),s=[i,new LayoutRow(n,[o,new LayoutRow(n,[new CosmeticContainer(n,new RewindControl(n,"audio-seek-backward"),function(e){toggleClass(e.element,!0)}),new PrevControl(n,"audio-previous"),new NextControl(n,"audio-next"),new CosmeticContainer(n,new ForwardControl(n,"audio-seek-forward"),function(e){toggleClass(e.element,!0)})],null,"audioreader_row"),new LayoutRow(n,[new TextElement(n,"",null,"audio_reader_text")],null,"audio_reader_initial_text"),new LayoutRow(n,[new ControlsContainer(n,[new LayoutColumn(n,[new ProgressContainer(n,[new SeekControl(n),new ProgressControl(n)]),new LayoutRow(n,[new TimeBadge(n,"{c}"),new TimeBadge(n,"{d}"),new TextElement(n,n.config.classNames.liveBadge,null,"live")],"space-between")])])],null,null,"control-row-audio-reader"),new LayoutRow(n,[new LogoElement(n,[],!0)],null,"audio_logo")],null,"audio-reader")],a={audio_slim:[i,new ConditionContainer(n,[new WrapperElement(n,"mow__audio-no-playlist-wrapper",s)],function(){return 1===n.playlist.length})]};return new RootContainer(n,[r,new MediaElement(n),new AudioReaderFlashText(n),new ErrorElement(n),new KeyboardHintComponent(n),new LayoutContainer(n,{audio_slim:[new ResponsiveContainer(n,{0:a.audio_slim},"audio-reader-responsive-c")],reader:[new LayoutRow(n,[o,new LoaderElement(n)],null,"center","mow__layout-min-width-0")]})])}}]),n}(),Mowplayer=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(_classCallCheck(this,e),this.ready=!1,this.loading=!1,this.isInIframe=isIframe(),this.touch="ontouchstart"in globals.i.documentElement,r&&(i.code=r),"object"!==_typeof(i.media)&&(i.media={}),assert.m(t)&&(t=globals.i.querySelectorAll(t)),(assert.k(t)||assert.C(t))&&(t=t[0]),t.classList.add("mowplayer"),t.classList.add("mowplayer-container"),t.classList.add("mowplayer-container"),this.type=types.simple,Object.keys(types).forEach(function(e){assert.l(i[e])&&(n.type=e)}),assert.l(i.media)&&(i.media=[i.media]),assert.S(i.media)&&(i.media=[{file:!1}]),console.log("OPTIONS",i),i.media.length&&assert.m(i.media[0].file)){var o=i.media[0].file.match(/\.([0-9a-z]+)$/i);switch(o?o[1]:null){case"m3u8":i.provider="hls";break;case"mp3":case"mp4":case"aac":i.provider="html5"}}if(this.config=merge({},defaults,typeDefaults,i),this.options=i,this.type in typeConfig&&(this.config=merge({},this.config,typeConfig[this.type].call(this,this.config))),this.ji=this.config.layout,this.type!==types.audio||i.layout||(this.config.media.length>1||!this.config.audio.live?this.ji="audio_slim":!this.config.audio.live||this.config.audio.sticky&&!this.isInIframe||(this.ji="audio_maximized")),this.debug=new Debug(this),this.debug.log("Config",this.config),!assert.s(t)&&assert.T(t))if(t.mowplayer)this.debug.error(203);else{switch(this.config.provider){case"hls":this.provider=new HlsProvider(this);break;case"tts":this.provider=new TTSProvider(this);break;case"html5":default:this.provider=new Html5Provider(this)}if(window.mowCssInjected||this.isInIframe||(window.mowCssInjected=!0,loadCss("https://cdn.mowplayer.com/dist/ui/css/mowplayer.css")),this.theme=new Theme(this),this.storage=new StorageModule,!this.isVideo||this.isPlaylist||this.isVideoArticle?this.isVideo&&this.isPlaylist?(console.log("This is video playlist UI"),this.ui=new MowVideoPlaylistUI(this)):this.isVideo&&this.isVideoArticle?(console.log("This is video article UI"),this.ui=new MowVideoPlaylistUI(this)):this.config.audio&&this.config.audio.live?(console.log("This is audio live UI"),this.ui=new MowAudioLiveUI(this)):this.isReader?(console.log("This is audio audio reader UI"),this.ui=new MowAudioReaderUI(this)):(console.log("This is audio playlist and audio UI"),this.ui=new MowAudioPlaylistUI(this)):(console.log("This is simple UI"),this.ui=new MowSimpleUI(this)),this.fullscreen=new Fullscreen(this),this.sticky=new Sticky(this),this.visibilityObserver=new VisibilityObserver(this),this.tracking=new Tracking(this),this.ads=new Ads(this),this.playlist=new Playlist(this),this.program=new Program(this),this.ui.build(t),this.visibilityObserver.inject(),this.iframe=new IframeModule(this),this.isInIframe&&this.iframe.bind(),this.isInIframe||!this.isVideo&&!this.isReader||this.sticky.inject(),t.mowplayer=this,this.target=t,this.config.debug&&this.on(this.config.events.join(" "),function(e){n.debug.log("event: ".concat(e.type))}),this.zi=null,this.te=!1,this.type in behaviour&&behaviour[this.type].call(this,this),assert.C(this.config.allowed_domains)){var s=window.location.hostname;if(isIframe()){var a=refererUrl().match(/^https?\:\/\/([^\/:?#]+)(?:[\/:?#]|$)/i);s=(s=a&&a[1]).replace(/^www\./,"")}-1===this.config.allowed_domains.indexOf(s)&&-1===this.config.allowed_domains.indexOf("www."+s)||this.ads.inject()}else this.ads.inject();assert.I(this.config.tracking.url)&&this.tracking.inject(),this.volume=this.config.volume,this.playlist.play(0,this.config.autoplay),browser.U&&this.config.autoplay}else this.debug.error(201)}return _createClass(e,[{key:"media",get:function(){return this.ui.media.element}},{key:"container",get:function(){return this.ui.root.element}},{key:"isHTML5",get:function(){return this.provider.code===providers.html5}},{key:"isVideo",get:function(){return this.isSimpleVideo||this.isVideoArticle||this.isPlaylist||this.isPosition}},{key:"isSimpleVideo",get:function(){return this.type===types.simple}},{key:"isVideoArticle",get:function(){return this.type===types.video_article}},{key:"isPlaylist",get:function(){return this.type===types.playlist}},{key:"isReader",get:function(){return void 0!==this.config.audio.reader&&void 0!==this.config.audio.reader.id}},{key:"isAudio",get:function(){return this.type===types.audio}},{key:"isPosition",get:function(){return this.type===types.position}},{key:"createResizeObserver",value:function(e){return new index(e)}},{key:"play",value:function(){var e=this,t=function(){e.trigger("play_requested"),e.provider.play()};browser.U&&t(),this.ads.playAds().then(function(){browser.U&&e.pause()}).catch(function(){browser.U||t()})}},{key:"pause",value:function(){this.playing&&this.provider.pause()}},{key:"playing",get:function(){return this.ready&&!this.paused&&!this.ended}},{key:"paused",get:function(){return this.provider.paused}},{key:"stopped",get:function(){return this.paused&&0===this.currentTime}},{key:"started",get:function(){return this.currentTime>0}},{key:"ended",get:function(){return this.provider.ended}},{key:"layout",get:function(){return this.ji},set:function(e){this.ji=e,this.trigger("layout_change")}},{key:"togglePlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(assert.p(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.pause(),this.restart()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(assert.u(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(assert.u(e)?e:this.config.seekTime)}},{key:"currentTime",get:function(){if(this.ads.manager.active){var e=this.ads.manager.currentTime;if(assert.u(e))return e}return this.provider.currentTime},set:function(e){this.provider.currentTime=assert.u(e)&&e>0?e:0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},{key:"buffered",get:function(){var e=this.provider.buffered;return assert.u(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return this.provider.seeking}},{key:"duration",get:function(){if(this.ads.manager.visible){var e=this.ads.manager.duration;if(assert.u(e))return e}var t=this.provider.duration;return assert.u(t)&&t!==1/0?t:0}},{key:"volume",get:function(){return Number(this.provider.volume)},set:function(e){var t=e;assert.m(t)&&(t=Number(t)),assert.u(t)||(t=this.config.volume),t=Math.max(Math.min(t,1),0),this.config.volume=t,this.provider.volume=t,this.muted&&t>0&&(this.muted=!1)}},{key:"increaseVolume",value:function(e){var t=this.provider.muted?0:this.volume;this.volume=t+(assert.u(e)?e:0)}},{key:"getElements",value:function(e){return this.container.querySelectorAll(e)}},{key:"i18n",value:function(e){if(assert.S(e))return"";var t=(this.config.i18n.hasOwnProperty(this.language)?this.config.i18n[this.language]:this.config.i18n[this.config.language.fallback])[e];return assert.m(t)?t:e}},{key:"language",get:function(){var e=this.storage.read("language",this.config.language.current);if(assert.S(e)){var t=navigator.language||navigator.userLanguage;e=assert.m(t)?t.length>2?t.substring(0,2):t:this.config.language.fallback}return e},set:function(e){this.storage.write("language",e),this.ui.root.onLanguageSwitch()}},{key:"muted",get:function(){return this.provider.muted},set:function(e){var t=e;assert.p(t)||(t=this.config.mute),this.config.mute=t,this.provider.muted=t}},{key:"poster",get:function(){return this.isVideo?this.media.getAttribute("poster"):null},set:function(e){this.isVideo?this.ui.poster&&this.ui.poster.setPoster(e,!1).catch(noop):this.debug.warn(101)}},{key:"autoplay",get:function(){return this.config.autoplay},set:function(e){this.config.autoplay=assert.p(e)?e:this.config.autoplay}},{key:"originUrl",get:function(){return this.config.origin_url||refererUrl()},set:function(e){this.config.origin_url=e}},{key:"isAmp",get:function(){return this.config.is_amp},set:function(e){this.config.is_amp=e;var t=this.ui.root;toggleClass(t.element,"mw-amp",e),toggleClass(t.element,"mw-iframe",!1),toggleClass(t.element,"mw-script",!1)}},{key:"on",value:function(e,t){this.ui.root.live(e,t)}},{key:"once",value:function(e,t){this.ui.root.once(this.ui.root.element,e,t)}},{key:"off",value:function(e,t){this.ui.root.die(e,t)}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.ui.root.trigger(e,t)}},{key:"setReceptivity",value:function(e){this.config.receptivityRange=e}},{key:"destroy",value:function(){this.pause(),this.ui.root.unbind(),delete this.target.mowplayer,removeElement(this.ui.root.element)}},{key:"iframeVisibility",value:function(e,t,n){if(this.ready){var i=e<t+n*this.config.sticky.breakpoint;this.zi!==i&&(i?(this.ads.manager.resume(),this.te&&this.play()):(this.te=!1,this.playing&&(this.te=!0,this.ads.manager.pause(),this.pause())),this.zi=i)}}}],[{key:"standalone",value:function(){var t=new URL(globals.i.location).searchParams.get("code");if(t){var n=generateId("m".concat(t));globals.i.body.insertAdjacentHTML("beforeend",'<div id="'.concat(n,'"></div>')),xhr("https://mowplayer.com/media/config/{%code%}".replace("{%code%}",t),"GET",null,"text",{"Content-type":"application/x-www-form-urlencoded","mow-referer":refererUrl()}).then(function(i){new e(document.getElementById(n),merge(i,{code:t}))}).catch(function(e){console.error(e)})}}}]),e}();return Mowplayer});